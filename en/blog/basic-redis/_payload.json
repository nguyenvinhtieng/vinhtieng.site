[{"data":1,"prerenderedAt":1316},["ShallowReactive",2],{"blog-basic-redis":3,"search":234,"related-posts-basic-redis":446,"all-post":447},{"id":4,"title":5,"body":6,"date":222,"description":223,"extension":224,"image":225,"meta":226,"navigation":227,"path":228,"published":227,"seo":229,"stem":230,"tags":231,"__hash__":233},"blog/blog/basic-redis.md","C∆° B·∫£n V·ªÅ Redis v√† T√≠ch H·ª£p V·ªõi Node.js",{"type":7,"value":8,"toc":206},"minimal",[9,15,18,21,34,37,42,45,50,53,57,61,64,67,71,74,77,81,84,87,91,94,97,101,104,107,110,113,116,119,123,126,130,133,136,139,143,151,154,158,161,164,168,171,174,178,181,186,190],[10,11,12],"p",{},[13,14,5],"strong",{},[10,16,17],{},"Redis l√† m·ªôt kho d·ªØ li·ªáu key-value trong b·ªô nh·ªõ, m√£ ngu·ªìn m·ªü, n·ªïi ti·∫øng v·ªõi hi·ªáu su·∫•t v√† t√≠nh linh ho·∫°t. Redis h·ªó tr·ª£ nhi·ªÅu ki·ªÉu d·ªØ li·ªáu, ph√π h·ª£p cho vi·ªác s·ª≠ d·ª•ng b·ªô nh·ªõ ƒë·ªám, ·ª©ng d·ª•ng th·ªùi gian th·ª±c, h·ªá th·ªëng pub/sub, v√† nhi·ªÅu h∆°n n·ªØa.",[10,19,20],{},"Trong h∆∞·ªõng d·∫´n n√†y, ch√∫ng ta s·∫Ω t√¨m hi·ªÉu:",[22,23,24,28,31],"ul",{},[25,26,27],"li",{},"C√°c ki·ªÉu d·ªØ li·ªáu trong Redis",[25,29,30],{},"C√°c l·ªánh ph·ªï bi·∫øn c·ªßa Redis",[25,32,33],{},"C√°ch t√≠ch h·ª£p Redis v√†o d·ª± √°n Node.js",[35,36],"hr",{},[38,39,41],"h1",{"id":40},"c√°c-ki·ªÉu-d·ªØ-li·ªáu-l·ªánh-redis","üì¶ C√°c Ki·ªÉu D·ªØ Li·ªáu & L·ªánh Redis",[10,43,44],{},"Redis h·ªó tr·ª£ nhi·ªÅu c·∫•u tr√∫c d·ªØ li·ªáu kh√°c nhau:",[46,47,49],"h2",{"id":48},"_1-chu·ªói-strings","1. Chu·ªói (Strings)",[10,51,52],{},"Chu·ªói l√† ki·ªÉu d·ªØ li·ªáu c∆° b·∫£n nh·∫•t trong Redis. B·∫°n c√≥ th·ªÉ l∆∞u tr·ªØ b·∫•t k·ª≥ gi√° tr·ªã n√†o d∆∞·ªõi d·∫°ng chu·ªói, bao g·ªìm c·∫£ s·ªë nguy√™n v√† JSON ƒë∆∞·ª£c tu·∫ßn t·ª± h√≥a.",[54,55],"code-block",{":files":56},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"SET name \\\"Jay\\\"\\nGET name\\nINCR counter\\n\"}]",[46,58,60],{"id":59},"_2-danh-s√°ch-lists","2. Danh s√°ch (Lists)",[10,62,63],{},"Danh s√°ch l√† c√°c t·∫≠p h·ª£p c√≥ th·ª© t·ª± c·ªßa chu·ªói. B·∫°n c√≥ th·ªÉ th√™m ph·∫ßn t·ª≠ v√†o ƒë·∫ßu ho·∫∑c cu·ªëi danh s√°ch.",[54,65],{":files":66},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"LPUSH mylist \\\"apple\\\"\\nRPUSH mylist \\\"banana\\\"\\nLRANGE mylist 0 -1\\n\"}]",[46,68,70],{"id":69},"_3-t·∫≠p-h·ª£p-sets","3. T·∫≠p h·ª£p (Sets)",[10,72,73],{},"T·∫≠p h·ª£p l√† c√°c t·∫≠p h·ª£p kh√¥ng c√≥ th·ª© t·ª± c·ªßa c√°c chu·ªói duy nh·∫•t. Ch√∫ng h·ªó tr·ª£ c√°c ph√©p to√°n nh∆∞ h·ª£p, giao, v√† hi·ªáu.",[54,75],{":files":76},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"SADD myset \\\"apple\\\"\\nSADD myset \\\"banana\\\"\\nSADD myset \\\"apple\\\" # Tr√πng l·∫∑p, s·∫Ω kh√¥ng ƒë∆∞·ª£c th√™m\\nSMEMBERS myset\\n\"}]",[46,78,80],{"id":79},"_4-bƒÉm-hashes","4. BƒÉm (Hashes)",[10,82,83],{},"BƒÉm l√† c√°c b·∫£n ƒë·ªì gi·ªØa tr∆∞·ªùng chu·ªói v√† gi√° tr·ªã chu·ªói, r·∫•t l√Ω t∆∞·ªüng ƒë·ªÉ bi·ªÉu di·ªÖn c√°c ƒë·ªëi t∆∞·ª£ng.",[54,85],{":files":86},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"HSET user:1000 name \\\"Jay\\\" age 30\\nHGETALL user:1000\\n\"}]",[46,88,90],{"id":89},"_5-t·∫≠p-h·ª£p-c√≥-th·ª©-t·ª±-sorted-sets","5. T·∫≠p h·ª£p c√≥ th·ª© t·ª± (Sorted Sets)",[10,92,93],{},"T·∫≠p h·ª£p c√≥ th·ª© t·ª± t∆∞∆°ng t·ª± nh∆∞ t·∫≠p h·ª£p nh∆∞ng c√≥ m·ªôt ƒëi·ªÉm s·ªë li√™n k·∫øt v·ªõi m·ªói ph·∫ßn t·ª≠, cho ph√©p truy xu·∫•t theo th·ª© t·ª±.",[54,95],{":files":96},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"ZADD mysortedset 1 \\\"apple\\\"\\nZADD mysortedset 2 \\\"banana\\\"\\nZRANGE mysortedset 0 -1\\n\"}]",[46,98,100],{"id":99},"_6-bitmaps-hyperloglogs-streams","6. Bitmaps, HyperLogLogs, Streams",[10,102,103],{},"ƒê√¢y l√† c√°c c·∫•u tr√∫c n√¢ng cao h∆°n:\nBitmaps ƒë∆∞·ª£c s·ª≠ d·ª•ng cho c√°c thao t√°c c·∫•p bit, cho ph√©p b·∫°n thao t√°c c√°c bit ri√™ng l·∫ª trong m·ªôt chu·ªói.",[54,105],{":files":106},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"SETBIT mybitmap 0 1\\nSETBIT mybitmap 1 1\\nBITCOUNT mybitmap\\n\"}]",[10,108,109],{},"HyperLogLogs ƒë∆∞·ª£c s·ª≠ d·ª•ng ƒë·ªÉ ∆∞·ªõc t√≠nh s·ªë l∆∞·ª£ng ph·∫ßn t·ª≠ duy nh·∫•t trong m·ªôt t·∫≠p h·ª£p, r·∫•t h·ªØu √≠ch cho c√°c tr∆∞·ªùng h·ª£p nh∆∞ theo d√µi s·ªë l∆∞·ª£ng kh√°ch truy c·∫≠p duy nh·∫•t.",[54,111],{":files":112},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"PFADD myhll \\\"apple\\\" \\\"banana\\\" \\\"orange\\\"\\nPFCOUNT myhll\\n\"}]",[10,114,115],{},"Streams ƒë∆∞·ª£c thi·∫øt k·∫ø cho c√°c ƒë∆∞·ªùng d·∫´n d·ªØ li·ªáu th·ªùi gian th·ª±c v√† ngu·ªìn s·ª± ki·ªán, cho ph√©p b·∫°n th√™m v√† truy v·∫•n d·ªØ li·ªáu theo chu·ªói th·ªùi gian.",[54,117],{":files":118},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"XADD mystream * name \\\"Jay\\\" age 30\\nXRANGE mystream - +\\n\"}]",[38,120,122],{"id":121},"t√≠ch-h·ª£p-redis-v·ªõi-nodejs","üîß T√≠ch H·ª£p Redis V·ªõi Node.js",[10,124,125],{},"B·∫°n c√≥ th·ªÉ s·ª≠ d·ª•ng th∆∞ vi·ªán ioredis ho·∫∑c redis client ph·ªï bi·∫øn. D∆∞·ªõi ƒë√¢y l√† m·ªôt v√≠ d·ª• v·ªõi ioredis.",[46,127,129],{"id":128},"_1-c√†i-ƒë·∫∑t-redis-v√†-ioredis","1. C√†i ƒê·∫∑t Redis v√† ioredis",[54,131],{":files":132},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"npm install ioredis\\n# ho·∫∑c\\nyarn add ioredis\\n\"}]",[10,134,135],{},"ƒê·∫£m b·∫£o r·∫±ng b·∫°n ƒë√£ c√†i ƒë·∫∑t v√† ch·∫°y Redis. B·∫°n c√≥ th·ªÉ s·ª≠ d·ª•ng Docker ƒë·ªÉ ch·∫°y Redis m·ªôt c√°ch d·ªÖ d√†ng:",[54,137],{":files":138},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"docker run -d -p 6379:6379 redis\\n\"}]",[46,140,142],{"id":141},"_2-thi·∫øt-l·∫≠p-c∆°-b·∫£n","2. Thi·∫øt L·∫≠p C∆° B·∫£n",[10,144,145,146,150],{},"T·∫°o m·ªôt t·ªáp c√≥ t√™n ",[147,148,149],"code",{},"redis.js"," v√† th√™m ƒëo·∫°n m√£ sau:",[54,152],{":files":153},"[{\"title\":\"redis.js\",\"language\":\"javascript\",\"content\":\"// redis.ts\\nimport Redis from 'ioredis';\\n\\nconst redis = new Redis({\\n  host: '127.0.0.1',\\n  port: 6379,\\n  // password: 'm·∫≠t_kh·∫©u_n·∫øu_c√≥'\\n});\\n\\nexport default redis;\\n\"}]",[46,155,157],{"id":156},"_3-s·ª≠-d·ª•ng-redis-trong-·ª©ng-d·ª•ng","3. S·ª≠ D·ª•ng Redis Trong ·ª®ng D·ª•ng",[10,159,160],{},"B√¢y gi·ªù b·∫°n c√≥ th·ªÉ s·ª≠ d·ª•ng Redis trong ·ª©ng d·ª•ng c·ªßa m√¨nh. D∆∞·ªõi ƒë√¢y l√† m·ªôt v√≠ d·ª• v·ªÅ vi·ªác thi·∫øt l·∫≠p v√† l·∫•y gi√° tr·ªã:",[54,162],{":files":163},"[{\"title\":\"example.js\",\"language\":\"javascript\",\"content\":\"// example.ts\\nimport redis from './redis';\\n\\n// Chu·ªói\\nawait redis.set('greeting', 'Hello Redis');\\nconst greeting = await redis.get('greeting');\\nconsole.log(greeting); // Hello Redis\\n\\n// Danh s√°ch\\nawait redis.lpush('queue', 'task1');\\nconst task = await redis.rpop('queue');\\nconsole.log(task); // task1\\n\\n// BƒÉm\\nawait redis.hset('user:1', { name: 'Jay', role: 'admin' });\\nconst user = await redis.hgetall('user:1');\\nconsole.log(user); // { name: 'Jay', role: 'admin' }\\n\\n// T·∫≠p h·ª£p c√≥ th·ª© t·ª±\\nawait redis.zadd('scores', 100, 'Jay');\\nconst scores = await redis.zrange('scores', 0, -1, 'WITHSCORES');\\nconsole.log(scores);\\n\\n// Pub/Sub\\nredis.subscribe('news');\\nredis.on('message', (channel, message) => {\\n  console.log(`Nh·∫≠n tin nh·∫Øn t·ª´ ${channel}: ${message}`);\\n});\\n\\nconst publisher = new Redis();\\npublisher.publish('news', 'Tin n√≥ng!');\\n\"}]",[46,165,167],{"id":166},"_4-v√≠-d·ª•-v·ªÅ-b·ªô-nh·ªõ-ƒë·ªám","4. V√≠ D·ª• V·ªÅ B·ªô Nh·ªõ ƒê·ªám",[10,169,170],{},"B·∫°n c√≥ th·ªÉ s·ª≠ d·ª•ng Redis l√†m b·ªô nh·ªõ ƒë·ªám ƒë·ªÉ l∆∞u tr·ªØ d·ªØ li·ªáu ƒë∆∞·ª£c truy c·∫≠p th∆∞·ªùng xuy√™n. D∆∞·ªõi ƒë√¢y l√† m·ªôt v√≠ d·ª• v·ªÅ vi·ªác l∆∞u tr·ªØ k·∫øt qu·∫£ truy v·∫•n c∆° s·ªü d·ªØ li·ªáu v√†o b·ªô nh·ªõ ƒë·ªám:",[54,172],{":files":173},"[{\"title\":\"cache.js\",\"language\":\"javascript\",\"content\":\"import redis from './redis';\\n\\nasync function getUserData(userId) {\\n  const cacheKey = `user:${userId}`;\\n  const cachedData = await redis.get(cacheKey);\\n\\n  if (cachedData) {\\n    return JSON.parse(cachedData);\\n  }\\n\\n  // M√¥ ph·ªèng truy v·∫•n c∆° s·ªü d·ªØ li·ªáu\\n  const userData = await queryDatabase(userId);\\n  await redis.set(cacheKey, JSON.stringify(userData), 'EX', 3600); // L∆∞u v√†o b·ªô nh·ªõ ƒë·ªám trong 1 gi·ªù\\n  return userData;\\n}\\n\\nasync function queryDatabase(userId) {\\n  // M√¥ ph·ªèng truy v·∫•n c∆° s·ªü d·ªØ li·ªáu\\n  return { id: userId, name: 'Jay', age: 30 };\\n}\\n\"}]",[46,175,177],{"id":176},"_5-k·∫øt-lu·∫≠n","5. K·∫øt Lu·∫≠n",[10,179,180],{},"Redis l√† m·ªôt c√¥ng c·ª• m·∫°nh m·∫Ω cho b·ªô nh·ªõ ƒë·ªám v√† c√°c ·ª©ng d·ª•ng th·ªùi gian th·ª±c. B·∫±ng c√°ch t√≠ch h·ª£p Redis v√†o c√°c d·ª± √°n Node.js, b·∫°n c√≥ th·ªÉ c·∫£i thi·ªán ƒë√°ng k·ªÉ hi·ªáu su·∫•t v√† kh·∫£ nƒÉng m·ªü r·ªông. H∆∞·ªõng d·∫´n n√†y ƒë√£ bao qu√°t c√°c kh√°i ni·ªám c∆° b·∫£n v·ªÅ ki·ªÉu d·ªØ li·ªáu, l·ªánh, v√† c√°ch s·ª≠ d·ª•ng Redis trong ·ª©ng d·ª•ng Node.js.\nH√£y kh√°m ph√° th√™m c√°c t√≠nh nƒÉng n√¢ng cao nh∆∞ giao d·ªãch, scripting Lua, v√† clustering khi b·∫°n ƒë√£ quen thu·ªôc h∆°n v·ªõi Redis.\nRedis l√† m·ªôt c√¥ng c·ª• ƒëa nƒÉng c√≥ th·ªÉ n√¢ng cao ƒë√°ng k·ªÉ ·ª©ng d·ª•ng c·ªßa b·∫°n.",[10,182,183],{},[13,184,185],{},"Happy Coding",[46,187,189],{"id":188},"_6-t√†i-nguy√™n-tham-kh·∫£o","6. T√†i Nguy√™n Tham Kh·∫£o",[22,191,192,200],{},[25,193,194],{},[195,196,199],"a",{"href":197,"target":198},"https://redis.io/documentation","_blank","T√†i li·ªáu Redis",[25,201,202],{},[195,203,205],{"href":204,"target":198},"https://github.com/redis/ioredis","T√†i li·ªáu ioredis",{"title":207,"searchDepth":208,"depth":208,"links":209},"",2,[210,211,212,213,214,215,216,217,218,219,220,221],{"id":48,"depth":208,"text":49},{"id":59,"depth":208,"text":60},{"id":69,"depth":208,"text":70},{"id":79,"depth":208,"text":80},{"id":89,"depth":208,"text":90},{"id":99,"depth":208,"text":100},{"id":128,"depth":208,"text":129},{"id":141,"depth":208,"text":142},{"id":156,"depth":208,"text":157},{"id":166,"depth":208,"text":167},{"id":176,"depth":208,"text":177},{"id":188,"depth":208,"text":189},"2025-04-25T00:00:00.000Z","T√¨m hi·ªÉu c√°c kh√°i ni·ªám c∆° b·∫£n v·ªÅ Redis bao g·ªìm c√°c ki·ªÉu d·ªØ li·ªáu v√† ph∆∞∆°ng th·ª©c, c≈©ng nh∆∞ c√°ch t√≠ch h·ª£p Redis v√†o ·ª©ng d·ª•ng Node.js ƒë·ªÉ s·ª≠ d·ª•ng b·ªô nh·ªõ ƒë·ªám v√† c√°c t√≠nh nƒÉng th·ªùi gian th·ª±c.","md","/images/blog/basic-redis/banner.png",{},true,"/blog/basic-redis",{"title":5,"description":223},"blog/basic-redis",[232],"redis","5dkXuSwFTdEtvNjkeWS4YudML58pO813zMRKUs91G4E",[235,241,246,251,256,261,266,271,276,281,286,291,296,301,306,311,316,321,326,330,333,336,339,342,345,348,351,355,358,361,365,368,371,375,379,384,389,394,399,404,409,414,419,424,427,430,433,436,439,442],{"id":236,"title":237,"titles":238,"content":239,"level":240},"/blog/ansible","T·ªïng quan v√† c·∫•u h√¨nh Ansible",[],"H∆∞·ªõng d·∫´n chi ti·∫øt v·ªÅ c√†i ƒë·∫∑t, c·∫•u h√¨nh SSH, inventory v√† s·ª≠ d·ª•ng Playbook trong Ansible. H∆∞·ªõng d·∫´n chi ti·∫øt v·ªÅ c√†i ƒë·∫∑t v√† tri·ªÉn khai Ansible Ansible l√† m·ªôt c√¥ng c·ª• t·ª± ƒë·ªông h√≥a m·∫°nh m·∫Ω, gi√∫p qu·∫£n l√Ω c·∫•u h√¨nh, tri·ªÉn khai ·ª©ng d·ª•ng v√† ƒëi·ªÅu ph·ªëi h·ªá th·ªëng m·ªôt c√°ch d·ªÖ d√†ng. Trong b√†i vi·∫øt n√†y, ch√∫ng ta s·∫Ω t√¨m hi·ªÉu c√°ch c√†i ƒë·∫∑t, c·∫•u h√¨nh v√† s·ª≠ d·ª•ng Ansible th√¥ng qua c√°c v√≠ d·ª• th·ª±c t·∫ø.",1,{"id":242,"title":243,"titles":244,"content":245,"level":240},"/blog/ansible#Ô∏è-c√†i-ƒë·∫∑t-ansible","üõ†Ô∏è C√†i ƒë·∫∑t Ansible",[],"H∆∞·ªõng d·∫´n c√†i ƒë·∫∑t Ansible tr√™n Ubuntu: Sau khi c√†i ƒë·∫∑t, b·∫°n c√≥ th·ªÉ ki·ªÉm tra phi√™n b·∫£n Ansible:",{"id":247,"title":248,"titles":249,"content":250,"level":240},"/blog/ansible#c·∫•u-h√¨nh-ssh","üîë C·∫•u h√¨nh SSH",[],"ƒê·ªÉ Ansible c√≥ th·ªÉ k·∫øt n·ªëi ƒë·∫øn c√°c m√°y ch·ªß t·ª´ xa, b·∫°n c·∫ßn c·∫•u h√¨nh SSH. D∆∞·ªõi ƒë√¢y l√† c√°ch sao ch√©p SSH key ƒë·∫øn m√°y ch·ªß kh√°c: L∆∞u √Ω: Thay vinhtieng@123.3123.12 b·∫±ng t√™n ng∆∞·ªùi d√πng v√† ƒë·ªãa ch·ªâ IP c·ªßa m√°y ch·ªß t·ª´ xa.",{"id":252,"title":253,"titles":254,"content":255,"level":240},"/blog/ansible#hosts-inventory","üìã Hosts - Inventory",[],"File inventory l√† n∆°i b·∫°n ƒë·ªãnh nghƒ©a danh s√°ch c√°c m√°y ch·ªß m√† Ansible s·∫Ω qu·∫£n l√Ω. ƒê√¢y l√† m·ªôt v√≠ d·ª• c∆° b·∫£n:",{"id":257,"title":258,"titles":259,"content":260,"level":240},"/blog/ansible#ki·ªÉm-tra-k·∫øt-n·ªëi-ping","üèì Ki·ªÉm tra k·∫øt n·ªëi (Ping)",[],"B·∫°n c√≥ th·ªÉ ki·ªÉm tra k·∫øt n·ªëi ƒë·∫øn c√°c m√°y ch·ªß b·∫±ng l·ªánh ping: Ping v·ªõi file hosts m·∫∑c ƒë·ªãnh: Ping v·ªõi file inventory t√πy ch·ªânh:",{"id":262,"title":263,"titles":264,"content":265,"level":240},"/blog/ansible#playbook-task-module","üìú Playbook - Task - Module",[],"Playbook l√† n∆°i b·∫°n ƒë·ªãnh nghƒ©a c√°c t√°c v·ª• (tasks) c·∫ßn th·ª±c hi·ªán tr√™n c√°c m√°y ch·ªß. D∆∞·ªõi ƒë√¢y l√† c√°ch ch·∫°y m·ªôt playbook: V√≠ d·ª• v·ªÅ Playbook ƒë∆°n gi·∫£n:",{"id":267,"title":268,"titles":269,"content":270,"level":240},"/blog/ansible#t√†i-li·ªáu-tham-kh·∫£o","üìö T√†i li·ªáu tham kh·∫£o",[],"Ansible DocumentationAnsible GalaxyAnsible Playbook Guide T√≥m l·∫°i: Ansible l√† c√¥ng c·ª• m·∫°nh m·∫Ω gi√∫p t·ª± ƒë·ªông h√≥a c√°c t√°c v·ª• qu·∫£n tr·ªã h·ªá th·ªëng. Vi·ªác n·∫Øm v·ªØng c√°ch s·ª≠ d·ª•ng Ansible s·∫Ω gi√∫p b·∫°n ti·∫øt ki·ªám th·ªùi gian v√† gi·∫£m thi·ªÉu l·ªói trong qu√° tr√¨nh qu·∫£n l√Ω h·ªá th·ªëng.",{"id":272,"title":273,"titles":274,"content":275,"level":240},"/blog/basic-nginx","T·ªïng quan v√† c·∫•u h√¨nh n√¢ng cao Nginx",[],"H∆∞·ªõng d·∫´n chi ti·∫øt v·ªÅ c·∫•u h√¨nh m·∫∑c ƒë·ªãnh, PHP-FPM v√† thi·∫øt l·∫≠p Load Balancer v·ªõi Nginx. H∆∞·ªõng d·∫´n chi ti·∫øt v·ªÅ c·∫•u h√¨nh v√† tri·ªÉn khai Nginx Nginx l√† m·ªôt web server m√£ ngu·ªìn m·ªü m·∫°nh m·∫Ω, ƒë∆∞·ª£c s·ª≠ d·ª•ng ph·ªï bi·∫øn ƒë·ªÉ ph·ª•c v·ª• n·ªôi dung tƒ©nh, reverse proxy, c√¢n b·∫±ng t·∫£i, b·∫£o m·∫≠t v√† h·ªó tr·ª£ PHP th√¥ng qua FastCGI. Trong b√†i vi·∫øt n√†y, ch√∫ng ta s·∫Ω ƒëi qua c√°c c·∫•u h√¨nh t·ª´ c∆° b·∫£n ƒë·∫øn n√¢ng cao, bao g·ªìm: C√°ch c√†i ƒë·∫∑t NginxC·∫•u h√¨nh m√°y ch·ªß m·∫∑c ƒë·ªãnh (default host)T√≠ch h·ª£p v·ªõi PHP-FPMThi·∫øt l·∫≠p Load Balancer (c√¢n b·∫±ng t·∫£i)Gzip, HTTP/2, Rate limitingRedirect, RewritesHardening & SecurityLogging n√¢ng cao",{"id":277,"title":278,"titles":279,"content":280,"level":240},"/blog/basic-nginx#Ô∏è-c√†i-ƒë·∫∑t-nginx","üõ†Ô∏è C√†i ƒë·∫∑t Nginx",[],"H∆∞·ªõng d·∫´n c√†i ƒë·∫∑t Nginx tr√™n Ubuntu: Sau khi c√†i ƒë·∫∑t, b·∫°n c√≥ th·ªÉ ki·ªÉm tra tr·∫°ng th√°i Nginx: Ki·ªÉm tra t∆∞·ªùng l·ª≠a: Sau khi c√†i ƒë·∫∑t Nginx, b·∫°n n√™n ƒë·∫£m b·∫£o r·∫±ng t∆∞·ªùng l·ª≠a (firewall) cho ph√©p l∆∞u l∆∞·ª£ng HTTP v√† HTTPS ƒë·ªÉ m√°y ch·ªß c√≥ th·ªÉ ph·ª•c v·ª• n·ªôi dung web. L·ªánh sudo ufw allow 'Nginx Full' s·∫Ω m·ªü c·∫£ hai c·ªïng 80 (HTTP) v√† 443 (HTTPS).\nSau ƒë√≥, d√πng sudo ufw status ƒë·ªÉ x√°c nh·∫≠n r·∫±ng c√°c c·ªïng n√†y ƒë√£ ƒë∆∞·ª£c m·ªü. N·∫øu b·∫°n ch∆∞a b·∫≠t ufw (Uncomplicated Firewall), b·∫°n c√≥ th·ªÉ b·∫≠t b·∫±ng l·ªánh sudo ufw enable. Tuy nhi√™n, h√£y ƒë·∫£m b·∫£o c·∫•u h√¨nh ch√≠nh x√°c ƒë·ªÉ kh√¥ng b·ªã kh√≥a SSH. Ki·ªÉm tra ho·∫°t ƒë·ªông c·ªßa Nginx: M·ªü tr√¨nh duy·ªát v√† truy c·∫≠p ƒë·ªãa ch·ªâ:\nüëâ http://\u003Cƒë·ªãa_ch·ªâ_IP_c·ªßa_b·∫°n> ho·∫∑c http://localhost n·∫øu ki·ªÉm tra c·ª•c b·ªô. B·∫°n s·∫Ω th·∫•y trang m·∫∑c ƒë·ªãnh ‚ÄúWelcome to nginx!‚Äù n·∫øu m·ªçi th·ª© ho·∫°t ƒë·ªông ƒë√∫ng c√°ch.",{"id":282,"title":283,"titles":284,"content":285,"level":240},"/blog/basic-nginx#Ô∏è-c·∫•u-h√¨nh-default-host-trong-nginx","‚öôÔ∏è C·∫•u h√¨nh Default Host trong Nginx",[],"Tr√™n Ubuntu, file c·∫•u h√¨nh c·ªßa Nginx th∆∞·ªùng ƒë∆∞·ª£c l∆∞u t·∫°i c√°c v·ªã tr√≠ sau: /etc/nginx/sites-available/default (N·∫øu s·ª≠ d·ª•ng th∆∞ m·ª•c sites-available v√† sites-enabled)./etc/nginx/conf.d/default.conf (Th√¥ng d·ª•ng cho c√°c c·∫•u h√¨nh ƒë∆°n gi·∫£n). M·∫∑c ƒë·ªãnh, khi c√†i ƒë·∫∑t Nginx, s·∫Ω c√≥ m·ªôt file c·∫•u h√¨nh default trong th∆∞ m·ª•c /etc/nginx/sites-available/ v·ªõi m·ªôt s·ªë c·∫•u h√¨nh c∆° b·∫£n. B·∫°n c√≥ th·ªÉ s·ª≠a file n√†y ƒë·ªÉ c·∫•u h√¨nh server block cho website c·ªßa m√¨nh. C·∫•u h√¨nh Default Host M·ªü file c·∫•u h√¨nh Nginx m·∫∑c ƒë·ªãnh: M·∫∑c ƒë·ªãnh, Nginx s·∫Ω ch·ªçn block ƒë·∫ßu ti√™n khi kh√¥ng t√¨m th·∫•y server_name t∆∞∆°ng ·ª©ng. ƒê·ªÉ c·∫•u h√¨nh r√µ r√†ng host m·∫∑c ƒë·ªãnh, b·∫°n th√™m default_server v√†o d√≤ng listen: Ghi ch√∫: listen 80 default_server;: C·∫•u h√¨nh Nginx l·∫Øng nghe c·ªïng 80 (HTTP) v√† ƒë√°nh d·∫•u ƒë√¢y l√† default_server (server m·∫∑c ƒë·ªãnh cho c√°c y√™u c·∫ßu kh√¥ng kh·ªõp v·ªõi server block kh√°c).root /var/www/html;: ƒê∆∞·ªùng d·∫´n t·ªõi th∆∞ m·ª•c ch·ª©a c√°c t·ªáp tin c·ªßa website. B·∫°n c√≥ th·ªÉ thay ƒë·ªïi ƒë∆∞·ªùng d·∫´n n√†y th√†nh th∆∞ m·ª•c c·ªßa website b·∫°n mu·ªën ph·ª•c v·ª•.server_name _;: Ch·ªâ th·ªã n√†y cho ph√©p server ch·∫•p nh·∫≠n t·∫•t c·∫£ c√°c y√™u c·∫ßu kh√¥ng kh·ªõp v·ªõi server block kh√°c. N·∫øu b·∫°n c√≥ t√™n mi·ªÅn c·ª• th·ªÉ, h√£y thay th·∫ø d·∫•u g·∫°ch d∆∞·ªõi (_) b·∫±ng t√™n mi·ªÅn c·ªßa b·∫°n.location /: ƒê√¢y l√† ph·∫ßn c·∫•u h√¨nh ƒë·ªãnh tuy·∫øn cho c√°c y√™u c·∫ßu ƒë·∫øn. C·∫•u h√¨nh n√†y gi√∫p Nginx t√¨m ki·∫øm c√°c t·ªáp tin khi ng∆∞·ªùi d√πng truy c·∫≠p v√†o website.try_files $uri $uri/ =404;: N·∫øu y√™u c·∫ßu kh√¥ng tr√πng kh·ªõp v·ªõi t·ªáp tin ho·∫∑c th∆∞ m·ª•c, s·∫Ω tr·∫£ v·ªÅ l·ªói 404. Sau khi ch·ªânh s·ª≠a xong, b·∫°n c·∫ßn ki·ªÉm tra xem c·∫•u h√¨nh c√≥ ch√≠nh x√°c kh√¥ng: N·∫øu kh√¥ng c√≥ l·ªói n√†o, b·∫°n c√≥ th·ªÉ kh·ªüi ƒë·ªông l·∫°i Nginx ƒë·ªÉ √°p d·ª•ng c·∫•u h√¨nh m·ªõi: Gi·ªõi thi·ªáu v·ªÅ sites-available v√† sites-enabled Trong Nginx, th∆∞ m·ª•c sites-available v√† sites-enabled l√† m·ªôt c∆° ch·∫ø ƒë·ªÉ qu·∫£n l√Ω c√°c website (virtual hosts) m√† Nginx c√≥ th·ªÉ ph·ª•c v·ª•. C·∫•u tr√∫c n√†y gi√∫p d·ªÖ d√†ng b·∫≠t/t·∫Øt c√°c website m√† kh√¥ng c·∫ßn ph·∫£i x√≥a ho·∫∑c thay ƒë·ªïi c·∫•u h√¨nh tr·ª±c ti·∫øp. sites-available: ƒê√¢y l√† n∆°i b·∫°n t·∫°o v√† l∆∞u tr·ªØ t·∫•t c·∫£ c√°c file c·∫•u h√¨nh c·ªßa c√°c website ho·∫∑c ·ª©ng d·ª•ng m√† b·∫°n mu·ªën Nginx ph·ª•c v·ª•.M·ªói file c·∫•u h√¨nh trong sites-available ƒë·∫°i di·ªán cho m·ªôt website ho·∫∑c ·ª©ng d·ª•ng ri√™ng bi·ªát.V√≠ d·ª•: /etc/nginx/sites-available/example.com l√† c·∫•u h√¨nh cho website example.com. sites-enabled: ƒê√¢y l√† n∆°i ch·ª©a c√°c li√™n k·∫øt t∆∞·ª£ng tr∆∞ng (symlink) ƒë·∫øn c√°c file c·∫•u h√¨nh trong sites-available m√† b·∫°n mu·ªën Nginx th·ª±c thi.C√°c li√™n k·∫øt n√†y cho ph√©p Nginx bi·∫øt ƒë∆∞·ª£c website n√†o s·∫Ω ƒë∆∞·ª£c k√≠ch ho·∫°t.B·∫°n kh√¥ng n√™n tr·ª±c ti·∫øp ch·ªânh s·ª≠a c√°c file trong sites-enabled. Thay v√†o ƒë√≥, b·∫°n t·∫°o symlink t·ª´ sites-available. C√°ch th·ª©c ho·∫°t ƒë·ªông: Khi b·∫°n t·∫°o m·ªôt file c·∫•u h√¨nh trong sites-available, b·∫°n c√≥ th·ªÉ k√≠ch ho·∫°t n√≥ b·∫±ng c√°ch t·∫°o m·ªôt symlink ƒë·∫øn file ƒë√≥ trong th∆∞ m·ª•c sites-enabled.ƒê·ªÉ t·∫°o symlink, s·ª≠ d·ª•ng l·ªánh ln -s. V√≠ d·ª•, n·∫øu b·∫°n c√≥ c·∫•u h√¨nh example.com trong sites-available, b·∫°n c√≥ th·ªÉ t·∫°o symlink v√†o sites-enabled nh∆∞ sau:",{"id":287,"title":288,"titles":289,"content":290,"level":240},"/blog/basic-nginx#c·∫•u-h√¨nh-nginx-v·ªõi-php-fpm","üêò C·∫•u h√¨nh Nginx v·ªõi PHP-FPM",[],"ƒê·ªÉ x·ª≠ l√Ω c√°c file PHP, b·∫°n c·∫ßn k·∫øt n·ªëi Nginx v·ªõi PHP-FPM qua socket ho·∫∑c TCP: L∆∞u √Ω: ƒê∆∞·ªùng d·∫´n socket c√≥ th·ªÉ thay ƒë·ªïi t√πy phi√™n b·∫£n PHP.N·∫øu d√πng TCP:",{"id":292,"title":293,"titles":294,"content":295,"level":240},"/blog/basic-nginx#load-balancer-trong-nginx","üåê Load Balancer trong Nginx",[],"Nginx h·ªó tr·ª£ c·∫•u h√¨nh c√¢n b·∫±ng t·∫£i v·ªõi nhi·ªÅu thu·∫≠t to√°n l·ª±a ch·ªçn backend: round-robin: M·∫∑c ƒë·ªãnh, ph√¢n ph·ªëi ƒë·ªÅu cho c√°c request.least_conn: Ch·ªçn server √≠t k·∫øt n·ªëi nh·∫•t.ip_hash: Duy tr√¨ session cho client.least_time: ch·ªçn server c√≥ th·ªùi gian ph·∫£n h·ªìi √≠t nh·∫•t C√≥ th·ªÉ th√™m tr·ªçng s·ªë cho server b·∫±ng c√°ch th√™m s·ªë sau ip:port Ex: server 192.168.1.0:8000 weight=3; C·∫•u h√¨nh server block proxy ƒë·∫øn upstream:",{"id":297,"title":298,"titles":299,"content":300,"level":240},"/blog/basic-nginx#gzip-compression","üì¶ Gzip Compression",[],"B·∫≠t gzip gi√∫p tƒÉng t·ªëc ƒë·ªô t·∫£i trang b·∫±ng c√°ch n√©n n·ªôi dung tr·∫£ v·ªÅ:",{"id":302,"title":303,"titles":304,"content":305,"level":240},"/blog/basic-nginx#k√≠ch-ho·∫°t-http2","‚ö° K√≠ch ho·∫°t HTTP/2",[],"HTTP/2 c·∫£i thi·ªán hi·ªáu su·∫•t th√¥ng qua multiplexing v√† header compression:",{"id":307,"title":308,"titles":309,"content":310,"level":240},"/blog/basic-nginx#rate-limiting","üö¶ Rate Limiting",[],"Gi·ªõi h·∫°n s·ªë l∆∞·ª£ng request ƒë·ªÉ tr√°nh DDoS v√† abuse:",{"id":312,"title":313,"titles":314,"content":315,"level":240},"/blog/basic-nginx#redirect-v√†-rewrites","üîÅ Redirect v√† Rewrites",[],"Chuy·ªÉn h∆∞·ªõng to√†n b·ªô traffic HTTP sang HTTPS: Vi·∫øt l·∫°i URL cho SPA:",{"id":317,"title":318,"titles":319,"content":320,"level":240},"/blog/basic-nginx#hardening-security","üîê Hardening & Security",[],"B·∫£o v·ªá server b·∫±ng c√°ch t·ª´ ch·ªëi truy c·∫≠p file nh·∫°y c·∫£m: ·∫®n th√¥ng tin server: Ch·ªëng clickjacking v√† XSS:",{"id":322,"title":323,"titles":324,"content":325,"level":240},"/blog/basic-nginx#logging-n√¢ng-cao","üìä Logging n√¢ng cao",[],"C·∫•u h√¨nh custom log format ƒë·ªÉ d·ªÖ debug:",{"id":327,"title":268,"titles":328,"content":329,"level":240},"/blog/basic-nginx#t√†i-li·ªáu-tham-kh·∫£o",[],"Nginx DocumentationNginx Load Balancing GuideNginx + PHP-FPM SetupOWASP Nginx Hardening Guide T√≥m l·∫°i: Nginx l√† c√¥ng c·ª• c·ª±c k·ª≥ m·∫°nh m·∫Ω v√† linh ho·∫°t, kh√¥ng ch·ªâ gi·ªõi h·∫°n ·ªü web server m√† c√≤n l√† reverse proxy, caching layer, v√† load balancer. Vi·ªác n·∫Øm v·ªØng v√† khai th√°c t·ªët c√°c t√≠nh nƒÉng s·∫Ω gi√∫p h·ªá th·ªëng c·ªßa b·∫°n hi·ªáu su·∫•t cao, b·∫£o m·∫≠t v√† d·ªÖ m·ªü r·ªông. Ch√∫c b·∫°n tri·ªÉn khai th√†nh c√¥ng! üöÄ",{"id":228,"title":5,"titles":331,"content":332,"level":240},[],"T√¨m hi·ªÉu c√°c kh√°i ni·ªám c∆° b·∫£n v·ªÅ Redis bao g·ªìm c√°c ki·ªÉu d·ªØ li·ªáu v√† ph∆∞∆°ng th·ª©c, c≈©ng nh∆∞ c√°ch t√≠ch h·ª£p Redis v√†o ·ª©ng d·ª•ng Node.js ƒë·ªÉ s·ª≠ d·ª•ng b·ªô nh·ªõ ƒë·ªám v√† c√°c t√≠nh nƒÉng th·ªùi gian th·ª±c. C∆° B·∫£n V·ªÅ Redis v√† T√≠ch H·ª£p V·ªõi Node.js Redis l√† m·ªôt kho d·ªØ li·ªáu key-value trong b·ªô nh·ªõ, m√£ ngu·ªìn m·ªü, n·ªïi ti·∫øng v·ªõi hi·ªáu su·∫•t v√† t√≠nh linh ho·∫°t. Redis h·ªó tr·ª£ nhi·ªÅu ki·ªÉu d·ªØ li·ªáu, ph√π h·ª£p cho vi·ªác s·ª≠ d·ª•ng b·ªô nh·ªõ ƒë·ªám, ·ª©ng d·ª•ng th·ªùi gian th·ª±c, h·ªá th·ªëng pub/sub, v√† nhi·ªÅu h∆°n n·ªØa. Trong h∆∞·ªõng d·∫´n n√†y, ch√∫ng ta s·∫Ω t√¨m hi·ªÉu: C√°c ki·ªÉu d·ªØ li·ªáu trong RedisC√°c l·ªánh ph·ªï bi·∫øn c·ªßa RedisC√°ch t√≠ch h·ª£p Redis v√†o d·ª± √°n Node.js",{"id":334,"title":41,"titles":335,"content":44,"level":240},"/blog/basic-redis#c√°c-ki·ªÉu-d·ªØ-li·ªáu-l·ªánh-redis",[],{"id":337,"title":49,"titles":338,"content":52,"level":208},"/blog/basic-redis#_1-chu·ªói-strings",[41],{"id":340,"title":60,"titles":341,"content":63,"level":208},"/blog/basic-redis#_2-danh-s√°ch-lists",[41],{"id":343,"title":70,"titles":344,"content":73,"level":208},"/blog/basic-redis#_3-t·∫≠p-h·ª£p-sets",[41],{"id":346,"title":80,"titles":347,"content":83,"level":208},"/blog/basic-redis#_4-bƒÉm-hashes",[41],{"id":349,"title":90,"titles":350,"content":93,"level":208},"/blog/basic-redis#_5-t·∫≠p-h·ª£p-c√≥-th·ª©-t·ª±-sorted-sets",[41],{"id":352,"title":100,"titles":353,"content":354,"level":208},"/blog/basic-redis#_6-bitmaps-hyperloglogs-streams",[41],"ƒê√¢y l√† c√°c c·∫•u tr√∫c n√¢ng cao h∆°n:\nBitmaps ƒë∆∞·ª£c s·ª≠ d·ª•ng cho c√°c thao t√°c c·∫•p bit, cho ph√©p b·∫°n thao t√°c c√°c bit ri√™ng l·∫ª trong m·ªôt chu·ªói. HyperLogLogs ƒë∆∞·ª£c s·ª≠ d·ª•ng ƒë·ªÉ ∆∞·ªõc t√≠nh s·ªë l∆∞·ª£ng ph·∫ßn t·ª≠ duy nh·∫•t trong m·ªôt t·∫≠p h·ª£p, r·∫•t h·ªØu √≠ch cho c√°c tr∆∞·ªùng h·ª£p nh∆∞ theo d√µi s·ªë l∆∞·ª£ng kh√°ch truy c·∫≠p duy nh·∫•t. Streams ƒë∆∞·ª£c thi·∫øt k·∫ø cho c√°c ƒë∆∞·ªùng d·∫´n d·ªØ li·ªáu th·ªùi gian th·ª±c v√† ngu·ªìn s·ª± ki·ªán, cho ph√©p b·∫°n th√™m v√† truy v·∫•n d·ªØ li·ªáu theo chu·ªói th·ªùi gian.",{"id":356,"title":122,"titles":357,"content":125,"level":240},"/blog/basic-redis#t√≠ch-h·ª£p-redis-v·ªõi-nodejs",[],{"id":359,"title":129,"titles":360,"content":135,"level":208},"/blog/basic-redis#_1-c√†i-ƒë·∫∑t-redis-v√†-ioredis",[122],{"id":362,"title":142,"titles":363,"content":364,"level":208},"/blog/basic-redis#_2-thi·∫øt-l·∫≠p-c∆°-b·∫£n",[122],"T·∫°o m·ªôt t·ªáp c√≥ t√™n redis.js v√† th√™m ƒëo·∫°n m√£ sau:",{"id":366,"title":157,"titles":367,"content":160,"level":208},"/blog/basic-redis#_3-s·ª≠-d·ª•ng-redis-trong-·ª©ng-d·ª•ng",[122],{"id":369,"title":167,"titles":370,"content":170,"level":208},"/blog/basic-redis#_4-v√≠-d·ª•-v·ªÅ-b·ªô-nh·ªõ-ƒë·ªám",[122],{"id":372,"title":177,"titles":373,"content":374,"level":208},"/blog/basic-redis#_5-k·∫øt-lu·∫≠n",[122],"Redis l√† m·ªôt c√¥ng c·ª• m·∫°nh m·∫Ω cho b·ªô nh·ªõ ƒë·ªám v√† c√°c ·ª©ng d·ª•ng th·ªùi gian th·ª±c. B·∫±ng c√°ch t√≠ch h·ª£p Redis v√†o c√°c d·ª± √°n Node.js, b·∫°n c√≥ th·ªÉ c·∫£i thi·ªán ƒë√°ng k·ªÉ hi·ªáu su·∫•t v√† kh·∫£ nƒÉng m·ªü r·ªông. H∆∞·ªõng d·∫´n n√†y ƒë√£ bao qu√°t c√°c kh√°i ni·ªám c∆° b·∫£n v·ªÅ ki·ªÉu d·ªØ li·ªáu, l·ªánh, v√† c√°ch s·ª≠ d·ª•ng Redis trong ·ª©ng d·ª•ng Node.js.\nH√£y kh√°m ph√° th√™m c√°c t√≠nh nƒÉng n√¢ng cao nh∆∞ giao d·ªãch, scripting Lua, v√† clustering khi b·∫°n ƒë√£ quen thu·ªôc h∆°n v·ªõi Redis.\nRedis l√† m·ªôt c√¥ng c·ª• ƒëa nƒÉng c√≥ th·ªÉ n√¢ng cao ƒë√°ng k·ªÉ ·ª©ng d·ª•ng c·ªßa b·∫°n. Happy Coding",{"id":376,"title":189,"titles":377,"content":378,"level":208},"/blog/basic-redis#_6-t√†i-nguy√™n-tham-kh·∫£o",[122],"T√†i li·ªáu RedisT√†i li·ªáu ioredis",{"id":380,"title":381,"titles":382,"content":383,"level":240},"/blog/common-docker-file","C√°c Dockerfile Ph·ªï Bi·∫øn Cho Nhi·ªÅu D·ª± √Ån Kh√°c Nhau",[],"T√¨m hi·ªÉu v·ªÅ Docker v√† kh√°m ph√° c√°c Dockerfile ph·ªï bi·∫øn cho nhi·ªÅu d·ª± √°n nh∆∞ Node.js, PHP v·ªõi Laravel, React, Vue, Nuxt v√† Next.js. Kh√°m ph√° c√°c k·ªπ thu·∫≠t t·ªëi ∆∞u v√† th·ª±c h√†nh t·ªët nh·∫•t. C√°c Dockerfile Ph·ªï Bi·∫øn Cho Nhi·ªÅu D·ª± √Ån Kh√°c Nhau Docker l√† m·ªôt c√¥ng c·ª• ·∫£o h√≥a nh·∫π gi√∫p ph√°t tri·ªÉn, tri·ªÉn khai v√† ch·∫°y ·ª©ng d·ª•ng trong c√°c container. N√≥ cho ph√©p b·∫°n ƒë√≥ng g√≥i ·ª©ng d·ª•ng v√† t·∫•t c·∫£ c√°c ph·ª• thu·ªôc c·ªßa n√≥ v√†o m·ªôt container duy nh·∫•t, gi√∫p d·ªÖ d√†ng tri·ªÉn khai tr√™n b·∫•t k·ª≥ m√¥i tr∆∞·ªùng n√†o m√† kh√¥ng c·∫ßn lo l·∫Øng v·ªÅ s·ª± kh√°c bi·ªát gi·ªØa c√°c m√¥i tr∆∞·ªùng. ƒê√¢y l√† m·ªôt s·ªë Dockerfile cho c√°c d·ª± √°n th∆∞·ªùng g·∫∑p, b·∫°n c√≥ th·ªÉ tham kh·∫£o v√† ƒëi·ªÅu ch·ªânh theo nhu c·∫ßu c·ªßa m√¨nh.",{"id":385,"title":386,"titles":387,"content":388,"level":208},"/blog/common-docker-file#_1-dockerfile-cho-nodejs","1. Dockerfile cho Node.js",[381],"Dockerfile cho Node.js r·∫•t quan tr·ªçng khi tri·ªÉn khai ·ª©ng d·ª•ng JavaScript ph√≠a server. ƒê√¢y l√† m·ªôt Dockerfile ƒë√£ ƒë∆∞·ª£c t·ªëi ∆∞u cho m·ªôt d·ª± √°n Node.js ƒëi·ªÉn h√¨nh:",{"id":390,"title":391,"titles":392,"content":393,"level":208},"/blog/common-docker-file#_2-dockerfile-cho-php-v·ªõi-laravel","2. Dockerfile cho PHP v·ªõi Laravel",[381],"Laravel l√† m·ªôt framework PHP ph·ªï bi·∫øn ƒë·ªÉ x√¢y d·ª±ng ·ª©ng d·ª•ng web. D∆∞·ªõi ƒë√¢y l√† Dockerfile cho m·ªôt d·ª± √°n Laravel:",{"id":395,"title":396,"titles":397,"content":398,"level":208},"/blog/common-docker-file#_3-dockerfile-cho-react","3. Dockerfile cho React",[381],"React th∆∞·ªùng ƒë∆∞·ª£c t·∫°o b·∫±ng Create React App. ƒê√¢y l√† Dockerfile cho d·ª± √°n React:",{"id":400,"title":401,"titles":402,"content":403,"level":208},"/blog/common-docker-file#_4-dockerfile-cho-vue","4. Dockerfile cho Vue",[381],"Vue c≈©ng ƒë∆∞·ª£c x√¢y d·ª±ng t∆∞∆°ng t·ª± nh∆∞ React. D∆∞·ªõi ƒë√¢y l√† Dockerfile cho Vue:",{"id":405,"title":406,"titles":407,"content":408,"level":208},"/blog/common-docker-file#_5-dockerfile-cho-nuxtjs","5. Dockerfile cho Nuxt.js",[381],"Nuxt.js l√† m·ªôt framework m·∫°nh m·∫Ω ƒë·ªÉ x√¢y d·ª±ng ·ª©ng d·ª•ng Vue. ƒê√¢y l√† Dockerfile cho d·ª± √°n Nuxt:",{"id":410,"title":411,"titles":412,"content":413,"level":208},"/blog/common-docker-file#_6-dockerfile-cho-nextjs","6. Dockerfile cho Next.js",[381],"Next.js l√† m·ªôt framework React ph·ªï bi·∫øn cho vi·ªác render ph√≠a server. ƒê√¢y l√† Dockerfile cho d·ª± √°n Next:",{"id":415,"title":416,"titles":417,"content":418,"level":208},"/blog/common-docker-file#ƒëang-c·∫≠p-nh·∫≠t","ƒêang c·∫≠p nh·∫≠t...",[381],"N·∫øu b·∫°n c√≥ c√°c c·∫•u h√¨nh ho·∫∑c Dockerfile kh√°c mu·ªën chia s·∫ª, vui l√≤ng g·ª≠i email v·ªÅ vinhtieng123@gmail.com. M√¨nh r·∫•t tr√¢n tr·ªçng ƒëi·ªÅu ƒë√≥.",{"id":420,"title":421,"titles":422,"content":423,"level":240},"/blog/testing","Testing post",[],"Testing title C√°c Dockerfile Ph·ªï Bi·∫øn Cho Nhi·ªÅu D·ª± √Ån Kh√°c Nhau Docker l√† m·ªôt c√¥ng c·ª• ·∫£o h√≥a nh·∫π gi√∫p ph√°t tri·ªÉn, tri·ªÉn khai v√† ch·∫°y ·ª©ng d·ª•ng trong c√°c container. N√≥ cho ph√©p b·∫°n ƒë√≥ng g√≥i ·ª©ng d·ª•ng v√† t·∫•t c·∫£ c√°c ph·ª• thu·ªôc c·ªßa n√≥ v√†o m·ªôt container duy nh·∫•t, gi√∫p d·ªÖ d√†ng tri·ªÉn khai tr√™n b·∫•t k·ª≥ m√¥i tr∆∞·ªùng n√†o m√† kh√¥ng c·∫ßn lo l·∫Øng v·ªÅ s·ª± kh√°c bi·ªát gi·ªØa c√°c m√¥i tr∆∞·ªùng. ƒê√¢y l√† m·ªôt s·ªë Dockerfile cho c√°c d·ª± √°n th∆∞·ªùng g·∫∑p, b·∫°n c√≥ th·ªÉ tham kh·∫£o v√† ƒëi·ªÅu ch·ªânh theo nhu c·∫ßu c·ªßa m√¨nh.",{"id":425,"title":386,"titles":426,"content":388,"level":208},"/blog/testing#_1-dockerfile-cho-nodejs",[421],{"id":428,"title":391,"titles":429,"content":393,"level":208},"/blog/testing#_2-dockerfile-cho-php-v·ªõi-laravel",[421],{"id":431,"title":396,"titles":432,"content":398,"level":208},"/blog/testing#_3-dockerfile-cho-react",[421],{"id":434,"title":401,"titles":435,"content":403,"level":208},"/blog/testing#_4-dockerfile-cho-vue",[421],{"id":437,"title":406,"titles":438,"content":408,"level":208},"/blog/testing#_5-dockerfile-cho-nuxtjs",[421],{"id":440,"title":411,"titles":441,"content":413,"level":208},"/blog/testing#_6-dockerfile-cho-nextjs",[421],{"id":443,"title":416,"titles":444,"content":445,"level":208},"/blog/testing#ƒëang-c·∫≠p-nh·∫≠t",[421],"N·∫øu b·∫°n c√≥ c√°c c·∫•u h√¨nh ho·∫∑c Dockerfile kh√°c mu·ªën chia s·∫ª, vui l√≤ng g·ª≠i email v·ªÅ vinhtieng123@gmail.com. M√¨nh r·∫•t tr√¢n tr·ªçng ƒëi·ªÅu ƒë√≥. console.log('Hello world') html pre.shiki code .sVt8B, html code.shiki .sVt8B{--shiki-default:#24292E;--shiki-dark:#E1E4E8}html pre.shiki code .sScJk, html code.shiki .sScJk{--shiki-default:#6F42C1;--shiki-dark:#B392F0}html pre.shiki code .sZZnC, html code.shiki .sZZnC{--shiki-default:#032F62;--shiki-dark:#9ECBFF}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}",[],[448,612,1084,1222],{"id":449,"title":237,"body":450,"date":222,"description":604,"extension":224,"image":605,"meta":606,"navigation":227,"path":236,"published":227,"seo":607,"stem":608,"tags":609,"__hash__":611},"blog/blog/ansible.md",{"type":7,"value":451,"toc":602},[452,457,460,462,465,468,471,474,477,479,482,485,488,498,500,503,505,508,510,513,520,528,531,538,541,543,546,549,552,557,560,562,565,589,591,594,599],[10,453,454],{},[13,455,456],{},"H∆∞·ªõng d·∫´n chi ti·∫øt v·ªÅ c√†i ƒë·∫∑t v√† tri·ªÉn khai Ansible",[10,458,459],{},"Ansible l√† m·ªôt c√¥ng c·ª• t·ª± ƒë·ªông h√≥a m·∫°nh m·∫Ω, gi√∫p qu·∫£n l√Ω c·∫•u h√¨nh, tri·ªÉn khai ·ª©ng d·ª•ng v√† ƒëi·ªÅu ph·ªëi h·ªá th·ªëng m·ªôt c√°ch d·ªÖ d√†ng. Trong b√†i vi·∫øt n√†y, ch√∫ng ta s·∫Ω t√¨m hi·ªÉu c√°ch c√†i ƒë·∫∑t, c·∫•u h√¨nh v√† s·ª≠ d·ª•ng Ansible th√¥ng qua c√°c v√≠ d·ª• th·ª±c t·∫ø.",[35,461],{},[38,463,243],{"id":464},"Ô∏è-c√†i-ƒë·∫∑t-ansible",[10,466,467],{},"H∆∞·ªõng d·∫´n c√†i ƒë·∫∑t Ansible tr√™n Ubuntu:",[54,469],{":files":470},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"sudo apt update -y\\nsudo apt install software-properties-common -y\\nsudo apt-add-repository --yes --update ppa:ansible/ansible\\nsudo apt install ansible -y\\n\"}]",[10,472,473],{},"Sau khi c√†i ƒë·∫∑t, b·∫°n c√≥ th·ªÉ ki·ªÉm tra phi√™n b·∫£n Ansible:",[54,475],{":files":476},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"ansible --version\"}]",[35,478],{},[38,480,248],{"id":481},"c·∫•u-h√¨nh-ssh",[10,483,484],{},"ƒê·ªÉ Ansible c√≥ th·ªÉ k·∫øt n·ªëi ƒë·∫øn c√°c m√°y ch·ªß t·ª´ xa, b·∫°n c·∫ßn c·∫•u h√¨nh SSH. D∆∞·ªõi ƒë√¢y l√† c√°ch sao ch√©p SSH key ƒë·∫øn m√°y ch·ªß kh√°c:",[54,486],{":files":487},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"ssh-copy-id -i ~/.ssh/id_rsa.pub vinhtieng@123.3123.12\"}]",[10,489,490,493,494,497],{},[13,491,492],{},"L∆∞u √Ω:"," Thay ",[147,495,496],{},"vinhtieng@123.3123.12"," b·∫±ng t√™n ng∆∞·ªùi d√πng v√† ƒë·ªãa ch·ªâ IP c·ªßa m√°y ch·ªß t·ª´ xa.",[35,499],{},[38,501,253],{"id":502},"hosts-inventory",[10,504,255],{},[54,506],{":files":507},"[{\"title\":\"inventory\",\"language\":\"ini\",\"content\":\"[webservers]\\nweb1.example.com\\nweb2.example.com\\n\\n[databases]\\ndb1.example.com\\n\\n[webservers:vars]\\nansible_user=your_ssh_user\\nansible_ssh_private_key_file=/path/to/private/key\\n\\n[webservers1]\\nweb1.example.com ansible_user=user1 ansible_ssh_private_key_file=/path/to/key1\\nweb2.example.com ansible_user=user2 ansible_ssh_private_key_file=/path/to/key2\\n\"}]",[35,509],{},[38,511,258],{"id":512},"ki·ªÉm-tra-k·∫øt-n·ªëi-ping",[10,514,515,516,519],{},"B·∫°n c√≥ th·ªÉ ki·ªÉm tra k·∫øt n·ªëi ƒë·∫øn c√°c m√°y ch·ªß b·∫±ng l·ªánh ",[147,517,518],{},"ping",":",[521,522,523],"ol",{},[25,524,525],{},[13,526,527],{},"Ping v·ªõi file hosts m·∫∑c ƒë·ªãnh:",[54,529],{":files":530},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"ansible -m ping all\"}]",[521,532,533],{"start":208},[25,534,535],{},[13,536,537],{},"Ping v·ªõi file inventory t√πy ch·ªânh:",[54,539],{":files":540},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"ansible -i my_hosts all -m ping\"}]",[35,542],{},[38,544,263],{"id":545},"playbook-task-module",[10,547,548],{},"Playbook l√† n∆°i b·∫°n ƒë·ªãnh nghƒ©a c√°c t√°c v·ª• (tasks) c·∫ßn th·ª±c hi·ªán tr√™n c√°c m√°y ch·ªß. D∆∞·ªõi ƒë√¢y l√† c√°ch ch·∫°y m·ªôt playbook:",[54,550],{":files":551},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"ansible-playbook my_playbook.yml -i inventory_file\"}]",[10,553,554],{},[13,555,556],{},"V√≠ d·ª• v·ªÅ Playbook ƒë∆°n gi·∫£n:",[54,558],{":files":559},"[{\"title\":\"my_playbook.yml\",\"language\":\"yaml\",\"content\":\"---\\n- name: C√†i ƒë·∫∑t v√† kh·ªüi ƒë·ªông Apache\\n  hosts: webservers\\n  become: yes\\n  tasks:\\n    - name: C√†i ƒë·∫∑t Apache\\n      apt:\\n        name: apache2\\n        state: present\\n    - name: ƒê·∫£m b·∫£o Apache ƒëang ch·∫°y\\n      service:\\n        name: apache2\\n        state: started\\n\"}]",[35,561],{},[38,563,268],{"id":564},"t√†i-li·ªáu-tham-kh·∫£o",[22,566,567,575,582],{},[25,568,569],{},[195,570,574],{"href":571,"rel":572},"https://docs.ansible.com/",[573],"nofollow","Ansible Documentation",[25,576,577],{},[195,578,581],{"href":579,"rel":580},"https://galaxy.ansible.com/",[573],"Ansible Galaxy",[25,583,584],{},[195,585,588],{"href":586,"rel":587},"https://docs.ansible.com/ansible/latest/user_guide/playbooks.html",[573],"Ansible Playbook Guide",[35,590],{},[592,593],"br",{},[10,595,596],{},[13,597,598],{},"T√≥m l·∫°i:",[10,600,601],{},"Ansible l√† c√¥ng c·ª• m·∫°nh m·∫Ω gi√∫p t·ª± ƒë·ªông h√≥a c√°c t√°c v·ª• qu·∫£n tr·ªã h·ªá th·ªëng. Vi·ªác n·∫Øm v·ªØng c√°ch s·ª≠ d·ª•ng Ansible s·∫Ω gi√∫p b·∫°n ti·∫øt ki·ªám th·ªùi gian v√† gi·∫£m thi·ªÉu l·ªói trong qu√° tr√¨nh qu·∫£n l√Ω h·ªá th·ªëng.",{"title":207,"searchDepth":208,"depth":208,"links":603},[],"H∆∞·ªõng d·∫´n chi ti·∫øt v·ªÅ c√†i ƒë·∫∑t, c·∫•u h√¨nh SSH, inventory v√† s·ª≠ d·ª•ng Playbook trong Ansible.","/images/blog/ansible/banner.png",{},{"title":237,"description":604},"blog/ansible",[610],"ansible","Gq3vchuOpiuVWzSEC3RwQ0ntaOZ8kPHsUW-MoDkNWc8",{"id":613,"title":273,"body":614,"date":222,"description":1076,"extension":224,"image":1077,"meta":1078,"navigation":227,"path":272,"published":227,"seo":1079,"stem":1080,"tags":1081,"__hash__":1083},"blog/blog/basic-nginx.md",{"type":7,"value":615,"toc":1074},[616,621,624,650,652,655,658,661,664,667,672,675,678,681,688,691,699,702,705,708,722,725,730,733,736,750,753,758,790,793,796,799,802,805,808,815,826,833,844,847,859,862,865,868,871,874,878,886,889,891,894,897,923,926,931,934,937,940,942,945,947,950,952,955,957,960,962,965,967,970,972,975,978,981,984,987,989,992,995,998,1001,1004,1007,1010,1012,1015,1017,1020,1022,1024,1054,1056,1058,1062,1065],[10,617,618],{},[13,619,620],{},"H∆∞·ªõng d·∫´n chi ti·∫øt v·ªÅ c·∫•u h√¨nh v√† tri·ªÉn khai Nginx",[10,622,623],{},"Nginx l√† m·ªôt web server m√£ ngu·ªìn m·ªü m·∫°nh m·∫Ω, ƒë∆∞·ª£c s·ª≠ d·ª•ng ph·ªï bi·∫øn ƒë·ªÉ ph·ª•c v·ª• n·ªôi dung tƒ©nh, reverse proxy, c√¢n b·∫±ng t·∫£i, b·∫£o m·∫≠t v√† h·ªó tr·ª£ PHP th√¥ng qua FastCGI. Trong b√†i vi·∫øt n√†y, ch√∫ng ta s·∫Ω ƒëi qua c√°c c·∫•u h√¨nh t·ª´ c∆° b·∫£n ƒë·∫øn n√¢ng cao, bao g·ªìm:",[22,625,626,629,632,635,638,641,644,647],{},[25,627,628],{},"C√°ch c√†i ƒë·∫∑t Nginx",[25,630,631],{},"C·∫•u h√¨nh m√°y ch·ªß m·∫∑c ƒë·ªãnh (default host)",[25,633,634],{},"T√≠ch h·ª£p v·ªõi PHP-FPM",[25,636,637],{},"Thi·∫øt l·∫≠p Load Balancer (c√¢n b·∫±ng t·∫£i)",[25,639,640],{},"Gzip, HTTP/2, Rate limiting",[25,642,643],{},"Redirect, Rewrites",[25,645,646],{},"Hardening & Security",[25,648,649],{},"Logging n√¢ng cao",[35,651],{},[38,653,278],{"id":654},"Ô∏è-c√†i-ƒë·∫∑t-nginx",[10,656,657],{},"H∆∞·ªõng d·∫´n c√†i ƒë·∫∑t Nginx tr√™n Ubuntu:",[54,659],{":files":660},"[{\"title\":\"bash\",\"language\":\"nginx\",\"content\":\"sudo apt update\\nsudo apt install nginx\\n\"}]",[10,662,663],{},"Sau khi c√†i ƒë·∫∑t, b·∫°n c√≥ th·ªÉ ki·ªÉm tra tr·∫°ng th√°i Nginx:",[54,665],{":files":666},"[{\"title\":\"bash\",\"language\":\"nginx\",\"content\":\"sudo systemctl status nginx\"}]",[10,668,669],{},[13,670,671],{},"Ki·ªÉm tra t∆∞·ªùng l·ª≠a:",[10,673,674],{},"Sau khi c√†i ƒë·∫∑t Nginx, b·∫°n n√™n ƒë·∫£m b·∫£o r·∫±ng t∆∞·ªùng l·ª≠a (firewall) cho ph√©p l∆∞u l∆∞·ª£ng HTTP v√† HTTPS ƒë·ªÉ m√°y ch·ªß c√≥ th·ªÉ ph·ª•c v·ª• n·ªôi dung web.",[54,676],{":files":677},"[{\"title\":\"bash\",\"language\":\"nginx\",\"content\":\"sudo ufw allow ‚ÄòNginx Full‚Äô\\nsudo ufw status\\n\"}]",[10,679,680],{},"L·ªánh sudo ufw allow 'Nginx Full' s·∫Ω m·ªü c·∫£ hai c·ªïng 80 (HTTP) v√† 443 (HTTPS).\nSau ƒë√≥, d√πng sudo ufw status ƒë·ªÉ x√°c nh·∫≠n r·∫±ng c√°c c·ªïng n√†y ƒë√£ ƒë∆∞·ª£c m·ªü.",[682,683,685],"alert",{"type":684},"warning",[10,686,687],{},"N·∫øu b·∫°n ch∆∞a b·∫≠t ufw (Uncomplicated Firewall), b·∫°n c√≥ th·ªÉ b·∫≠t b·∫±ng l·ªánh sudo ufw enable. Tuy nhi√™n, h√£y ƒë·∫£m b·∫£o c·∫•u h√¨nh ch√≠nh x√°c ƒë·ªÉ kh√¥ng b·ªã kh√≥a SSH.",[10,689,690],{},"Ki·ªÉm tra ho·∫°t ƒë·ªông c·ªßa Nginx:",[10,692,693,694,698],{},"M·ªü tr√¨nh duy·ªát v√† truy c·∫≠p ƒë·ªãa ch·ªâ:\nüëâ http://\u003Cƒë·ªãa_ch·ªâ_IP_c·ªßa_b·∫°n> ho·∫∑c ",[195,695,696],{"href":696,"rel":697},"http://localhost",[573]," n·∫øu ki·ªÉm tra c·ª•c b·ªô.",[10,700,701],{},"B·∫°n s·∫Ω th·∫•y trang m·∫∑c ƒë·ªãnh ‚ÄúWelcome to nginx!‚Äù n·∫øu m·ªçi th·ª© ho·∫°t ƒë·ªông ƒë√∫ng c√°ch.",[38,703,283],{"id":704},"Ô∏è-c·∫•u-h√¨nh-default-host-trong-nginx",[10,706,707],{},"Tr√™n Ubuntu, file c·∫•u h√¨nh c·ªßa Nginx th∆∞·ªùng ƒë∆∞·ª£c l∆∞u t·∫°i c√°c v·ªã tr√≠ sau:",[22,709,710,716],{},[25,711,712,715],{},[147,713,714],{},"/etc/nginx/sites-available/default"," (N·∫øu s·ª≠ d·ª•ng th∆∞ m·ª•c sites-available v√† sites-enabled).",[25,717,718,721],{},[147,719,720],{},"/etc/nginx/conf.d/default.conf"," (Th√¥ng d·ª•ng cho c√°c c·∫•u h√¨nh ƒë∆°n gi·∫£n).",[10,723,724],{},"M·∫∑c ƒë·ªãnh, khi c√†i ƒë·∫∑t Nginx, s·∫Ω c√≥ m·ªôt file c·∫•u h√¨nh default trong th∆∞ m·ª•c /etc/nginx/sites-available/ v·ªõi m·ªôt s·ªë c·∫•u h√¨nh c∆° b·∫£n. B·∫°n c√≥ th·ªÉ s·ª≠a file n√†y ƒë·ªÉ c·∫•u h√¨nh server block cho website c·ªßa m√¨nh.",[10,726,727],{},[13,728,729],{},"C·∫•u h√¨nh Default Host",[10,731,732],{},"M·ªü file c·∫•u h√¨nh Nginx m·∫∑c ƒë·ªãnh:",[54,734],{":files":735},"[{\"title\":\"default.conf\",\"language\":\"nginx\",\"content\":\"sudo nano /etc/nginx/sites-available/default\"}]",[10,737,738,739,742,743,746,747,519],{},"M·∫∑c ƒë·ªãnh, Nginx s·∫Ω ch·ªçn block ƒë·∫ßu ti√™n khi kh√¥ng t√¨m th·∫•y ",[147,740,741],{},"server_name"," t∆∞∆°ng ·ª©ng. ƒê·ªÉ c·∫•u h√¨nh r√µ r√†ng host m·∫∑c ƒë·ªãnh, b·∫°n th√™m ",[147,744,745],{},"default_server"," v√†o d√≤ng ",[147,748,749],{},"listen",[54,751],{":files":752},"[{\"title\":\"default.conf\",\"language\":\"nginx\",\"content\":\"server {\\n    listen 80 default_server;\\n    server_name _;\\n    root /var/www/html;\\n    index index.html index.htm;\\n\\n    location / {\\n        try_files $uri $uri/ =404;\\n    }\\n}\\n\"}]",[10,754,755],{},[13,756,757],{},"Ghi ch√∫:",[22,759,760,766,772,778,784],{},[25,761,762,765],{},[147,763,764],{},"listen 80 default_server;",": C·∫•u h√¨nh Nginx l·∫Øng nghe c·ªïng 80 (HTTP) v√† ƒë√°nh d·∫•u ƒë√¢y l√† default_server (server m·∫∑c ƒë·ªãnh cho c√°c y√™u c·∫ßu kh√¥ng kh·ªõp v·ªõi server block kh√°c).",[25,767,768,771],{},[147,769,770],{},"root /var/www/html;",": ƒê∆∞·ªùng d·∫´n t·ªõi th∆∞ m·ª•c ch·ª©a c√°c t·ªáp tin c·ªßa website. B·∫°n c√≥ th·ªÉ thay ƒë·ªïi ƒë∆∞·ªùng d·∫´n n√†y th√†nh th∆∞ m·ª•c c·ªßa website b·∫°n mu·ªën ph·ª•c v·ª•.",[25,773,774,777],{},[147,775,776],{},"server_name _;",": Ch·ªâ th·ªã n√†y cho ph√©p server ch·∫•p nh·∫≠n t·∫•t c·∫£ c√°c y√™u c·∫ßu kh√¥ng kh·ªõp v·ªõi server block kh√°c. N·∫øu b·∫°n c√≥ t√™n mi·ªÅn c·ª• th·ªÉ, h√£y thay th·∫ø d·∫•u g·∫°ch d∆∞·ªõi (_) b·∫±ng t√™n mi·ªÅn c·ªßa b·∫°n.",[25,779,780,783],{},[147,781,782],{},"location /",": ƒê√¢y l√† ph·∫ßn c·∫•u h√¨nh ƒë·ªãnh tuy·∫øn cho c√°c y√™u c·∫ßu ƒë·∫øn. C·∫•u h√¨nh n√†y gi√∫p Nginx t√¨m ki·∫øm c√°c t·ªáp tin khi ng∆∞·ªùi d√πng truy c·∫≠p v√†o website.",[25,785,786,789],{},[147,787,788],{},"try_files $uri $uri/ =404;",": N·∫øu y√™u c·∫ßu kh√¥ng tr√πng kh·ªõp v·ªõi t·ªáp tin ho·∫∑c th∆∞ m·ª•c, s·∫Ω tr·∫£ v·ªÅ l·ªói 404.",[10,791,792],{},"Sau khi ch·ªânh s·ª≠a xong, b·∫°n c·∫ßn ki·ªÉm tra xem c·∫•u h√¨nh c√≥ ch√≠nh x√°c kh√¥ng:",[54,794],{":files":795},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"sudo nginx -t\"}]",[10,797,798],{},"N·∫øu kh√¥ng c√≥ l·ªói n√†o, b·∫°n c√≥ th·ªÉ kh·ªüi ƒë·ªông l·∫°i Nginx ƒë·ªÉ √°p d·ª•ng c·∫•u h√¨nh m·ªõi:",[54,800],{":files":801},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"sudo systemctl restart nginx\"}]",[10,803,804],{},"Gi·ªõi thi·ªáu v·ªÅ sites-available v√† sites-enabled",[10,806,807],{},"Trong Nginx, th∆∞ m·ª•c sites-available v√† sites-enabled l√† m·ªôt c∆° ch·∫ø ƒë·ªÉ qu·∫£n l√Ω c√°c website (virtual hosts) m√† Nginx c√≥ th·ªÉ ph·ª•c v·ª•. C·∫•u tr√∫c n√†y gi√∫p d·ªÖ d√†ng b·∫≠t/t·∫Øt c√°c website m√† kh√¥ng c·∫ßn ph·∫£i x√≥a ho·∫∑c thay ƒë·ªïi c·∫•u h√¨nh tr·ª±c ti·∫øp.",[521,809,810],{},[25,811,812,519],{},[147,813,814],{},"sites-available",[22,816,817,820,823],{},[25,818,819],{},"ƒê√¢y l√† n∆°i b·∫°n t·∫°o v√† l∆∞u tr·ªØ t·∫•t c·∫£ c√°c file c·∫•u h√¨nh c·ªßa c√°c website ho·∫∑c ·ª©ng d·ª•ng m√† b·∫°n mu·ªën Nginx ph·ª•c v·ª•.",[25,821,822],{},"M·ªói file c·∫•u h√¨nh trong sites-available ƒë·∫°i di·ªán cho m·ªôt website ho·∫∑c ·ª©ng d·ª•ng ri√™ng bi·ªát.",[25,824,825],{},"V√≠ d·ª•: /etc/nginx/sites-available/example.com l√† c·∫•u h√¨nh cho website example.com.",[521,827,828],{"start":208},[25,829,830,519],{},[147,831,832],{},"sites-enabled",[22,834,835,838,841],{},[25,836,837],{},"ƒê√¢y l√† n∆°i ch·ª©a c√°c li√™n k·∫øt t∆∞·ª£ng tr∆∞ng (symlink) ƒë·∫øn c√°c file c·∫•u h√¨nh trong sites-available m√† b·∫°n mu·ªën Nginx th·ª±c thi.",[25,839,840],{},"C√°c li√™n k·∫øt n√†y cho ph√©p Nginx bi·∫øt ƒë∆∞·ª£c website n√†o s·∫Ω ƒë∆∞·ª£c k√≠ch ho·∫°t.",[25,842,843],{},"B·∫°n kh√¥ng n√™n tr·ª±c ti·∫øp ch·ªânh s·ª≠a c√°c file trong sites-enabled. Thay v√†o ƒë√≥, b·∫°n t·∫°o symlink t·ª´ sites-available.",[10,845,846],{},"C√°ch th·ª©c ho·∫°t ƒë·ªông:",[22,848,849,852],{},[25,850,851],{},"Khi b·∫°n t·∫°o m·ªôt file c·∫•u h√¨nh trong sites-available, b·∫°n c√≥ th·ªÉ k√≠ch ho·∫°t n√≥ b·∫±ng c√°ch t·∫°o m·ªôt symlink ƒë·∫øn file ƒë√≥ trong th∆∞ m·ª•c sites-enabled.",[25,853,854,855,858],{},"ƒê·ªÉ t·∫°o symlink, s·ª≠ d·ª•ng l·ªánh ",[147,856,857],{},"ln -s",".",[10,860,861],{},"V√≠ d·ª•, n·∫øu b·∫°n c√≥ c·∫•u h√¨nh example.com trong sites-available, b·∫°n c√≥ th·ªÉ t·∫°o symlink v√†o sites-enabled nh∆∞ sau:",[54,863],{":files":864},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"sudo ln -s /etc/nginx/sites-available/example.com /etc/nginx/sites-enabled/\"}]",[38,866,288],{"id":867},"c·∫•u-h√¨nh-nginx-v·ªõi-php-fpm",[10,869,870],{},"ƒê·ªÉ x·ª≠ l√Ω c√°c file PHP, b·∫°n c·∫ßn k·∫øt n·ªëi Nginx v·ªõi PHP-FPM qua socket ho·∫∑c TCP:",[54,872],{":files":873},"[{\"title\":\"php-fpm.conf\",\"language\":\"nginx\",\"content\":\"location ~ \\\\.php$ {\\n  try_files $uri =404;\\n  fastcgi_pass unix:/var/run/php/php8.1-fpm.sock;\\n  fastcgi_index index.php;\\n  fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;\\n  include fastcgi_params;\\n}\\n\"}]",[10,875,876],{},[13,877,492],{},[22,879,880,883],{},[25,881,882],{},"ƒê∆∞·ªùng d·∫´n socket c√≥ th·ªÉ thay ƒë·ªïi t√πy phi√™n b·∫£n PHP.",[25,884,885],{},"N·∫øu d√πng TCP:",[54,887],{":files":888},"[{\"title\":\"php-fpm.conf\",\"language\":\"nginx\",\"content\":\"fastcgi_pass 127.0.0.1:9000;\"}]",[35,890],{},[38,892,293],{"id":893},"load-balancer-trong-nginx",[10,895,896],{},"Nginx h·ªó tr·ª£ c·∫•u h√¨nh c√¢n b·∫±ng t·∫£i v·ªõi nhi·ªÅu thu·∫≠t to√°n l·ª±a ch·ªçn backend:",[22,898,899,905,911,917],{},[25,900,901,904],{},[147,902,903],{},"round-robin",": M·∫∑c ƒë·ªãnh, ph√¢n ph·ªëi ƒë·ªÅu cho c√°c request.",[25,906,907,910],{},[147,908,909],{},"least_conn",": Ch·ªçn server √≠t k·∫øt n·ªëi nh·∫•t.",[25,912,913,916],{},[147,914,915],{},"ip_hash",": Duy tr√¨ session cho client.",[25,918,919,922],{},[147,920,921],{},"least_time",": ch·ªçn server c√≥ th·ªùi gian ph·∫£n h·ªìi √≠t nh·∫•t",[10,924,925],{},"C√≥ th·ªÉ th√™m tr·ªçng s·ªë cho server b·∫±ng c√°ch th√™m s·ªë sau ip:port",[22,927,928],{},[25,929,930],{},"Ex: server 192.168.1.0:8000 weight=3;",[54,932],{":files":933},"[{\"title\":\"upstream.conf\",\"language\":\"nginx\",\"content\":\"upstream myapp1 {\\n    ip_hash;\\n    server 192.168.1.10:8000;\\n    server 192.168.2.10:8000;\\n    # server 192.168.1.10:8000 weight=3;\\n}\\n\"}]",[10,935,936],{},"C·∫•u h√¨nh server block proxy ƒë·∫øn upstream:",[54,938],{":files":939},"[{\"title\":\"proxy.conf\",\"language\":\"nginx\",\"content\":\"server {\\n  listen 80 default_server;\\n  server_name _;\\n  root /var/www/html;\\n  index index.html index.htm;\\n\\n  location / {\\n      proxy_pass http://myapp1;\\n      proxy_set_header Host $host;\\n      proxy_set_header X-Real-IP $remote_addr;\\n      proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\\n      proxy_set_header X-Forwarded-Proto $scheme;\\n  }\\n}\\n\"}]",[35,941],{},[38,943,298],{"id":944},"gzip-compression",[10,946,300],{},[54,948],{":files":949},"[{\"title\":\"gzip.conf\",\"language\":\"nginx\",\"content\":\"gzip on;\\ngzip_disable \\\"msie6\\\";\\ngzip_vary on;\\ngzip_proxied any;\\ngzip_comp_level 6;\\ngzip_types text/plain text/css application/json application/javascript text/xml application/xml application/xml+rss text/javascript;\\n\"}]",[35,951],{},[38,953,303],{"id":954},"k√≠ch-ho·∫°t-http2",[10,956,305],{},[54,958],{":files":959},"[{\"title\":\"http2.conf\",\"language\":\"nginx\",\"content\":\"listen 443 ssl http2;\\n\"}]",[35,961],{},[38,963,308],{"id":964},"rate-limiting",[10,966,310],{},[54,968],{":files":969},"[{\"title\":\"rate-limiting.conf\",\"language\":\"nginx\",\"content\":\"limit_req_zone $binary_remote_addr zone=mylimit:10m rate=1r/s;\\n\\nlocation /api/ {\\n    limit_req zone=mylimit burst=5;\\n}\\n\"}]",[35,971],{},[38,973,313],{"id":974},"redirect-v√†-rewrites",[10,976,977],{},"Chuy·ªÉn h∆∞·ªõng to√†n b·ªô traffic HTTP sang HTTPS:",[54,979],{":files":980},"[{\"title\":\"redirect.conf\",\"language\":\"nginx\",\"content\":\"server {\\n    listen 80;\\n    server_name example.com;\\n    return 301 https://$host$request_uri;\\n}\\nserver {\\n    listen 443 ssl;\\n    server_name example.com;\\n    ssl_certificate /path/to/cert.pem;\\n    ssl_certificate_key /path/to/key.pem;\\n}\\n\"}]",[10,982,983],{},"Vi·∫øt l·∫°i URL cho SPA:",[54,985],{":files":986},"[{\"title\":\"rewrite.conf\",\"language\":\"nginx\",\"content\":\"location /api/ {\\n    rewrite ^/api/(.*)$ /$1 break;\\n}\\n\"}]",[35,988],{},[38,990,318],{"id":991},"hardening-security",[10,993,994],{},"B·∫£o v·ªá server b·∫±ng c√°ch t·ª´ ch·ªëi truy c·∫≠p file nh·∫°y c·∫£m:",[54,996],{":files":997},"[{\"title\":\"deny.conf\",\"language\":\"nginx\",\"content\":\"location ~* \\\\\\\\.(git|env|bak|log)$ {\\n  deny all;\\n}\\n\"}]",[10,999,1000],{},"·∫®n th√¥ng tin server:",[54,1002],{":files":1003},"[{\"title\":\"security.conf\",\"language\":\"nginx\",\"content\":\"server_tokens off;\\n\"}]",[10,1005,1006],{},"Ch·ªëng clickjacking v√† XSS:",[54,1008],{":files":1009},"[{\"title\":\"headers.conf\",\"language\":\"nginx\",\"content\":\"add_header X-Content-Security-Policy \\\"default-src 'self'\\\";\\nadd_header X-Frame-Options \\\"DENY\\\";\\nadd_header X-XSS-Protection \\\"1; mode=block\\\";\\nadd_header Referrer-Policy \\\"no-referrer\\\";\\n\"}]",[35,1011],{},[38,1013,323],{"id":1014},"logging-n√¢ng-cao",[10,1016,325],{},[54,1018],{":files":1019},"[{\"title\":\"logging.conf\",\"language\":\"nginx\",\"content\":\"log_format main '$remote_addr - $remote_user [$time_local] \\\"$request\\\" '\\n               '$status $body_bytes_sent \\\"$http_referer\\\" '\\n               '\\\"$http_user_agent\\\" \\\"$http_x_forwarded_for\\\"';\\naccess_log /var/log/nginx/access.log main;\\n\"}]",[35,1021],{},[38,1023,268],{"id":564},[22,1025,1026,1033,1040,1047],{},[25,1027,1028],{},[195,1029,1032],{"href":1030,"rel":1031},"https://nginx.org/en/docs/",[573],"Nginx Documentation",[25,1034,1035],{},[195,1036,1039],{"href":1037,"rel":1038},"https://docs.nginx.com/nginx/admin-guide/load-balancer/http-load-balancer/",[573],"Nginx Load Balancing Guide",[25,1041,1042],{},[195,1043,1046],{"href":1044,"rel":1045},"https://www.php.net/manual/en/install.fpm.configuration.php",[573],"Nginx + PHP-FPM Setup",[25,1048,1049],{},[195,1050,1053],{"href":1051,"rel":1052},"https://owasp.org/www-project-secure-headers/",[573],"OWASP Nginx Hardening Guide",[35,1055],{},[592,1057],{},[10,1059,1060],{},[13,1061,598],{},[10,1063,1064],{},"Nginx l√† c√¥ng c·ª• c·ª±c k·ª≥ m·∫°nh m·∫Ω v√† linh ho·∫°t, kh√¥ng ch·ªâ gi·ªõi h·∫°n ·ªü web server m√† c√≤n l√† reverse proxy, caching layer, v√† load balancer. Vi·ªác n·∫Øm v·ªØng v√† khai th√°c t·ªët c√°c t√≠nh nƒÉng s·∫Ω gi√∫p h·ªá th·ªëng c·ªßa b·∫°n hi·ªáu su·∫•t cao, b·∫£o m·∫≠t v√† d·ªÖ m·ªü r·ªông.",[1066,1067,1068],"blockquote",{},[10,1069,1070,1073],{},[13,1071,1072],{},"Ch√∫c b·∫°n tri·ªÉn khai th√†nh c√¥ng!"," üöÄ",{"title":207,"searchDepth":208,"depth":208,"links":1075},[],"H∆∞·ªõng d·∫´n chi ti·∫øt v·ªÅ c·∫•u h√¨nh m·∫∑c ƒë·ªãnh, PHP-FPM v√† thi·∫øt l·∫≠p Load Balancer v·ªõi Nginx.","/images/blog/basic-nginx/banner.png",{},{"title":273,"description":1076},"blog/basic-nginx",[1082],"nginx","ao842Asyx4Nq_8V88bY-z-mlaWImmDPwQOsg60s9M6w",{"id":4,"title":5,"body":1085,"date":222,"description":223,"extension":224,"image":225,"meta":1219,"navigation":227,"path":228,"published":227,"seo":1220,"stem":230,"tags":1221,"__hash__":233},{"type":7,"value":1086,"toc":1205},[1087,1091,1093,1095,1103,1105,1107,1109,1111,1113,1115,1117,1119,1121,1123,1125,1127,1129,1131,1133,1135,1137,1139,1141,1143,1145,1147,1149,1151,1153,1155,1157,1159,1161,1163,1165,1167,1171,1173,1175,1177,1179,1181,1183,1185,1187,1189,1193,1195],[10,1088,1089],{},[13,1090,5],{},[10,1092,17],{},[10,1094,20],{},[22,1096,1097,1099,1101],{},[25,1098,27],{},[25,1100,30],{},[25,1102,33],{},[35,1104],{},[38,1106,41],{"id":40},[10,1108,44],{},[46,1110,49],{"id":48},[10,1112,52],{},[54,1114],{":files":56},[46,1116,60],{"id":59},[10,1118,63],{},[54,1120],{":files":66},[46,1122,70],{"id":69},[10,1124,73],{},[54,1126],{":files":76},[46,1128,80],{"id":79},[10,1130,83],{},[54,1132],{":files":86},[46,1134,90],{"id":89},[10,1136,93],{},[54,1138],{":files":96},[46,1140,100],{"id":99},[10,1142,103],{},[54,1144],{":files":106},[10,1146,109],{},[54,1148],{":files":112},[10,1150,115],{},[54,1152],{":files":118},[38,1154,122],{"id":121},[10,1156,125],{},[46,1158,129],{"id":128},[54,1160],{":files":132},[10,1162,135],{},[54,1164],{":files":138},[46,1166,142],{"id":141},[10,1168,145,1169,150],{},[147,1170,149],{},[54,1172],{":files":153},[46,1174,157],{"id":156},[10,1176,160],{},[54,1178],{":files":163},[46,1180,167],{"id":166},[10,1182,170],{},[54,1184],{":files":173},[46,1186,177],{"id":176},[10,1188,180],{},[10,1190,1191],{},[13,1192,185],{},[46,1194,189],{"id":188},[22,1196,1197,1201],{},[25,1198,1199],{},[195,1200,199],{"href":197,"target":198},[25,1202,1203],{},[195,1204,205],{"href":204,"target":198},{"title":207,"searchDepth":208,"depth":208,"links":1206},[1207,1208,1209,1210,1211,1212,1213,1214,1215,1216,1217,1218],{"id":48,"depth":208,"text":49},{"id":59,"depth":208,"text":60},{"id":69,"depth":208,"text":70},{"id":79,"depth":208,"text":80},{"id":89,"depth":208,"text":90},{"id":99,"depth":208,"text":100},{"id":128,"depth":208,"text":129},{"id":141,"depth":208,"text":142},{"id":156,"depth":208,"text":157},{"id":166,"depth":208,"text":167},{"id":176,"depth":208,"text":177},{"id":188,"depth":208,"text":189},{},{"title":5,"description":223},[232],{"id":1223,"title":381,"body":1224,"date":222,"description":1308,"extension":224,"image":1309,"meta":1310,"navigation":227,"path":380,"published":227,"seo":1311,"stem":1312,"tags":1313,"__hash__":1315},"blog/blog/common-docker-file.md",{"type":7,"value":1225,"toc":1299},[1226,1230,1233,1239,1241,1244,1246,1249,1252,1254,1257,1260,1262,1265,1268,1270,1273,1276,1278,1281,1284,1286,1288,1291],[10,1227,1228],{},[13,1229,381],{},[10,1231,1232],{},"Docker l√† m·ªôt c√¥ng c·ª• ·∫£o h√≥a nh·∫π gi√∫p ph√°t tri·ªÉn, tri·ªÉn khai v√† ch·∫°y ·ª©ng d·ª•ng trong c√°c container. N√≥ cho ph√©p b·∫°n ƒë√≥ng g√≥i ·ª©ng d·ª•ng v√† t·∫•t c·∫£ c√°c ph·ª• thu·ªôc c·ªßa n√≥ v√†o m·ªôt container duy nh·∫•t, gi√∫p d·ªÖ d√†ng tri·ªÉn khai tr√™n b·∫•t k·ª≥ m√¥i tr∆∞·ªùng n√†o m√† kh√¥ng c·∫ßn lo l·∫Øng v·ªÅ s·ª± kh√°c bi·ªát gi·ªØa c√°c m√¥i tr∆∞·ªùng.",[682,1234,1236],{"type":1235},"info",[10,1237,1238],{},"ƒê√¢y l√† m·ªôt s·ªë Dockerfile cho c√°c d·ª± √°n th∆∞·ªùng g·∫∑p, b·∫°n c√≥ th·ªÉ tham kh·∫£o v√† ƒëi·ªÅu ch·ªânh theo nhu c·∫ßu c·ªßa m√¨nh.",[592,1240],{},[46,1242,386],{"id":1243},"_1-dockerfile-cho-nodejs",[10,1245,388],{},[54,1247],{":files":1248},"[{\"title\":\"Dockerfile\",\"language\":\"dockerfile\",\"content\":\"FROM node:18-slim\\nWORKDIR /app\\nCOPY package*.json ./\\nRUN npm install --production\\nCOPY . .\\nEXPOSE 3000\\nCMD [\\\"node\\\", \\\"index.js\\\"]\\n\"}]",[46,1250,391],{"id":1251},"_2-dockerfile-cho-php-v·ªõi-laravel",[10,1253,393],{},[54,1255],{":files":1256},"[{\"title\":\"Dockerfile\",\"language\":\"dockerfile\",\"content\":\"FROM php:8.1-fpm-alpine\\nRUN apk add --no-cache libpng libjpeg-turbo libfreetype && \\\\\\n    docker-php-ext-configure gd --with-freetype --with-jpeg && \\\\\\n    docker-php-ext-install gd pdo pdo_mysql\\nWORKDIR /var/www\\nCOPY . .\\nRUN curl -sS https://getcomposer.org/installer | php -- --install-dir=/usr/local/bin --filename=composer\\nRUN composer install --optimize-autoloader --no-dev\\nEXPOSE 9000\\nCMD [\\\"php-fpm\\\"]\\n\"}]",[46,1258,396],{"id":1259},"_3-dockerfile-cho-react",[10,1261,398],{},[54,1263],{":files":1264},"[{\"title\":\"Dockerfile\",\"language\":\"dockerfile\",\"content\":\"FROM node:18-slim as build\\nWORKDIR /app\\nCOPY . .\\nRUN npm install\\nRUN npm run build\\n\\nFROM nginx:alpine\\nCOPY --from=build /app/build /usr/share/nginx/html\\nEXPOSE 80\\nCMD [\\\"nginx\\\", \\\"-g\\\", \\\"daemon off;\\\"]\\n\"}]",[46,1266,401],{"id":1267},"_4-dockerfile-cho-vue",[10,1269,403],{},[54,1271],{":files":1272},"[{\"title\":\"Dockerfile\",\"language\":\"dockerfile\",\"content\":\"FROM node:18-slim as build\\nWORKDIR /app\\nCOPY . .\\nRUN npm install\\nRUN npm run build\\n\\nFROM nginx:alpine\\nCOPY --from=build /app/dist /usr/share/nginx/html\\nEXPOSE 80\\nCMD [\\\"nginx\\\", \\\"-g\\\", \\\"daemon off;\\\"]\\n\"}]",[46,1274,406],{"id":1275},"_5-dockerfile-cho-nuxtjs",[10,1277,408],{},[54,1279],{":files":1280},"[{\"title\":\"Dockerfile\",\"language\":\"dockerfile\",\"content\":\"FROM node:18-slim as build\\nWORKDIR /app\\nCOPY . .\\nRUN npm install\\nRUN npm run build\\n\\nFROM node:18-slim\\nWORKDIR /app\\nCOPY --from=build /app /app\\nEXPOSE 3000\\nCMD [\\\"npm\\\", \\\"run\\\", \\\"start\\\"]\\n\"}]",[46,1282,411],{"id":1283},"_6-dockerfile-cho-nextjs",[10,1285,413],{},[54,1287],{":files":1280},[46,1289,416],{"id":1290},"ƒëang-c·∫≠p-nh·∫≠t",[10,1292,1293,1294,1298],{},"N·∫øu b·∫°n c√≥ c√°c c·∫•u h√¨nh ho·∫∑c Dockerfile kh√°c mu·ªën chia s·∫ª, vui l√≤ng g·ª≠i email v·ªÅ ",[195,1295,1297],{"href":1296},"mailto:vinhtieng123@gmail.com","vinhtieng123@gmail.com",". M√¨nh r·∫•t tr√¢n tr·ªçng ƒëi·ªÅu ƒë√≥.",{"title":207,"searchDepth":208,"depth":208,"links":1300},[1301,1302,1303,1304,1305,1306,1307],{"id":1243,"depth":208,"text":386},{"id":1251,"depth":208,"text":391},{"id":1259,"depth":208,"text":396},{"id":1267,"depth":208,"text":401},{"id":1275,"depth":208,"text":406},{"id":1283,"depth":208,"text":411},{"id":1290,"depth":208,"text":416},"T√¨m hi·ªÉu v·ªÅ Docker v√† kh√°m ph√° c√°c Dockerfile ph·ªï bi·∫øn cho nhi·ªÅu d·ª± √°n nh∆∞ Node.js, PHP v·ªõi Laravel, React, Vue, Nuxt v√† Next.js. Kh√°m ph√° c√°c k·ªπ thu·∫≠t t·ªëi ∆∞u v√† th·ª±c h√†nh t·ªët nh·∫•t.","/images/blog/common-docker-file/banner.png",{},{"title":381,"description":1308},"blog/common-docker-file",[1314],"docker","NfJI8ypf2V6yCkSfFemNtxpkkiktFDpWBXDLN1VHxos",1745808339293]