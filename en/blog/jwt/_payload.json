[{"data":1,"prerenderedAt":1691},["ShallowReactive",2],{"blog-jwt":3,"search":266,"related-posts-jwt":517,"all-post":578},{"id":4,"title":5,"body":6,"date":254,"description":255,"extension":256,"image":257,"meta":258,"navigation":259,"path":260,"published":259,"seo":261,"stem":262,"tags":263,"__hash__":265},"blog/blog/jwt.md","Táº¥t táº§n táº­t vá» JWT",{"type":7,"value":8,"toc":250},"minimal",[9,14,18,21,27,37,41,57,67,71,97,101,108,111,114,117,120,133,136,139,154,157,160,163,166,170,188,191,210,213,217,223,226,230],[10,11,13],"h1",{"id":12},"_1-giá»›i-thiá»‡u-vá»-jwt","1. Giá»›i thiá»‡u vá» JWT",[15,16,17],"p",{},"JWT (JSON Web Token) lÃ  má»™t tiÃªu chuáº©n má»Ÿ (RFC 7519) cho phÃ©p truyá»n táº£i thÃ´ng tin giá»¯a cÃ¡c bÃªn dÆ°á»›i dáº¡ng JSON. JWT thÆ°á»ng Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ xÃ¡c thá»±c vÃ  phÃ¢n quyá»n trong cÃ¡c á»©ng dá»¥ng web.",[15,19,20],{},"Má»™t JWT token trÃ´ng nhÆ° sau:",[22,23,24],"alert",{},[15,25,26],{},"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c",[15,28,29,30],{},"Trang web chÃ­nh thá»©c cá»§a JWT: ",[31,32,36],"a",{"href":33,"rel":34},"https://jwt.io/",[35],"nofollow","jwt.io",[10,38,40],{"id":39},"_2-cÃ¡c-thÃ nh-pháº§n-cá»§a-jwt","2. CÃ¡c thÃ nh pháº§n cá»§a JWT",[15,42,43,44,48,49,52,53,56],{},"JWT bao gá»“m ba pháº§n chÃ­nh: ",[45,46,47],"code",{},"Header",", ",[45,50,51],{},"Payload"," vÃ  ",[45,54,55],{},"Signature",". Má»—i pháº§n Ä‘Æ°á»£c mÃ£ hÃ³a báº±ng Base64Url vÃ  Ä‘Æ°á»£c phÃ¢n tÃ¡ch báº±ng dáº¥u cháº¥m (.).",[58,59,60],"ul",{},[61,62,63,66],"li",{},[64,65,47],"strong",{},": Chá»©a thÃ´ng tin vá» thuáº­t toÃ¡n mÃ£ hÃ³a vÃ  loáº¡i token. VÃ­ dá»¥:",[68,69],"code-block",{":files":70},"[{\"title\":\"json\",\"language\":\"json\",\"content\":\"{\\n  \\\"alg\\\": \\\"HS256\\\",\\n  \\\"typ\\\": \\\"JWT\\\"\\n}\\n\"}]",[58,72,73,81],{},[61,74,75,77,78],{},[64,76,51],{},": Chá»©a thÃ´ng tin mÃ  báº¡n muá»‘n truyá»n táº£i. ÄÃ¢y cÃ³ thá»ƒ lÃ  thÃ´ng tin ngÆ°á»i dÃ¹ng, quyá»n truy cáº­p, thá»i gian háº¿t háº¡n, v.v. VÃ­ dá»¥:",[68,79],{":files":80},"[{\"title\":\"json\",\"language\":\"json\",\"content\":\"{\\n  \\\"sub\\\": \\\"1234567890\\\",\\n  \\\"name\\\": \\\"John Doe\\\",\\n  \\\"iat\\\": 1516239022\\n}\\n\"}]",[61,82,83,85,86,52,88,90,91,93,94],{},[64,84,55],{},": ÄÆ°á»£c táº¡o báº±ng cÃ¡ch mÃ£ hÃ³a ",[45,87,47],{},[45,89,51],{}," vá»›i má»™t khÃ³a bÃ­ máº­t vÃ  thuáº­t toÃ¡n Ä‘Ã£ chá»‰ Ä‘á»‹nh trong ",[45,92,47],{},". Äiá»u nÃ y giÃºp Ä‘áº£m báº£o ráº±ng token khÃ´ng bá»‹ thay Ä‘á»•i trong quÃ¡ trÃ¬nh truyá»n táº£i. VÃ­ dá»¥:",[68,95],{":files":96},"[{\"title\":\"json\",\"language\":\"json\",\"content\":\"HMACSHA256(\\n  base64UrlEncode(header) + \\\".\\\" +\\n  base64UrlEncode(payload),\\n  your-256-bit-secret\\n)\\n\"}]",[10,98,100],{"id":99},"_3-viáº¿t-láº¡i-hÃ m-Ä‘á»ƒ-generate-jwt-token-vÃ -verify-jwt-token-trong-nodejs","3. Viáº¿t láº¡i hÃ m Ä‘á»ƒ generate JWT token vÃ  verify JWT token trong NodeJs",[15,102,103,104,107],{},"Khi lÃ m viá»‡c vá»›i jwt vÃ  nodeJs, háº§u háº¿t má»i ngÆ°á»i sáº½ sá»­ dá»¥ng thÆ° viá»‡n ",[45,105,106],{},"jsonwebtoken"," Ä‘á»ƒ táº¡o vÃ  xÃ¡c thá»±c JWT token. Tuy nhiÃªn, Ä‘á»ƒ hiá»ƒu rÃµ hÆ¡n vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a JWT, chÃºng ta cÃ³ thá»ƒ tá»± viáº¿t hÃ m Ä‘á»ƒ táº¡o vÃ  xÃ¡c thá»±c JWT token.",[15,109,110],{},"Giáº£ sá»­ chÃºng ta muá»‘n táº¡o JWT token tá»« thÃ´ng tin user_id=123, khi Ä‘Ã³ pháº§n payload sáº½ lÃ :",[68,112],{":files":113},"[{\"title\":\"javascript\",\"language\":\"javascript\",\"content\":\"const payload = {\\n  user_id: 123\\n}\\n\"}]",[15,115,116],{},"á» pháº§n header, chÃºng ta sáº½ sá»­ dá»¥ng thuáº­t toÃ¡n HS256 Ä‘á»ƒ mÃ£ hÃ³a JWT token.",[68,118],{":files":119},"[{\"title\":\"javascript\",\"language\":\"javascript\",\"content\":\"const header = {\\n  alg: 'HS256',\\n  typ: 'JWT'\\n}\\n\"}]",[15,121,122,123,52,125,127,128,52,130,132],{},"Äá»ƒ táº¡o JWT token, chÃºng ta cáº§n mÃ£ hÃ³a ",[45,124,47],{},[45,126,51],{}," báº±ng Base64Url. Sau Ä‘Ã³, chÃºng ta sáº½ táº¡o chá»¯ kÃ½ báº±ng cÃ¡ch sá»­ dá»¥ng thuáº­t toÃ¡n HMACSHA256 vá»›i khÃ³a bÃ­ máº­t (secret key) vÃ  káº¿t há»£p ",[45,129,47],{},[45,131,51],{},".",[15,134,135],{},"Äáº§u tiÃªn chÃºng ta cáº§n viáº¿t 1 hÃ m Ä‘á»ƒ mÃ£ hÃ³a Base64Url:",[68,137],{":files":138},"[{\"title\":\"javascript\",\"language\":\"javascript\",\"content\":\"function base64UrlEncode(str) {\\n  return Buffer.from(str)\\n    .toString('base64')\\n    .replace(/=/g, '')\\n    .replace(/\\\\+/g, '-')\\n    .replace(/\\\\//g, '_');\\n}\\n\"}]",[15,140,141,142,145,146,149,150,153],{},"á» Ä‘Ã¢y, vÃ¬ chÃºng ta sá»­ dá»¥ng NodeJs nÃªn cÃ³ thá»ƒ sá»­ dá»¥ng ",[45,143,144],{},"Buffer"," Ä‘á»ƒ mÃ£ hÃ³a Base64Url. Náº¿u báº¡n Ä‘ang lÃ m viá»‡c vá»›i JavaScript trÃªn trÃ¬nh duyá»‡t, báº¡n cÃ³ thá»ƒ sá»­ dá»¥ng ",[45,147,148],{},"btoa()"," Ä‘á»ƒ mÃ£ hÃ³a Base64Url. Khi muá»‘n giáº£i mÃ£, báº¡n cÃ³ thá»ƒ sá»­ dá»¥ng ",[45,151,152],{},"atob()",". HÃ m nÃ y lÃ  hÃ m cÃ³ sáºµn trong trÃ¬nh duyá»‡t.",[15,155,156],{},"Tiáº¿p theo, chÃºng ta sáº½ triá»ƒn khai hÃ m táº¡o JWT token. Thay vÃ¬ tá»± mÃ£ hÃ³a thá»§ cÃ´ng báº±ng cÃ¡ch base64UrlEncode Header vÃ  Payload rá»“i ná»‘i vá»›i secret key, chÃºng ta sáº½ thá»±c hiá»‡n Ä‘Ãºng theo chuáº©n thá»±c táº¿ báº±ng cÃ¡ch sá»­ dá»¥ng thuáº­t toÃ¡n HMAC-SHA256 Ä‘á»ƒ táº¡o chá»¯ kÃ½ sá»‘.",[15,158,159],{},"Trong Node.js, chÃºng ta cÃ³ thá»ƒ dá»… dÃ ng thá»±c hiá»‡n Ä‘iá»u nÃ y báº±ng cÃ¡ch dÃ¹ng thÆ° viá»‡n tÃ­ch há»£p sáºµn lÃ  crypto, cá»¥ thá»ƒ lÃ  hÃ m createHmac. HÃ m nÃ y sáº½ giÃºp chÃºng ta táº¡o ra chá»¯ kÃ½ (signature) tá»« chuá»—i Ä‘Ã£ mÃ£ hÃ³a gá»“m Header vÃ  Payload, káº¿t há»£p vá»›i secret key Ä‘á»ƒ Ä‘áº£m báº£o tÃ­nh toÃ n váº¹n vÃ  xÃ¡c thá»±c cá»§a token.",[15,161,162],{},"Full code mÃ£ hÃ³a JWT token sáº½ nhÆ° sau:",[68,164],{":files":165},"[{\"title\":\"javascript\",\"language\":\"javascript\",\"content\":\"const crypto = require('crypto');\\nfunction base64UrlEncode(str) {\\n  return Buffer.from(str)\\n    .toString('base64')\\n    .replace(/=/g, '')\\n    .replace(/\\\\+/g, '-')\\n    .replace(/\\\\//g, '_');\\n}\\n\\nfunction createJWT(payload, secret) {\\n  const header = {\\n    alg: 'HS256',\\n    typ: 'JWT'\\n  };\\n\\n  const encodedHeader = base64UrlEncode(JSON.stringify(header));\\n  const encodedPayload = base64UrlEncode(JSON.stringify(payload));\\n\\n  const signature = crypto\\n    .createHmac('sha256', secret)\\n    .update(`${encodedHeader}.${encodedPayload}`)\\n    .digest('base64')\\n    .replace(/=/g, '')\\n    .replace(/\\\\+/g, '-')\\n    .replace(/\\\\//g, '_');\\n\\n  return `${encodedHeader}.${encodedPayload}.${signature}`;\\n}\\n\"}]",[10,167,169],{"id":168},"_4-xÃ¡c-thá»±c-jwt-token","4. XÃ¡c thá»±c JWT token",[15,171,172,173,48,175,52,177,179,180,52,182,184,185,187],{},"Äá»ƒ xÃ¡c thá»±c JWT token, chÃºng ta cáº§n kiá»ƒm tra chá»¯ kÃ½ (signature) cá»§a token. Äáº§u tiÃªn, chÃºng ta sáº½ tÃ¡ch ",[45,174,47],{},[45,176,51],{},[45,178,55],{}," tá»« token. Sau Ä‘Ã³, chÃºng ta sáº½ mÃ£ hÃ³a láº¡i ",[45,181,47],{},[45,183,51],{}," báº±ng cÃ¹ng má»™t khÃ³a bÃ­ máº­t vÃ  thuáº­t toÃ¡n Ä‘Ã£ chá»‰ Ä‘á»‹nh trong ",[45,186,47],{},". Cuá»‘i cÃ¹ng, chÃºng ta so sÃ¡nh chá»¯ kÃ½ Ä‘Ã£ táº¡o vá»›i chá»¯ kÃ½ trong token.",[68,189],{":files":190},"[{\"title\":\"javascript\",\"language\":\"javascript\",\"content\":\"function verifyJWT(token, secret) {\\n  const [encodedHeader, encodedPayload, signature] = token.split('.');\\n  const expectedSignature = crypto\\n    .createHmac('sha256', secret)\\n    .update(`${encodedHeader}.${encodedPayload}`)\\n    .digest('base64')\\n    .replace(/=/g, '')\\n    .replace(/\\\\+/g, '-')\\n    .replace(/\\\\//g, '_');\\n\\n  return expectedSignature === signature;\\n}\\nconst token = createJWT(payload, secret);\\nconst isValid = verifyJWT(token, secret);\\nconsole.log('Token is valid:', isValid);\\n\"}]",[15,192,193,194,197,198,201,202,205,206,209],{},"HÃ m ",[45,195,196],{},"verifyJWT"," sáº½ tráº£ vá» ",[45,199,200],{},"true"," náº¿u chá»¯ kÃ½ há»£p lá»‡ vÃ  ",[45,203,204],{},"false"," náº¿u khÃ´ng há»£p lá»‡.\nNáº¿u báº¡n muá»‘n kiá»ƒm tra xem token cÃ³ háº¿t háº¡n hay khÃ´ng, báº¡n cÃ³ thá»ƒ thÃªm má»™t trÆ°á»ng ",[45,207,208],{},"exp"," vÃ o payload. TrÆ°á»ng nÃ y sáº½ chá»©a thá»i gian háº¿t háº¡n cá»§a token dÆ°á»›i dáº¡ng timestamp (sá»‘ giÃ¢y ká»ƒ tá»« 1/1/1970).",[68,211],{":files":212},"[{\"title\":\"javascript\",\"language\":\"javascript\",\"content\":\"const payload = {\\n  user_id: 123,\\n  exp: Math.floor(Date.now() / 1000) + (60 * 60) // Háº¿t háº¡n sau 1 giá»\\n};\\nconst token = createJWT(payload, secret);\\nconst isValid = verifyJWT(token, secret);\\nconst decodedPayload = JSON.parse(Buffer.from(token.split('.')[1], 'base64').toString());\\nconst isExpired = decodedPayload.exp \u003C Math.floor(Date.now() / 1000);\\nconsole.log('Token is valid:', isValid);\\nconsole.log('Token is expired:', isExpired);\\n\"}]",[10,214,216],{"id":215},"_5-káº¿t-luáº­n","5. Káº¿t luáº­n",[15,218,219,220,222],{},"JWT lÃ  má»™t cÃ´ng cá»¥ máº¡nh máº½ Ä‘á»ƒ xÃ¡c thá»±c vÃ  phÃ¢n quyá»n trong cÃ¡c á»©ng dá»¥ng web. Báº±ng cÃ¡ch hiá»ƒu rÃµ cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a JWT, báº¡n cÃ³ thá»ƒ tá»± táº¡o vÃ  xÃ¡c thá»±c JWT token mÃ  khÃ´ng cáº§n phá»¥ thuá»™c vÃ o thÆ° viá»‡n bÃªn ngoÃ i. Tuy nhiÃªn, trong thá»±c táº¿, báº¡n nÃªn sá»­ dá»¥ng thÆ° viá»‡n ",[45,221,106],{}," Ä‘á»ƒ tiáº¿t kiá»‡m thá»i gian vÃ  cÃ´ng sá»©c.",[15,224,225],{},"Hy vá»ng bÃ i viáº¿t nÃ y Ä‘Ã£ giÃºp báº¡n hiá»ƒu rÃµ hÆ¡n vá» JWT vÃ  cÃ¡ch sá»­ dá»¥ng nÃ³ trong á»©ng dá»¥ng cá»§a mÃ¬nh. Náº¿u báº¡n cÃ³ báº¥t ká»³ cÃ¢u há»i nÃ o, hÃ£y liÃªn há»‡ vá»›i mÃ¬nh qua cÃ¡c kÃªnh liÃªn láº¡c nhÆ° email, facebook, zalo hoáº·c telegram nhÃ©!",[10,227,229],{"id":228},"_6-tÃ i-liá»‡u-tham-kháº£o","6. TÃ i liá»‡u tham kháº£o",[58,231,232,237,244],{},[61,233,234],{},[31,235,36],{"href":33,"rel":236},[35],[61,238,239],{},[31,240,243],{"href":241,"rel":242},"https://datatracker.ietf.org/doc/html/rfc7519",[35],"RFC 7519 - JSON Web Token (JWT)",[61,245,246],{},[31,247,106],{"href":248,"rel":249},"https://www.npmjs.com/package/jsonwebtoken",[35],{"title":251,"searchDepth":252,"depth":252,"links":253},"",2,[],"2025-05-05T00:00:00.000Z","Giá»›i thiá»‡u vá» JWT, cÃ¡c thÃ nh pháº§n cá»§a JWT, cÃ¡ch sá»­ dá»¥ng JWT trong á»©ng dá»¥ng vÃ  cÃ¡c váº¥n Ä‘á» liÃªn quan Ä‘áº¿n báº£o máº­t.","md","/images/blog/jwt/banner.webp",{},true,"/blog/jwt",{"title":5,"description":255},"blog/jwt",[264],"npm","8un4y1GyUg96Mt6CYGM1woUPkHsT5GLAAqACQ5n_Xsc",[267,273,278,283,288,293,298,303,308,313,318,323,328,333,338,343,348,353,358,362,367,372,377,382,387,392,397,402,407,412,417,422,427,432,437,442,447,452,457,462,467,472,477,479,483,487,491,495,499,503,508,513],{"id":268,"title":269,"titles":270,"content":271,"level":272},"/blog/ansible","Tá»•ng quan vÃ  cáº¥u hÃ¬nh Ansible",[],"HÆ°á»›ng dáº«n chi tiáº¿t vá» cÃ i Ä‘áº·t, cáº¥u hÃ¬nh SSH, inventory vÃ  sá»­ dá»¥ng Playbook trong Ansible. HÆ°á»›ng dáº«n chi tiáº¿t vá» cÃ i Ä‘áº·t vÃ  triá»ƒn khai Ansible Ansible lÃ  má»™t cÃ´ng cá»¥ tá»± Ä‘á»™ng hÃ³a máº¡nh máº½, giÃºp quáº£n lÃ½ cáº¥u hÃ¬nh, triá»ƒn khai á»©ng dá»¥ng vÃ  Ä‘iá»u phá»‘i há»‡ thá»‘ng má»™t cÃ¡ch dá»… dÃ ng. Trong bÃ i viáº¿t nÃ y, chÃºng ta sáº½ tÃ¬m hiá»ƒu cÃ¡ch cÃ i Ä‘áº·t, cáº¥u hÃ¬nh vÃ  sá»­ dá»¥ng Ansible thÃ´ng qua cÃ¡c vÃ­ dá»¥ thá»±c táº¿.",1,{"id":274,"title":275,"titles":276,"content":277,"level":272},"/blog/ansible#ï¸-cÃ i-Ä‘áº·t-ansible","ğŸ› ï¸ CÃ i Ä‘áº·t Ansible",[],"HÆ°á»›ng dáº«n cÃ i Ä‘áº·t Ansible trÃªn Ubuntu: Sau khi cÃ i Ä‘áº·t, báº¡n cÃ³ thá»ƒ kiá»ƒm tra phiÃªn báº£n Ansible:",{"id":279,"title":280,"titles":281,"content":282,"level":272},"/blog/ansible#cáº¥u-hÃ¬nh-ssh","ğŸ”‘ Cáº¥u hÃ¬nh SSH",[],"Äá»ƒ Ansible cÃ³ thá»ƒ káº¿t ná»‘i Ä‘áº¿n cÃ¡c mÃ¡y chá»§ tá»« xa, báº¡n cáº§n cáº¥u hÃ¬nh SSH. DÆ°á»›i Ä‘Ã¢y lÃ  cÃ¡ch sao chÃ©p SSH key Ä‘áº¿n mÃ¡y chá»§ khÃ¡c: LÆ°u Ã½: Thay vinhtieng@123.3123.12 báº±ng tÃªn ngÆ°á»i dÃ¹ng vÃ  Ä‘á»‹a chá»‰ IP cá»§a mÃ¡y chá»§ tá»« xa.",{"id":284,"title":285,"titles":286,"content":287,"level":272},"/blog/ansible#hosts-inventory","ğŸ“‹ Hosts - Inventory",[],"File inventory lÃ  nÆ¡i báº¡n Ä‘á»‹nh nghÄ©a danh sÃ¡ch cÃ¡c mÃ¡y chá»§ mÃ  Ansible sáº½ quáº£n lÃ½. ÄÃ¢y lÃ  má»™t vÃ­ dá»¥ cÆ¡ báº£n:",{"id":289,"title":290,"titles":291,"content":292,"level":272},"/blog/ansible#kiá»ƒm-tra-káº¿t-ná»‘i-ping","ğŸ“ Kiá»ƒm tra káº¿t ná»‘i (Ping)",[],"Báº¡n cÃ³ thá»ƒ kiá»ƒm tra káº¿t ná»‘i Ä‘áº¿n cÃ¡c mÃ¡y chá»§ báº±ng lá»‡nh ping: Ping vá»›i file hosts máº·c Ä‘á»‹nh: Ping vá»›i file inventory tÃ¹y chá»‰nh:",{"id":294,"title":295,"titles":296,"content":297,"level":272},"/blog/ansible#playbook-task-module","ğŸ“œ Playbook - Task - Module",[],"Playbook lÃ  nÆ¡i báº¡n Ä‘á»‹nh nghÄ©a cÃ¡c tÃ¡c vá»¥ (tasks) cáº§n thá»±c hiá»‡n trÃªn cÃ¡c mÃ¡y chá»§. DÆ°á»›i Ä‘Ã¢y lÃ  cÃ¡ch cháº¡y má»™t playbook: VÃ­ dá»¥ vá» Playbook Ä‘Æ¡n giáº£n:",{"id":299,"title":300,"titles":301,"content":302,"level":272},"/blog/ansible#tÃ i-liá»‡u-tham-kháº£o","ğŸ“š TÃ i liá»‡u tham kháº£o",[],"Ansible DocumentationAnsible GalaxyAnsible Playbook Guide TÃ³m láº¡i: Ansible lÃ  cÃ´ng cá»¥ máº¡nh máº½ giÃºp tá»± Ä‘á»™ng hÃ³a cÃ¡c tÃ¡c vá»¥ quáº£n trá»‹ há»‡ thá»‘ng. Viá»‡c náº¯m vá»¯ng cÃ¡ch sá»­ dá»¥ng Ansible sáº½ giÃºp báº¡n tiáº¿t kiá»‡m thá»i gian vÃ  giáº£m thiá»ƒu lá»—i trong quÃ¡ trÃ¬nh quáº£n lÃ½ há»‡ thá»‘ng.",{"id":304,"title":305,"titles":306,"content":307,"level":272},"/blog/basic-nginx","Tá»•ng quan vÃ  cáº¥u hÃ¬nh thÃ´ng dá»¥ng Nginx",[],"HÆ°á»›ng dáº«n chi tiáº¿t vá» cáº¥u hÃ¬nh máº·c Ä‘á»‹nh, PHP-FPM vÃ  thiáº¿t láº­p Load Balancer vá»›i Nginx. HÆ°á»›ng dáº«n chi tiáº¿t vá» cáº¥u hÃ¬nh vÃ  triá»ƒn khai Nginx Nginx lÃ  má»™t web server mÃ£ nguá»“n má»Ÿ máº¡nh máº½, Ä‘Æ°á»£c sá»­ dá»¥ng phá»• biáº¿n Ä‘á»ƒ phá»¥c vá»¥ ná»™i dung tÄ©nh, reverse proxy, cÃ¢n báº±ng táº£i, báº£o máº­t vÃ  há»— trá»£ PHP thÃ´ng qua FastCGI. Trong bÃ i viáº¿t nÃ y, chÃºng ta sáº½ Ä‘i qua cÃ¡c cáº¥u hÃ¬nh tá»« cÆ¡ báº£n Ä‘áº¿n nÃ¢ng cao, bao gá»“m: CÃ¡ch cÃ i Ä‘áº·t NginxCáº¥u hÃ¬nh mÃ¡y chá»§ máº·c Ä‘á»‹nh (default host)TÃ­ch há»£p vá»›i PHP-FPMThiáº¿t láº­p Load Balancer (cÃ¢n báº±ng táº£i)Gzip, HTTP/2, Rate limitingRedirect, RewritesHardening & SecurityLogging nÃ¢ng cao",{"id":309,"title":310,"titles":311,"content":312,"level":272},"/blog/basic-nginx#ï¸-cÃ i-Ä‘áº·t-nginx","ğŸ› ï¸ CÃ i Ä‘áº·t Nginx",[],"HÆ°á»›ng dáº«n cÃ i Ä‘áº·t Nginx trÃªn Ubuntu: Sau khi cÃ i Ä‘áº·t, báº¡n cÃ³ thá»ƒ kiá»ƒm tra tráº¡ng thÃ¡i Nginx: Kiá»ƒm tra tÆ°á»ng lá»­a: Sau khi cÃ i Ä‘áº·t Nginx, báº¡n nÃªn Ä‘áº£m báº£o ráº±ng tÆ°á»ng lá»­a (firewall) cho phÃ©p lÆ°u lÆ°á»£ng HTTP vÃ  HTTPS Ä‘á»ƒ mÃ¡y chá»§ cÃ³ thá»ƒ phá»¥c vá»¥ ná»™i dung web. Lá»‡nh sudo ufw allow 'Nginx Full' sáº½ má»Ÿ cáº£ hai cá»•ng 80 (HTTP) vÃ  443 (HTTPS).\nSau Ä‘Ã³, dÃ¹ng sudo ufw status Ä‘á»ƒ xÃ¡c nháº­n ráº±ng cÃ¡c cá»•ng nÃ y Ä‘Ã£ Ä‘Æ°á»£c má»Ÿ. Náº¿u báº¡n chÆ°a báº­t ufw (Uncomplicated Firewall), báº¡n cÃ³ thá»ƒ báº­t báº±ng lá»‡nh sudo ufw enable. Tuy nhiÃªn, hÃ£y Ä‘áº£m báº£o cáº¥u hÃ¬nh chÃ­nh xÃ¡c Ä‘á»ƒ khÃ´ng bá»‹ khÃ³a SSH. Kiá»ƒm tra hoáº¡t Ä‘á»™ng cá»§a Nginx: Má»Ÿ trÃ¬nh duyá»‡t vÃ  truy cáº­p Ä‘á»‹a chá»‰:\nğŸ‘‰ http://\u003CÄ‘á»‹a_chá»‰_IP_cá»§a_báº¡n> hoáº·c http://localhost náº¿u kiá»ƒm tra cá»¥c bá»™. Báº¡n sáº½ tháº¥y trang máº·c Ä‘á»‹nh â€œWelcome to nginx!â€ náº¿u má»i thá»© hoáº¡t Ä‘á»™ng Ä‘Ãºng cÃ¡ch.",{"id":314,"title":315,"titles":316,"content":317,"level":272},"/blog/basic-nginx#ï¸-cáº¥u-hÃ¬nh-default-host-trong-nginx","âš™ï¸ Cáº¥u hÃ¬nh Default Host trong Nginx",[],"TrÃªn Ubuntu, file cáº¥u hÃ¬nh cá»§a Nginx thÆ°á»ng Ä‘Æ°á»£c lÆ°u táº¡i cÃ¡c vá»‹ trÃ­ sau: /etc/nginx/sites-available/default (Náº¿u sá»­ dá»¥ng thÆ° má»¥c sites-available vÃ  sites-enabled)./etc/nginx/conf.d/default.conf (ThÃ´ng dá»¥ng cho cÃ¡c cáº¥u hÃ¬nh Ä‘Æ¡n giáº£n). Máº·c Ä‘á»‹nh, khi cÃ i Ä‘áº·t Nginx, sáº½ cÃ³ má»™t file cáº¥u hÃ¬nh default trong thÆ° má»¥c /etc/nginx/sites-available/ vá»›i má»™t sá»‘ cáº¥u hÃ¬nh cÆ¡ báº£n. Báº¡n cÃ³ thá»ƒ sá»­a file nÃ y Ä‘á»ƒ cáº¥u hÃ¬nh server block cho website cá»§a mÃ¬nh. Cáº¥u hÃ¬nh Default Host Má»Ÿ file cáº¥u hÃ¬nh Nginx máº·c Ä‘á»‹nh: Máº·c Ä‘á»‹nh, Nginx sáº½ chá»n block Ä‘áº§u tiÃªn khi khÃ´ng tÃ¬m tháº¥y server_name tÆ°Æ¡ng á»©ng. Äá»ƒ cáº¥u hÃ¬nh rÃµ rÃ ng host máº·c Ä‘á»‹nh, báº¡n thÃªm default_server vÃ o dÃ²ng listen: Ghi chÃº: listen 80 default_server;: Cáº¥u hÃ¬nh Nginx láº¯ng nghe cá»•ng 80 (HTTP) vÃ  Ä‘Ã¡nh dáº¥u Ä‘Ã¢y lÃ  default_server (server máº·c Ä‘á»‹nh cho cÃ¡c yÃªu cáº§u khÃ´ng khá»›p vá»›i server block khÃ¡c).root /var/www/html;: ÄÆ°á»ng dáº«n tá»›i thÆ° má»¥c chá»©a cÃ¡c tá»‡p tin cá»§a website. Báº¡n cÃ³ thá»ƒ thay Ä‘á»•i Ä‘Æ°á»ng dáº«n nÃ y thÃ nh thÆ° má»¥c cá»§a website báº¡n muá»‘n phá»¥c vá»¥.server_name _;: Chá»‰ thá»‹ nÃ y cho phÃ©p server cháº¥p nháº­n táº¥t cáº£ cÃ¡c yÃªu cáº§u khÃ´ng khá»›p vá»›i server block khÃ¡c. Náº¿u báº¡n cÃ³ tÃªn miá»n cá»¥ thá»ƒ, hÃ£y thay tháº¿ dáº¥u gáº¡ch dÆ°á»›i (_) báº±ng tÃªn miá»n cá»§a báº¡n.location /: ÄÃ¢y lÃ  pháº§n cáº¥u hÃ¬nh Ä‘á»‹nh tuyáº¿n cho cÃ¡c yÃªu cáº§u Ä‘áº¿n. Cáº¥u hÃ¬nh nÃ y giÃºp Nginx tÃ¬m kiáº¿m cÃ¡c tá»‡p tin khi ngÆ°á»i dÃ¹ng truy cáº­p vÃ o website.try_files $uri $uri/ =404;: Náº¿u yÃªu cáº§u khÃ´ng trÃ¹ng khá»›p vá»›i tá»‡p tin hoáº·c thÆ° má»¥c, sáº½ tráº£ vá» lá»—i 404. Sau khi chá»‰nh sá»­a xong, báº¡n cáº§n kiá»ƒm tra xem cáº¥u hÃ¬nh cÃ³ chÃ­nh xÃ¡c khÃ´ng: Náº¿u khÃ´ng cÃ³ lá»—i nÃ o, báº¡n cÃ³ thá»ƒ khá»Ÿi Ä‘á»™ng láº¡i Nginx Ä‘á»ƒ Ã¡p dá»¥ng cáº¥u hÃ¬nh má»›i: Giá»›i thiá»‡u vá» sites-available vÃ  sites-enabled Trong Nginx, thÆ° má»¥c sites-available vÃ  sites-enabled lÃ  má»™t cÆ¡ cháº¿ Ä‘á»ƒ quáº£n lÃ½ cÃ¡c website (virtual hosts) mÃ  Nginx cÃ³ thá»ƒ phá»¥c vá»¥. Cáº¥u trÃºc nÃ y giÃºp dá»… dÃ ng báº­t/táº¯t cÃ¡c website mÃ  khÃ´ng cáº§n pháº£i xÃ³a hoáº·c thay Ä‘á»•i cáº¥u hÃ¬nh trá»±c tiáº¿p. sites-available: ÄÃ¢y lÃ  nÆ¡i báº¡n táº¡o vÃ  lÆ°u trá»¯ táº¥t cáº£ cÃ¡c file cáº¥u hÃ¬nh cá»§a cÃ¡c website hoáº·c á»©ng dá»¥ng mÃ  báº¡n muá»‘n Nginx phá»¥c vá»¥.Má»—i file cáº¥u hÃ¬nh trong sites-available Ä‘áº¡i diá»‡n cho má»™t website hoáº·c á»©ng dá»¥ng riÃªng biá»‡t.VÃ­ dá»¥: /etc/nginx/sites-available/example.com lÃ  cáº¥u hÃ¬nh cho website example.com. sites-enabled: ÄÃ¢y lÃ  nÆ¡i chá»©a cÃ¡c liÃªn káº¿t tÆ°á»£ng trÆ°ng (symlink) Ä‘áº¿n cÃ¡c file cáº¥u hÃ¬nh trong sites-available mÃ  báº¡n muá»‘n Nginx thá»±c thi.CÃ¡c liÃªn káº¿t nÃ y cho phÃ©p Nginx biáº¿t Ä‘Æ°á»£c website nÃ o sáº½ Ä‘Æ°á»£c kÃ­ch hoáº¡t.Báº¡n khÃ´ng nÃªn trá»±c tiáº¿p chá»‰nh sá»­a cÃ¡c file trong sites-enabled. Thay vÃ o Ä‘Ã³, báº¡n táº¡o symlink tá»« sites-available. CÃ¡ch thá»©c hoáº¡t Ä‘á»™ng: Khi báº¡n táº¡o má»™t file cáº¥u hÃ¬nh trong sites-available, báº¡n cÃ³ thá»ƒ kÃ­ch hoáº¡t nÃ³ báº±ng cÃ¡ch táº¡o má»™t symlink Ä‘áº¿n file Ä‘Ã³ trong thÆ° má»¥c sites-enabled.Äá»ƒ táº¡o symlink, sá»­ dá»¥ng lá»‡nh ln -s. VÃ­ dá»¥, náº¿u báº¡n cÃ³ cáº¥u hÃ¬nh example.com trong sites-available, báº¡n cÃ³ thá»ƒ táº¡o symlink vÃ o sites-enabled nhÆ° sau:",{"id":319,"title":320,"titles":321,"content":322,"level":272},"/blog/basic-nginx#cáº¥u-hÃ¬nh-nginx-vá»›i-php-fpm","ğŸ˜ Cáº¥u hÃ¬nh Nginx vá»›i PHP-FPM",[],"Äá»ƒ xá»­ lÃ½ cÃ¡c file PHP, báº¡n cáº§n káº¿t ná»‘i Nginx vá»›i PHP-FPM qua socket hoáº·c TCP: LÆ°u Ã½: ÄÆ°á»ng dáº«n socket cÃ³ thá»ƒ thay Ä‘á»•i tÃ¹y phiÃªn báº£n PHP.Náº¿u dÃ¹ng TCP:",{"id":324,"title":325,"titles":326,"content":327,"level":272},"/blog/basic-nginx#load-balancer-trong-nginx","ğŸŒ Load Balancer trong Nginx",[],"Nginx há»— trá»£ cáº¥u hÃ¬nh cÃ¢n báº±ng táº£i vá»›i nhiá»u thuáº­t toÃ¡n lá»±a chá»n backend: round-robin: Máº·c Ä‘á»‹nh, phÃ¢n phá»‘i Ä‘á»u cho cÃ¡c request.least_conn: Chá»n server Ã­t káº¿t ná»‘i nháº¥t.ip_hash: Duy trÃ¬ session cho client.least_time: chá»n server cÃ³ thá»i gian pháº£n há»“i Ã­t nháº¥t CÃ³ thá»ƒ thÃªm trá»ng sá»‘ cho server báº±ng cÃ¡ch thÃªm sá»‘ sau ip:port Ex: server 192.168.1.0:8000 weight=3; Cáº¥u hÃ¬nh server block proxy Ä‘áº¿n upstream:",{"id":329,"title":330,"titles":331,"content":332,"level":272},"/blog/basic-nginx#gzip-compression","ğŸ“¦ Gzip Compression",[],"Báº­t gzip giÃºp tÄƒng tá»‘c Ä‘á»™ táº£i trang báº±ng cÃ¡ch nÃ©n ná»™i dung tráº£ vá»:",{"id":334,"title":335,"titles":336,"content":337,"level":272},"/blog/basic-nginx#kÃ­ch-hoáº¡t-http2","âš¡ KÃ­ch hoáº¡t HTTP/2",[],"HTTP/2 cáº£i thiá»‡n hiá»‡u suáº¥t thÃ´ng qua multiplexing vÃ  header compression:",{"id":339,"title":340,"titles":341,"content":342,"level":272},"/blog/basic-nginx#rate-limiting","ğŸš¦ Rate Limiting",[],"Giá»›i háº¡n sá»‘ lÆ°á»£ng request Ä‘á»ƒ trÃ¡nh DDoS vÃ  abuse:",{"id":344,"title":345,"titles":346,"content":347,"level":272},"/blog/basic-nginx#redirect-vÃ -rewrites","ğŸ” Redirect vÃ  Rewrites",[],"Chuyá»ƒn hÆ°á»›ng toÃ n bá»™ traffic HTTP sang HTTPS: Viáº¿t láº¡i URL cho SPA:",{"id":349,"title":350,"titles":351,"content":352,"level":272},"/blog/basic-nginx#hardening-security","ğŸ” Hardening & Security",[],"Báº£o vá»‡ server báº±ng cÃ¡ch tá»« chá»‘i truy cáº­p file nháº¡y cáº£m: áº¨n thÃ´ng tin server: Chá»‘ng clickjacking vÃ  XSS:",{"id":354,"title":355,"titles":356,"content":357,"level":272},"/blog/basic-nginx#logging-nÃ¢ng-cao","ğŸ“Š Logging nÃ¢ng cao",[],"Cáº¥u hÃ¬nh custom log format Ä‘á»ƒ dá»… debug:",{"id":359,"title":300,"titles":360,"content":361,"level":272},"/blog/basic-nginx#tÃ i-liá»‡u-tham-kháº£o",[],"Nginx DocumentationNginx Load Balancing GuideNginx + PHP-FPM SetupOWASP Nginx Hardening Guide TÃ³m láº¡i: Nginx lÃ  cÃ´ng cá»¥ cá»±c ká»³ máº¡nh máº½ vÃ  linh hoáº¡t, khÃ´ng chá»‰ giá»›i háº¡n á»Ÿ web server mÃ  cÃ²n lÃ  reverse proxy, caching layer, vÃ  load balancer. Viá»‡c náº¯m vá»¯ng vÃ  khai thÃ¡c tá»‘t cÃ¡c tÃ­nh nÄƒng sáº½ giÃºp há»‡ thá»‘ng cá»§a báº¡n hiá»‡u suáº¥t cao, báº£o máº­t vÃ  dá»… má»Ÿ rá»™ng.",{"id":363,"title":364,"titles":365,"content":366,"level":272},"/blog/basic-redis","CÆ¡ Báº£n Vá» Redis vÃ  TÃ­ch Há»£p Vá»›i Node.js",[],"TÃ¬m hiá»ƒu cÃ¡c khÃ¡i niá»‡m cÆ¡ báº£n vá» Redis bao gá»“m cÃ¡c kiá»ƒu dá»¯ liá»‡u vÃ  phÆ°Æ¡ng thá»©c, cÅ©ng nhÆ° cÃ¡ch tÃ­ch há»£p Redis vÃ o á»©ng dá»¥ng Node.js Ä‘á»ƒ sá»­ dá»¥ng bá»™ nhá»› Ä‘á»‡m vÃ  cÃ¡c tÃ­nh nÄƒng thá»i gian thá»±c. CÆ¡ Báº£n Vá» Redis vÃ  TÃ­ch Há»£p Vá»›i Node.js Redis lÃ  má»™t kho dá»¯ liá»‡u key-value trong bá»™ nhá»›, mÃ£ nguá»“n má»Ÿ, ná»•i tiáº¿ng vá»›i hiá»‡u suáº¥t vÃ  tÃ­nh linh hoáº¡t. Redis há»— trá»£ nhiá»u kiá»ƒu dá»¯ liá»‡u, phÃ¹ há»£p cho viá»‡c sá»­ dá»¥ng bá»™ nhá»› Ä‘á»‡m, á»©ng dá»¥ng thá»i gian thá»±c, há»‡ thá»‘ng pub/sub, vÃ  nhiá»u hÆ¡n ná»¯a. Trong hÆ°á»›ng dáº«n nÃ y, chÃºng ta sáº½ tÃ¬m hiá»ƒu: CÃ¡c kiá»ƒu dá»¯ liá»‡u trong RedisCÃ¡c lá»‡nh phá»• biáº¿n cá»§a RedisCÃ¡ch tÃ­ch há»£p Redis vÃ o dá»± Ã¡n Node.js",{"id":368,"title":369,"titles":370,"content":371,"level":272},"/blog/basic-redis#cÃ¡c-kiá»ƒu-dá»¯-liá»‡u-lá»‡nh-redis","ğŸ“¦ CÃ¡c Kiá»ƒu Dá»¯ Liá»‡u & Lá»‡nh Redis",[],"Redis há»— trá»£ nhiá»u cáº¥u trÃºc dá»¯ liá»‡u khÃ¡c nhau:",{"id":373,"title":374,"titles":375,"content":376,"level":252},"/blog/basic-redis#_1-chuá»—i-strings","1. Chuá»—i (Strings)",[369],"Chuá»—i lÃ  kiá»ƒu dá»¯ liá»‡u cÆ¡ báº£n nháº¥t trong Redis. Báº¡n cÃ³ thá»ƒ lÆ°u trá»¯ báº¥t ká»³ giÃ¡ trá»‹ nÃ o dÆ°á»›i dáº¡ng chuá»—i, bao gá»“m cáº£ sá»‘ nguyÃªn vÃ  JSON Ä‘Æ°á»£c tuáº§n tá»± hÃ³a.",{"id":378,"title":379,"titles":380,"content":381,"level":252},"/blog/basic-redis#_2-danh-sÃ¡ch-lists","2. Danh sÃ¡ch (Lists)",[369],"Danh sÃ¡ch lÃ  cÃ¡c táº­p há»£p cÃ³ thá»© tá»± cá»§a chuá»—i. Báº¡n cÃ³ thá»ƒ thÃªm pháº§n tá»­ vÃ o Ä‘áº§u hoáº·c cuá»‘i danh sÃ¡ch.",{"id":383,"title":384,"titles":385,"content":386,"level":252},"/blog/basic-redis#_3-táº­p-há»£p-sets","3. Táº­p há»£p (Sets)",[369],"Táº­p há»£p lÃ  cÃ¡c táº­p há»£p khÃ´ng cÃ³ thá»© tá»± cá»§a cÃ¡c chuá»—i duy nháº¥t. ChÃºng há»— trá»£ cÃ¡c phÃ©p toÃ¡n nhÆ° há»£p, giao, vÃ  hiá»‡u.",{"id":388,"title":389,"titles":390,"content":391,"level":252},"/blog/basic-redis#_4-bÄƒm-hashes","4. BÄƒm (Hashes)",[369],"BÄƒm lÃ  cÃ¡c báº£n Ä‘á»“ giá»¯a trÆ°á»ng chuá»—i vÃ  giÃ¡ trá»‹ chuá»—i, ráº¥t lÃ½ tÆ°á»Ÿng Ä‘á»ƒ biá»ƒu diá»…n cÃ¡c Ä‘á»‘i tÆ°á»£ng.",{"id":393,"title":394,"titles":395,"content":396,"level":252},"/blog/basic-redis#_5-táº­p-há»£p-cÃ³-thá»©-tá»±-sorted-sets","5. Táº­p há»£p cÃ³ thá»© tá»± (Sorted Sets)",[369],"Táº­p há»£p cÃ³ thá»© tá»± tÆ°Æ¡ng tá»± nhÆ° táº­p há»£p nhÆ°ng cÃ³ má»™t Ä‘iá»ƒm sá»‘ liÃªn káº¿t vá»›i má»—i pháº§n tá»­, cho phÃ©p truy xuáº¥t theo thá»© tá»±.",{"id":398,"title":399,"titles":400,"content":401,"level":252},"/blog/basic-redis#_6-bitmaps-hyperloglogs-streams","6. Bitmaps, HyperLogLogs, Streams",[369],"ÄÃ¢y lÃ  cÃ¡c cáº¥u trÃºc nÃ¢ng cao hÆ¡n:\nBitmaps Ä‘Æ°á»£c sá»­ dá»¥ng cho cÃ¡c thao tÃ¡c cáº¥p bit, cho phÃ©p báº¡n thao tÃ¡c cÃ¡c bit riÃªng láº» trong má»™t chuá»—i. HyperLogLogs Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ Æ°á»›c tÃ­nh sá»‘ lÆ°á»£ng pháº§n tá»­ duy nháº¥t trong má»™t táº­p há»£p, ráº¥t há»¯u Ã­ch cho cÃ¡c trÆ°á»ng há»£p nhÆ° theo dÃµi sá»‘ lÆ°á»£ng khÃ¡ch truy cáº­p duy nháº¥t. Streams Ä‘Æ°á»£c thiáº¿t káº¿ cho cÃ¡c Ä‘Æ°á»ng dáº«n dá»¯ liá»‡u thá»i gian thá»±c vÃ  nguá»“n sá»± kiá»‡n, cho phÃ©p báº¡n thÃªm vÃ  truy váº¥n dá»¯ liá»‡u theo chuá»—i thá»i gian.",{"id":403,"title":404,"titles":405,"content":406,"level":272},"/blog/basic-redis#tÃ­ch-há»£p-redis-vá»›i-nodejs","ğŸ”§ TÃ­ch Há»£p Redis Vá»›i Node.js",[],"Báº¡n cÃ³ thá»ƒ sá»­ dá»¥ng thÆ° viá»‡n ioredis hoáº·c redis client phá»• biáº¿n. DÆ°á»›i Ä‘Ã¢y lÃ  má»™t vÃ­ dá»¥ vá»›i ioredis.",{"id":408,"title":409,"titles":410,"content":411,"level":252},"/blog/basic-redis#_1-cÃ i-Ä‘áº·t-redis-vÃ -ioredis","1. CÃ i Äáº·t Redis vÃ  ioredis",[404],"Äáº£m báº£o ráº±ng báº¡n Ä‘Ã£ cÃ i Ä‘áº·t vÃ  cháº¡y Redis. Báº¡n cÃ³ thá»ƒ sá»­ dá»¥ng Docker Ä‘á»ƒ cháº¡y Redis má»™t cÃ¡ch dá»… dÃ ng:",{"id":413,"title":414,"titles":415,"content":416,"level":252},"/blog/basic-redis#_2-thiáº¿t-láº­p-cÆ¡-báº£n","2. Thiáº¿t Láº­p CÆ¡ Báº£n",[404],"Táº¡o má»™t tá»‡p cÃ³ tÃªn redis.js vÃ  thÃªm Ä‘oáº¡n mÃ£ sau:",{"id":418,"title":419,"titles":420,"content":421,"level":252},"/blog/basic-redis#_3-sá»­-dá»¥ng-redis-trong-á»©ng-dá»¥ng","3. Sá»­ Dá»¥ng Redis Trong á»¨ng Dá»¥ng",[404],"BÃ¢y giá» báº¡n cÃ³ thá»ƒ sá»­ dá»¥ng Redis trong á»©ng dá»¥ng cá»§a mÃ¬nh. DÆ°á»›i Ä‘Ã¢y lÃ  má»™t vÃ­ dá»¥ vá» viá»‡c thiáº¿t láº­p vÃ  láº¥y giÃ¡ trá»‹:",{"id":423,"title":424,"titles":425,"content":426,"level":252},"/blog/basic-redis#_4-vÃ­-dá»¥-vá»-bá»™-nhá»›-Ä‘á»‡m","4. VÃ­ Dá»¥ Vá» Bá»™ Nhá»› Äá»‡m",[404],"Báº¡n cÃ³ thá»ƒ sá»­ dá»¥ng Redis lÃ m bá»™ nhá»› Ä‘á»‡m Ä‘á»ƒ lÆ°u trá»¯ dá»¯ liá»‡u Ä‘Æ°á»£c truy cáº­p thÆ°á»ng xuyÃªn. DÆ°á»›i Ä‘Ã¢y lÃ  má»™t vÃ­ dá»¥ vá» viá»‡c lÆ°u trá»¯ káº¿t quáº£ truy váº¥n cÆ¡ sá»Ÿ dá»¯ liá»‡u vÃ o bá»™ nhá»› Ä‘á»‡m:",{"id":428,"title":429,"titles":430,"content":431,"level":252},"/blog/basic-redis#_5-káº¿t-luáº­n","5. Káº¿t Luáº­n",[404],"Redis lÃ  má»™t cÃ´ng cá»¥ máº¡nh máº½ cho bá»™ nhá»› Ä‘á»‡m vÃ  cÃ¡c á»©ng dá»¥ng thá»i gian thá»±c. Báº±ng cÃ¡ch tÃ­ch há»£p Redis vÃ o cÃ¡c dá»± Ã¡n Node.js, báº¡n cÃ³ thá»ƒ cáº£i thiá»‡n Ä‘Ã¡ng ká»ƒ hiá»‡u suáº¥t vÃ  kháº£ nÄƒng má»Ÿ rá»™ng. HÆ°á»›ng dáº«n nÃ y Ä‘Ã£ bao quÃ¡t cÃ¡c khÃ¡i niá»‡m cÆ¡ báº£n vá» kiá»ƒu dá»¯ liá»‡u, lá»‡nh, vÃ  cÃ¡ch sá»­ dá»¥ng Redis trong á»©ng dá»¥ng Node.js.\nHÃ£y khÃ¡m phÃ¡ thÃªm cÃ¡c tÃ­nh nÄƒng nÃ¢ng cao nhÆ° giao dá»‹ch, scripting Lua, vÃ  clustering khi báº¡n Ä‘Ã£ quen thuá»™c hÆ¡n vá»›i Redis.\nRedis lÃ  má»™t cÃ´ng cá»¥ Ä‘a nÄƒng cÃ³ thá»ƒ nÃ¢ng cao Ä‘Ã¡ng ká»ƒ á»©ng dá»¥ng cá»§a báº¡n. Happy Coding",{"id":433,"title":434,"titles":435,"content":436,"level":252},"/blog/basic-redis#_6-tÃ i-nguyÃªn-tham-kháº£o","6. TÃ i NguyÃªn Tham Kháº£o",[404],"TÃ i liá»‡u RedisTÃ i liá»‡u ioredis",{"id":438,"title":439,"titles":440,"content":441,"level":272},"/blog/common-docker-file","CÃ¡c Dockerfile Phá»• Biáº¿n Cho Nhiá»u Dá»± Ãn KhÃ¡c Nhau",[],"TÃ¬m hiá»ƒu vá» Docker vÃ  khÃ¡m phÃ¡ cÃ¡c Dockerfile phá»• biáº¿n cho nhiá»u dá»± Ã¡n nhÆ° Node.js, PHP vá»›i Laravel, React, Vue, Nuxt vÃ  Next.js. KhÃ¡m phÃ¡ cÃ¡c ká»¹ thuáº­t tá»‘i Æ°u vÃ  thá»±c hÃ nh tá»‘t nháº¥t. CÃ¡c Dockerfile Phá»• Biáº¿n Cho Nhiá»u Dá»± Ãn KhÃ¡c Nhau Docker lÃ  má»™t cÃ´ng cá»¥ áº£o hÃ³a nháº¹ giÃºp phÃ¡t triá»ƒn, triá»ƒn khai vÃ  cháº¡y á»©ng dá»¥ng trong cÃ¡c container. NÃ³ cho phÃ©p báº¡n Ä‘Ã³ng gÃ³i á»©ng dá»¥ng vÃ  táº¥t cáº£ cÃ¡c phá»¥ thuá»™c cá»§a nÃ³ vÃ o má»™t container duy nháº¥t, giÃºp dá»… dÃ ng triá»ƒn khai trÃªn báº¥t ká»³ mÃ´i trÆ°á»ng nÃ o mÃ  khÃ´ng cáº§n lo láº¯ng vá» sá»± khÃ¡c biá»‡t giá»¯a cÃ¡c mÃ´i trÆ°á»ng. ÄÃ¢y lÃ  má»™t sá»‘ Dockerfile cho cÃ¡c dá»± Ã¡n thÆ°á»ng gáº·p, báº¡n cÃ³ thá»ƒ tham kháº£o vÃ  Ä‘iá»u chá»‰nh theo nhu cáº§u cá»§a mÃ¬nh.",{"id":443,"title":444,"titles":445,"content":446,"level":252},"/blog/common-docker-file#_1-dockerfile-cho-nodejs","1. Dockerfile cho Node.js",[439],"Dockerfile cho Node.js ráº¥t quan trá»ng khi triá»ƒn khai á»©ng dá»¥ng JavaScript phÃ­a server. ÄÃ¢y lÃ  má»™t Dockerfile Ä‘Ã£ Ä‘Æ°á»£c tá»‘i Æ°u cho má»™t dá»± Ã¡n Node.js Ä‘iá»ƒn hÃ¬nh:",{"id":448,"title":449,"titles":450,"content":451,"level":252},"/blog/common-docker-file#_2-dockerfile-cho-php-vá»›i-laravel","2. Dockerfile cho PHP vá»›i Laravel",[439],"Laravel lÃ  má»™t framework PHP phá»• biáº¿n Ä‘á»ƒ xÃ¢y dá»±ng á»©ng dá»¥ng web. DÆ°á»›i Ä‘Ã¢y lÃ  Dockerfile cho má»™t dá»± Ã¡n Laravel:",{"id":453,"title":454,"titles":455,"content":456,"level":252},"/blog/common-docker-file#_3-dockerfile-cho-react","3. Dockerfile cho React",[439],"React thÆ°á»ng Ä‘Æ°á»£c táº¡o báº±ng Create React App. ÄÃ¢y lÃ  Dockerfile cho dá»± Ã¡n React:",{"id":458,"title":459,"titles":460,"content":461,"level":252},"/blog/common-docker-file#_4-dockerfile-cho-vue","4. Dockerfile cho Vue",[439],"Vue cÅ©ng Ä‘Æ°á»£c xÃ¢y dá»±ng tÆ°Æ¡ng tá»± nhÆ° React. DÆ°á»›i Ä‘Ã¢y lÃ  Dockerfile cho Vue:",{"id":463,"title":464,"titles":465,"content":466,"level":252},"/blog/common-docker-file#_5-dockerfile-cho-nuxtjs","5. Dockerfile cho Nuxt.js",[439],"Nuxt.js lÃ  má»™t framework máº¡nh máº½ Ä‘á»ƒ xÃ¢y dá»±ng á»©ng dá»¥ng Vue. ÄÃ¢y lÃ  Dockerfile cho dá»± Ã¡n Nuxt:",{"id":468,"title":469,"titles":470,"content":471,"level":252},"/blog/common-docker-file#_6-dockerfile-cho-nextjs","6. Dockerfile cho Next.js",[439],"Next.js lÃ  má»™t framework React phá»• biáº¿n cho viá»‡c render phÃ­a server. ÄÃ¢y lÃ  Dockerfile cho dá»± Ã¡n Next:",{"id":473,"title":474,"titles":475,"content":476,"level":252},"/blog/common-docker-file#Ä‘ang-cáº­p-nháº­t","Äang cáº­p nháº­t...",[439],"Náº¿u báº¡n cÃ³ cÃ¡c cáº¥u hÃ¬nh hoáº·c Dockerfile khÃ¡c muá»‘n chia sáº», vui lÃ²ng gá»­i email vá» vinhtieng123@gmail.com. MÃ¬nh ráº¥t trÃ¢n trá»ng Ä‘iá»u Ä‘Ã³.",{"id":260,"title":5,"titles":478,"content":255,"level":272},[],{"id":480,"title":13,"titles":481,"content":482,"level":272},"/blog/jwt#_1-giá»›i-thiá»‡u-vá»-jwt",[],"JWT (JSON Web Token) lÃ  má»™t tiÃªu chuáº©n má»Ÿ (RFC 7519) cho phÃ©p truyá»n táº£i thÃ´ng tin giá»¯a cÃ¡c bÃªn dÆ°á»›i dáº¡ng JSON. JWT thÆ°á»ng Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ xÃ¡c thá»±c vÃ  phÃ¢n quyá»n trong cÃ¡c á»©ng dá»¥ng web. Má»™t JWT token trÃ´ng nhÆ° sau: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c Trang web chÃ­nh thá»©c cá»§a JWT: jwt.io",{"id":484,"title":40,"titles":485,"content":486,"level":272},"/blog/jwt#_2-cÃ¡c-thÃ nh-pháº§n-cá»§a-jwt",[],"JWT bao gá»“m ba pháº§n chÃ­nh: Header, Payload vÃ  Signature. Má»—i pháº§n Ä‘Æ°á»£c mÃ£ hÃ³a báº±ng Base64Url vÃ  Ä‘Æ°á»£c phÃ¢n tÃ¡ch báº±ng dáº¥u cháº¥m (.). Header: Chá»©a thÃ´ng tin vá» thuáº­t toÃ¡n mÃ£ hÃ³a vÃ  loáº¡i token. VÃ­ dá»¥: Payload: Chá»©a thÃ´ng tin mÃ  báº¡n muá»‘n truyá»n táº£i. ÄÃ¢y cÃ³ thá»ƒ lÃ  thÃ´ng tin ngÆ°á»i dÃ¹ng, quyá»n truy cáº­p, thá»i gian háº¿t háº¡n, v.v. VÃ­ dá»¥:Signature: ÄÆ°á»£c táº¡o báº±ng cÃ¡ch mÃ£ hÃ³a Header vÃ  Payload vá»›i má»™t khÃ³a bÃ­ máº­t vÃ  thuáº­t toÃ¡n Ä‘Ã£ chá»‰ Ä‘á»‹nh trong Header. Äiá»u nÃ y giÃºp Ä‘áº£m báº£o ráº±ng token khÃ´ng bá»‹ thay Ä‘á»•i trong quÃ¡ trÃ¬nh truyá»n táº£i. VÃ­ dá»¥:",{"id":488,"title":100,"titles":489,"content":490,"level":272},"/blog/jwt#_3-viáº¿t-láº¡i-hÃ m-Ä‘á»ƒ-generate-jwt-token-vÃ -verify-jwt-token-trong-nodejs",[],"Khi lÃ m viá»‡c vá»›i jwt vÃ  nodeJs, háº§u háº¿t má»i ngÆ°á»i sáº½ sá»­ dá»¥ng thÆ° viá»‡n jsonwebtoken Ä‘á»ƒ táº¡o vÃ  xÃ¡c thá»±c JWT token. Tuy nhiÃªn, Ä‘á»ƒ hiá»ƒu rÃµ hÆ¡n vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a JWT, chÃºng ta cÃ³ thá»ƒ tá»± viáº¿t hÃ m Ä‘á»ƒ táº¡o vÃ  xÃ¡c thá»±c JWT token. Giáº£ sá»­ chÃºng ta muá»‘n táº¡o JWT token tá»« thÃ´ng tin user_id=123, khi Ä‘Ã³ pháº§n payload sáº½ lÃ : á» pháº§n header, chÃºng ta sáº½ sá»­ dá»¥ng thuáº­t toÃ¡n HS256 Ä‘á»ƒ mÃ£ hÃ³a JWT token. Äá»ƒ táº¡o JWT token, chÃºng ta cáº§n mÃ£ hÃ³a Header vÃ  Payload báº±ng Base64Url. Sau Ä‘Ã³, chÃºng ta sáº½ táº¡o chá»¯ kÃ½ báº±ng cÃ¡ch sá»­ dá»¥ng thuáº­t toÃ¡n HMACSHA256 vá»›i khÃ³a bÃ­ máº­t (secret key) vÃ  káº¿t há»£p Header vÃ  Payload. Äáº§u tiÃªn chÃºng ta cáº§n viáº¿t 1 hÃ m Ä‘á»ƒ mÃ£ hÃ³a Base64Url: á» Ä‘Ã¢y, vÃ¬ chÃºng ta sá»­ dá»¥ng NodeJs nÃªn cÃ³ thá»ƒ sá»­ dá»¥ng Buffer Ä‘á»ƒ mÃ£ hÃ³a Base64Url. Náº¿u báº¡n Ä‘ang lÃ m viá»‡c vá»›i JavaScript trÃªn trÃ¬nh duyá»‡t, báº¡n cÃ³ thá»ƒ sá»­ dá»¥ng btoa() Ä‘á»ƒ mÃ£ hÃ³a Base64Url. Khi muá»‘n giáº£i mÃ£, báº¡n cÃ³ thá»ƒ sá»­ dá»¥ng atob(). HÃ m nÃ y lÃ  hÃ m cÃ³ sáºµn trong trÃ¬nh duyá»‡t. Tiáº¿p theo, chÃºng ta sáº½ triá»ƒn khai hÃ m táº¡o JWT token. Thay vÃ¬ tá»± mÃ£ hÃ³a thá»§ cÃ´ng báº±ng cÃ¡ch base64UrlEncode Header vÃ  Payload rá»“i ná»‘i vá»›i secret key, chÃºng ta sáº½ thá»±c hiá»‡n Ä‘Ãºng theo chuáº©n thá»±c táº¿ báº±ng cÃ¡ch sá»­ dá»¥ng thuáº­t toÃ¡n HMAC-SHA256 Ä‘á»ƒ táº¡o chá»¯ kÃ½ sá»‘. Trong Node.js, chÃºng ta cÃ³ thá»ƒ dá»… dÃ ng thá»±c hiá»‡n Ä‘iá»u nÃ y báº±ng cÃ¡ch dÃ¹ng thÆ° viá»‡n tÃ­ch há»£p sáºµn lÃ  crypto, cá»¥ thá»ƒ lÃ  hÃ m createHmac. HÃ m nÃ y sáº½ giÃºp chÃºng ta táº¡o ra chá»¯ kÃ½ (signature) tá»« chuá»—i Ä‘Ã£ mÃ£ hÃ³a gá»“m Header vÃ  Payload, káº¿t há»£p vá»›i secret key Ä‘á»ƒ Ä‘áº£m báº£o tÃ­nh toÃ n váº¹n vÃ  xÃ¡c thá»±c cá»§a token. Full code mÃ£ hÃ³a JWT token sáº½ nhÆ° sau:",{"id":492,"title":169,"titles":493,"content":494,"level":272},"/blog/jwt#_4-xÃ¡c-thá»±c-jwt-token",[],"Äá»ƒ xÃ¡c thá»±c JWT token, chÃºng ta cáº§n kiá»ƒm tra chá»¯ kÃ½ (signature) cá»§a token. Äáº§u tiÃªn, chÃºng ta sáº½ tÃ¡ch Header, Payload vÃ  Signature tá»« token. Sau Ä‘Ã³, chÃºng ta sáº½ mÃ£ hÃ³a láº¡i Header vÃ  Payload báº±ng cÃ¹ng má»™t khÃ³a bÃ­ máº­t vÃ  thuáº­t toÃ¡n Ä‘Ã£ chá»‰ Ä‘á»‹nh trong Header. Cuá»‘i cÃ¹ng, chÃºng ta so sÃ¡nh chá»¯ kÃ½ Ä‘Ã£ táº¡o vá»›i chá»¯ kÃ½ trong token. HÃ m verifyJWT sáº½ tráº£ vá» true náº¿u chá»¯ kÃ½ há»£p lá»‡ vÃ  false náº¿u khÃ´ng há»£p lá»‡.\nNáº¿u báº¡n muá»‘n kiá»ƒm tra xem token cÃ³ háº¿t háº¡n hay khÃ´ng, báº¡n cÃ³ thá»ƒ thÃªm má»™t trÆ°á»ng exp vÃ o payload. TrÆ°á»ng nÃ y sáº½ chá»©a thá»i gian háº¿t háº¡n cá»§a token dÆ°á»›i dáº¡ng timestamp (sá»‘ giÃ¢y ká»ƒ tá»« 1/1/1970).",{"id":496,"title":216,"titles":497,"content":498,"level":272},"/blog/jwt#_5-káº¿t-luáº­n",[],"JWT lÃ  má»™t cÃ´ng cá»¥ máº¡nh máº½ Ä‘á»ƒ xÃ¡c thá»±c vÃ  phÃ¢n quyá»n trong cÃ¡c á»©ng dá»¥ng web. Báº±ng cÃ¡ch hiá»ƒu rÃµ cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a JWT, báº¡n cÃ³ thá»ƒ tá»± táº¡o vÃ  xÃ¡c thá»±c JWT token mÃ  khÃ´ng cáº§n phá»¥ thuá»™c vÃ o thÆ° viá»‡n bÃªn ngoÃ i. Tuy nhiÃªn, trong thá»±c táº¿, báº¡n nÃªn sá»­ dá»¥ng thÆ° viá»‡n jsonwebtoken Ä‘á»ƒ tiáº¿t kiá»‡m thá»i gian vÃ  cÃ´ng sá»©c. Hy vá»ng bÃ i viáº¿t nÃ y Ä‘Ã£ giÃºp báº¡n hiá»ƒu rÃµ hÆ¡n vá» JWT vÃ  cÃ¡ch sá»­ dá»¥ng nÃ³ trong á»©ng dá»¥ng cá»§a mÃ¬nh. Náº¿u báº¡n cÃ³ báº¥t ká»³ cÃ¢u há»i nÃ o, hÃ£y liÃªn há»‡ vá»›i mÃ¬nh qua cÃ¡c kÃªnh liÃªn láº¡c nhÆ° email, facebook, zalo hoáº·c telegram nhÃ©!",{"id":500,"title":229,"titles":501,"content":502,"level":272},"/blog/jwt#_6-tÃ i-liá»‡u-tham-kháº£o",[],"jwt.ioRFC 7519 - JSON Web Token (JWT)jsonwebtoken",{"id":504,"title":505,"titles":506,"content":507,"level":272},"/blog/useful-npm-package","CÃ¡c npm package hay cho FE vÃ  BE",[],"CÃ¡c thÆ° viá»‡n npm hay Ä‘Æ°á»£c tá»•ng há»£p thÃ´ng qua cÃ¡c bÃ i viáº¿t, cÃ¡c bÃ i chia sáº» trong suá»‘t quÃ¡ trÃ¬nh lÃ m viá»‡c",{"id":509,"title":510,"titles":511,"content":512,"level":272},"/blog/useful-npm-package#frontend","Frontend",[],"react-query - React Query ThÆ° viá»‡n quáº£n lÃ½ tráº¡ng thÃ¡i cho React, giÃºp xá»­ lÃ½ cÃ¡c yÃªu cáº§u API vÃ  cache dá»¯ liá»‡u má»™t cÃ¡ch dá»… dÃ ng.@progress/kendo-react-pdf - ThÆ° viá»‡n táº¡o PDF cho React, hay hÆ¡n cÃ¡c thÆ° viá»‡n khÃ¡c á»Ÿ chá»— hÃ¬nh áº£nh sáº½ Ä‘Æ°á»£c xuáº¥t ra dÆ°á»›i Ä‘á»‹nh dáº¡ng SVG, giÃºp cho viá»‡c xuáº¥t áº£nh cháº¥t lÆ°á»£ng cao vÃ  nÃ©t hÆ¡n, khÃ´ng bá»‹ vá»¡ áº£nh khi zoom in.react-split-pane - ThÆ° viá»‡n táº¡o giao diá»‡n chia tÃ¡ch (split view) cho React, giÃºp dá»… dÃ ng táº¡o cÃ¡c layout vá»›i cÃ¡c pháº§n tá»­ cÃ³ thá»ƒ kÃ©o vÃ  tháº£.Code template cho custom send and listen event documentreact-window - ThÆ° viá»‡n giÃºp tá»‘i Æ°u hÃ³a hiá»‡u suáº¥t cho báº£ng vÃ  danh sÃ¡ch lá»›n trong React báº±ng cÃ¡ch chá»‰ render cÃ¡c pháº§n tá»­ Ä‘ang hiá»ƒn thá»‹ trÃªn UI nháº¹ vÃ  dá»… sá»­ dá»¥ng.",{"id":514,"title":515,"titles":516,"content":251,"level":272},"/blog/useful-npm-package#backend","Backend",[],[518],{"id":519,"title":505,"body":520,"date":254,"description":507,"extension":256,"image":572,"meta":573,"navigation":259,"path":504,"published":259,"seo":574,"stem":575,"tags":576,"__hash__":577},"blog/blog/useful-npm-package.md",{"type":7,"value":521,"toc":570},[522,525,563,566],[10,523,510],{"id":524},"frontend",[58,526,527,539,545,551,557],{},[61,528,529,532,533,538],{},[45,530,531],{},"react-query"," - ",[31,534,537],{"href":535,"rel":536},"https://react-query.tanstack.com/",[35],"React Query"," ThÆ° viá»‡n quáº£n lÃ½ tráº¡ng thÃ¡i cho React, giÃºp xá»­ lÃ½ cÃ¡c yÃªu cáº§u API vÃ  cache dá»¯ liá»‡u má»™t cÃ¡ch dá»… dÃ ng.",[61,540,541,544],{},[45,542,543],{},"@progress/kendo-react-pdf"," - ThÆ° viá»‡n táº¡o PDF cho React, hay hÆ¡n cÃ¡c thÆ° viá»‡n khÃ¡c á»Ÿ chá»— hÃ¬nh áº£nh sáº½ Ä‘Æ°á»£c xuáº¥t ra dÆ°á»›i Ä‘á»‹nh dáº¡ng SVG, giÃºp cho viá»‡c xuáº¥t áº£nh cháº¥t lÆ°á»£ng cao vÃ  nÃ©t hÆ¡n, khÃ´ng bá»‹ vá»¡ áº£nh khi zoom in.",[61,546,547,550],{},[45,548,549],{},"react-split-pane"," - ThÆ° viá»‡n táº¡o giao diá»‡n chia tÃ¡ch (split view) cho React, giÃºp dá»… dÃ ng táº¡o cÃ¡c layout vá»›i cÃ¡c pháº§n tá»­ cÃ³ thá»ƒ kÃ©o vÃ  tháº£.",[61,552,553,554],{},"Code template cho custom send and listen event document",[68,555],{":files":556},"[{\"title\":\"javascript\",\"language\":\"javascript\",\"content\":\"export const sendEvent = (eventName, detail) => {\\n  document.dispatchEvent(new CustomEvent(eventName, { detail }));\\n}\\nexport const listenEvent = (eventName, callback, context = document) => {\\n  context.addEventListener(eventName, callback);\\n  return () => context.removeEventListener(eventName, callback);\\n}\\n\"}]",[61,558,559,562],{},[45,560,561],{},"react-window"," - ThÆ° viá»‡n giÃºp tá»‘i Æ°u hÃ³a hiá»‡u suáº¥t cho báº£ng vÃ  danh sÃ¡ch lá»›n trong React báº±ng cÃ¡ch chá»‰ render cÃ¡c pháº§n tá»­ Ä‘ang hiá»ƒn thá»‹ trÃªn UI nháº¹ vÃ  dá»… sá»­ dá»¥ng.",[10,564,515],{"id":565},"backend",[58,567,568],{},[61,569],{},{"title":251,"searchDepth":252,"depth":252,"links":571},[],"/images/blog/useful-npm-package/banner.webp",{},{"title":505,"description":507},"blog/useful-npm-package",[264],"McrzsCwI6Jukg_9ELFZ1y4aVGWPlazP9Y6unDL4W8VE",[579,744,1205,1394,1488,1650],{"id":580,"title":269,"body":581,"date":735,"description":736,"extension":256,"image":737,"meta":738,"navigation":259,"path":268,"published":259,"seo":739,"stem":740,"tags":741,"__hash__":743},"blog/blog/ansible.md",{"type":7,"value":582,"toc":733},[583,588,591,594,597,600,603,606,609,611,614,617,620,630,632,635,637,640,642,645,652,660,663,670,673,675,678,681,684,689,692,694,697,720,722,725,730],[15,584,585],{},[64,586,587],{},"HÆ°á»›ng dáº«n chi tiáº¿t vá» cÃ i Ä‘áº·t vÃ  triá»ƒn khai Ansible",[15,589,590],{},"Ansible lÃ  má»™t cÃ´ng cá»¥ tá»± Ä‘á»™ng hÃ³a máº¡nh máº½, giÃºp quáº£n lÃ½ cáº¥u hÃ¬nh, triá»ƒn khai á»©ng dá»¥ng vÃ  Ä‘iá»u phá»‘i há»‡ thá»‘ng má»™t cÃ¡ch dá»… dÃ ng. Trong bÃ i viáº¿t nÃ y, chÃºng ta sáº½ tÃ¬m hiá»ƒu cÃ¡ch cÃ i Ä‘áº·t, cáº¥u hÃ¬nh vÃ  sá»­ dá»¥ng Ansible thÃ´ng qua cÃ¡c vÃ­ dá»¥ thá»±c táº¿.",[592,593],"hr",{},[10,595,275],{"id":596},"ï¸-cÃ i-Ä‘áº·t-ansible",[15,598,599],{},"HÆ°á»›ng dáº«n cÃ i Ä‘áº·t Ansible trÃªn Ubuntu:",[68,601],{":files":602},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"sudo apt update -y\\nsudo apt install software-properties-common -y\\nsudo apt-add-repository --yes --update ppa:ansible/ansible\\nsudo apt install ansible -y\\n\"}]",[15,604,605],{},"Sau khi cÃ i Ä‘áº·t, báº¡n cÃ³ thá»ƒ kiá»ƒm tra phiÃªn báº£n Ansible:",[68,607],{":files":608},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"ansible --version\"}]",[592,610],{},[10,612,280],{"id":613},"cáº¥u-hÃ¬nh-ssh",[15,615,616],{},"Äá»ƒ Ansible cÃ³ thá»ƒ káº¿t ná»‘i Ä‘áº¿n cÃ¡c mÃ¡y chá»§ tá»« xa, báº¡n cáº§n cáº¥u hÃ¬nh SSH. DÆ°á»›i Ä‘Ã¢y lÃ  cÃ¡ch sao chÃ©p SSH key Ä‘áº¿n mÃ¡y chá»§ khÃ¡c:",[68,618],{":files":619},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"ssh-copy-id -i ~/.ssh/id_rsa.pub vinhtieng@123.3123.12\"}]",[15,621,622,625,626,629],{},[64,623,624],{},"LÆ°u Ã½:"," Thay ",[45,627,628],{},"vinhtieng@123.3123.12"," báº±ng tÃªn ngÆ°á»i dÃ¹ng vÃ  Ä‘á»‹a chá»‰ IP cá»§a mÃ¡y chá»§ tá»« xa.",[592,631],{},[10,633,285],{"id":634},"hosts-inventory",[15,636,287],{},[68,638],{":files":639},"[{\"title\":\"inventory\",\"language\":\"ini\",\"content\":\"[webservers]\\nweb1.example.com\\nweb2.example.com\\n\\n[databases]\\ndb1.example.com\\n\\n[webservers:vars]\\nansible_user=your_ssh_user\\nansible_ssh_private_key_file=/path/to/private/key\\n\\n[webservers1]\\nweb1.example.com ansible_user=user1 ansible_ssh_private_key_file=/path/to/key1\\nweb2.example.com ansible_user=user2 ansible_ssh_private_key_file=/path/to/key2\\n\"}]",[592,641],{},[10,643,290],{"id":644},"kiá»ƒm-tra-káº¿t-ná»‘i-ping",[15,646,647,648,651],{},"Báº¡n cÃ³ thá»ƒ kiá»ƒm tra káº¿t ná»‘i Ä‘áº¿n cÃ¡c mÃ¡y chá»§ báº±ng lá»‡nh ",[45,649,650],{},"ping",":",[653,654,655],"ol",{},[61,656,657],{},[64,658,659],{},"Ping vá»›i file hosts máº·c Ä‘á»‹nh:",[68,661],{":files":662},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"ansible -m ping all\"}]",[653,664,665],{"start":252},[61,666,667],{},[64,668,669],{},"Ping vá»›i file inventory tÃ¹y chá»‰nh:",[68,671],{":files":672},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"ansible -i my_hosts all -m ping\"}]",[592,674],{},[10,676,295],{"id":677},"playbook-task-module",[15,679,680],{},"Playbook lÃ  nÆ¡i báº¡n Ä‘á»‹nh nghÄ©a cÃ¡c tÃ¡c vá»¥ (tasks) cáº§n thá»±c hiá»‡n trÃªn cÃ¡c mÃ¡y chá»§. DÆ°á»›i Ä‘Ã¢y lÃ  cÃ¡ch cháº¡y má»™t playbook:",[68,682],{":files":683},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"ansible-playbook my_playbook.yml -i inventory_file\"}]",[15,685,686],{},[64,687,688],{},"VÃ­ dá»¥ vá» Playbook Ä‘Æ¡n giáº£n:",[68,690],{":files":691},"[{\"title\":\"my_playbook.yml\",\"language\":\"yaml\",\"content\":\"---\\n- name: CÃ i Ä‘áº·t vÃ  khá»Ÿi Ä‘á»™ng Apache\\n  hosts: webservers\\n  become: yes\\n  tasks:\\n    - name: CÃ i Ä‘áº·t Apache\\n      apt:\\n        name: apache2\\n        state: present\\n    - name: Äáº£m báº£o Apache Ä‘ang cháº¡y\\n      service:\\n        name: apache2\\n        state: started\\n\"}]",[592,693],{},[10,695,300],{"id":696},"tÃ i-liá»‡u-tham-kháº£o",[58,698,699,706,713],{},[61,700,701],{},[31,702,705],{"href":703,"rel":704},"https://docs.ansible.com/",[35],"Ansible Documentation",[61,707,708],{},[31,709,712],{"href":710,"rel":711},"https://galaxy.ansible.com/",[35],"Ansible Galaxy",[61,714,715],{},[31,716,719],{"href":717,"rel":718},"https://docs.ansible.com/ansible/latest/user_guide/playbooks.html",[35],"Ansible Playbook Guide",[592,721],{},[723,724],"br",{},[15,726,727],{},[64,728,729],{},"TÃ³m láº¡i:",[15,731,732],{},"Ansible lÃ  cÃ´ng cá»¥ máº¡nh máº½ giÃºp tá»± Ä‘á»™ng hÃ³a cÃ¡c tÃ¡c vá»¥ quáº£n trá»‹ há»‡ thá»‘ng. Viá»‡c náº¯m vá»¯ng cÃ¡ch sá»­ dá»¥ng Ansible sáº½ giÃºp báº¡n tiáº¿t kiá»‡m thá»i gian vÃ  giáº£m thiá»ƒu lá»—i trong quÃ¡ trÃ¬nh quáº£n lÃ½ há»‡ thá»‘ng.",{"title":251,"searchDepth":252,"depth":252,"links":734},[],"2025-04-25T00:00:00.000Z","HÆ°á»›ng dáº«n chi tiáº¿t vá» cÃ i Ä‘áº·t, cáº¥u hÃ¬nh SSH, inventory vÃ  sá»­ dá»¥ng Playbook trong Ansible.","/images/blog/ansible/banner.webp",{},{"title":269,"description":736},"blog/ansible",[742],"ansible","QLdDCES4ar5K9ObyqIX8AeZrR8-g_7S6VB95J6m5f4w",{"id":745,"title":305,"body":746,"date":735,"description":1197,"extension":256,"image":1198,"meta":1199,"navigation":259,"path":304,"published":259,"seo":1200,"stem":1201,"tags":1202,"__hash__":1204},"blog/blog/basic-nginx.md",{"type":7,"value":747,"toc":1195},[748,753,756,782,784,787,790,793,796,799,804,807,810,813,819,822,830,833,836,839,853,856,861,864,867,881,884,889,921,924,927,930,933,936,939,946,957,964,975,978,989,992,995,998,1001,1004,1008,1016,1019,1021,1024,1027,1053,1056,1061,1064,1067,1070,1072,1075,1077,1080,1082,1085,1087,1090,1092,1095,1097,1100,1102,1105,1108,1111,1114,1117,1119,1122,1125,1128,1131,1134,1137,1140,1142,1145,1147,1150,1152,1154,1184,1186,1188,1192],[15,749,750],{},[64,751,752],{},"HÆ°á»›ng dáº«n chi tiáº¿t vá» cáº¥u hÃ¬nh vÃ  triá»ƒn khai Nginx",[15,754,755],{},"Nginx lÃ  má»™t web server mÃ£ nguá»“n má»Ÿ máº¡nh máº½, Ä‘Æ°á»£c sá»­ dá»¥ng phá»• biáº¿n Ä‘á»ƒ phá»¥c vá»¥ ná»™i dung tÄ©nh, reverse proxy, cÃ¢n báº±ng táº£i, báº£o máº­t vÃ  há»— trá»£ PHP thÃ´ng qua FastCGI. Trong bÃ i viáº¿t nÃ y, chÃºng ta sáº½ Ä‘i qua cÃ¡c cáº¥u hÃ¬nh tá»« cÆ¡ báº£n Ä‘áº¿n nÃ¢ng cao, bao gá»“m:",[58,757,758,761,764,767,770,773,776,779],{},[61,759,760],{},"CÃ¡ch cÃ i Ä‘áº·t Nginx",[61,762,763],{},"Cáº¥u hÃ¬nh mÃ¡y chá»§ máº·c Ä‘á»‹nh (default host)",[61,765,766],{},"TÃ­ch há»£p vá»›i PHP-FPM",[61,768,769],{},"Thiáº¿t láº­p Load Balancer (cÃ¢n báº±ng táº£i)",[61,771,772],{},"Gzip, HTTP/2, Rate limiting",[61,774,775],{},"Redirect, Rewrites",[61,777,778],{},"Hardening & Security",[61,780,781],{},"Logging nÃ¢ng cao",[592,783],{},[10,785,310],{"id":786},"ï¸-cÃ i-Ä‘áº·t-nginx",[15,788,789],{},"HÆ°á»›ng dáº«n cÃ i Ä‘áº·t Nginx trÃªn Ubuntu:",[68,791],{":files":792},"[{\"title\":\"bash\",\"language\":\"nginx\",\"content\":\"sudo apt update\\nsudo apt install nginx\\n\"}]",[15,794,795],{},"Sau khi cÃ i Ä‘áº·t, báº¡n cÃ³ thá»ƒ kiá»ƒm tra tráº¡ng thÃ¡i Nginx:",[68,797],{":files":798},"[{\"title\":\"bash\",\"language\":\"nginx\",\"content\":\"sudo systemctl status nginx\"}]",[15,800,801],{},[64,802,803],{},"Kiá»ƒm tra tÆ°á»ng lá»­a:",[15,805,806],{},"Sau khi cÃ i Ä‘áº·t Nginx, báº¡n nÃªn Ä‘áº£m báº£o ráº±ng tÆ°á»ng lá»­a (firewall) cho phÃ©p lÆ°u lÆ°á»£ng HTTP vÃ  HTTPS Ä‘á»ƒ mÃ¡y chá»§ cÃ³ thá»ƒ phá»¥c vá»¥ ná»™i dung web.",[68,808],{":files":809},"[{\"title\":\"bash\",\"language\":\"nginx\",\"content\":\"sudo ufw allow â€˜Nginx Fullâ€™\\nsudo ufw status\\n\"}]",[15,811,812],{},"Lá»‡nh sudo ufw allow 'Nginx Full' sáº½ má»Ÿ cáº£ hai cá»•ng 80 (HTTP) vÃ  443 (HTTPS).\nSau Ä‘Ã³, dÃ¹ng sudo ufw status Ä‘á»ƒ xÃ¡c nháº­n ráº±ng cÃ¡c cá»•ng nÃ y Ä‘Ã£ Ä‘Æ°á»£c má»Ÿ.",[22,814,816],{"type":815},"warning",[15,817,818],{},"Náº¿u báº¡n chÆ°a báº­t ufw (Uncomplicated Firewall), báº¡n cÃ³ thá»ƒ báº­t báº±ng lá»‡nh sudo ufw enable. Tuy nhiÃªn, hÃ£y Ä‘áº£m báº£o cáº¥u hÃ¬nh chÃ­nh xÃ¡c Ä‘á»ƒ khÃ´ng bá»‹ khÃ³a SSH.",[15,820,821],{},"Kiá»ƒm tra hoáº¡t Ä‘á»™ng cá»§a Nginx:",[15,823,824,825,829],{},"Má»Ÿ trÃ¬nh duyá»‡t vÃ  truy cáº­p Ä‘á»‹a chá»‰:\nğŸ‘‰ http://\u003CÄ‘á»‹a_chá»‰_IP_cá»§a_báº¡n> hoáº·c ",[31,826,827],{"href":827,"rel":828},"http://localhost",[35]," náº¿u kiá»ƒm tra cá»¥c bá»™.",[15,831,832],{},"Báº¡n sáº½ tháº¥y trang máº·c Ä‘á»‹nh â€œWelcome to nginx!â€ náº¿u má»i thá»© hoáº¡t Ä‘á»™ng Ä‘Ãºng cÃ¡ch.",[10,834,315],{"id":835},"ï¸-cáº¥u-hÃ¬nh-default-host-trong-nginx",[15,837,838],{},"TrÃªn Ubuntu, file cáº¥u hÃ¬nh cá»§a Nginx thÆ°á»ng Ä‘Æ°á»£c lÆ°u táº¡i cÃ¡c vá»‹ trÃ­ sau:",[58,840,841,847],{},[61,842,843,846],{},[45,844,845],{},"/etc/nginx/sites-available/default"," (Náº¿u sá»­ dá»¥ng thÆ° má»¥c sites-available vÃ  sites-enabled).",[61,848,849,852],{},[45,850,851],{},"/etc/nginx/conf.d/default.conf"," (ThÃ´ng dá»¥ng cho cÃ¡c cáº¥u hÃ¬nh Ä‘Æ¡n giáº£n).",[15,854,855],{},"Máº·c Ä‘á»‹nh, khi cÃ i Ä‘áº·t Nginx, sáº½ cÃ³ má»™t file cáº¥u hÃ¬nh default trong thÆ° má»¥c /etc/nginx/sites-available/ vá»›i má»™t sá»‘ cáº¥u hÃ¬nh cÆ¡ báº£n. Báº¡n cÃ³ thá»ƒ sá»­a file nÃ y Ä‘á»ƒ cáº¥u hÃ¬nh server block cho website cá»§a mÃ¬nh.",[15,857,858],{},[64,859,860],{},"Cáº¥u hÃ¬nh Default Host",[15,862,863],{},"Má»Ÿ file cáº¥u hÃ¬nh Nginx máº·c Ä‘á»‹nh:",[68,865],{":files":866},"[{\"title\":\"default.conf\",\"language\":\"nginx\",\"content\":\"sudo nano /etc/nginx/sites-available/default\"}]",[15,868,869,870,873,874,877,878,651],{},"Máº·c Ä‘á»‹nh, Nginx sáº½ chá»n block Ä‘áº§u tiÃªn khi khÃ´ng tÃ¬m tháº¥y ",[45,871,872],{},"server_name"," tÆ°Æ¡ng á»©ng. Äá»ƒ cáº¥u hÃ¬nh rÃµ rÃ ng host máº·c Ä‘á»‹nh, báº¡n thÃªm ",[45,875,876],{},"default_server"," vÃ o dÃ²ng ",[45,879,880],{},"listen",[68,882],{":files":883},"[{\"title\":\"default.conf\",\"language\":\"nginx\",\"content\":\"server {\\n    listen 80 default_server;\\n    server_name _;\\n    root /var/www/html;\\n    index index.html index.htm;\\n\\n    location / {\\n        try_files $uri $uri/ =404;\\n    }\\n}\\n\"}]",[15,885,886],{},[64,887,888],{},"Ghi chÃº:",[58,890,891,897,903,909,915],{},[61,892,893,896],{},[45,894,895],{},"listen 80 default_server;",": Cáº¥u hÃ¬nh Nginx láº¯ng nghe cá»•ng 80 (HTTP) vÃ  Ä‘Ã¡nh dáº¥u Ä‘Ã¢y lÃ  default_server (server máº·c Ä‘á»‹nh cho cÃ¡c yÃªu cáº§u khÃ´ng khá»›p vá»›i server block khÃ¡c).",[61,898,899,902],{},[45,900,901],{},"root /var/www/html;",": ÄÆ°á»ng dáº«n tá»›i thÆ° má»¥c chá»©a cÃ¡c tá»‡p tin cá»§a website. Báº¡n cÃ³ thá»ƒ thay Ä‘á»•i Ä‘Æ°á»ng dáº«n nÃ y thÃ nh thÆ° má»¥c cá»§a website báº¡n muá»‘n phá»¥c vá»¥.",[61,904,905,908],{},[45,906,907],{},"server_name _;",": Chá»‰ thá»‹ nÃ y cho phÃ©p server cháº¥p nháº­n táº¥t cáº£ cÃ¡c yÃªu cáº§u khÃ´ng khá»›p vá»›i server block khÃ¡c. Náº¿u báº¡n cÃ³ tÃªn miá»n cá»¥ thá»ƒ, hÃ£y thay tháº¿ dáº¥u gáº¡ch dÆ°á»›i (_) báº±ng tÃªn miá»n cá»§a báº¡n.",[61,910,911,914],{},[45,912,913],{},"location /",": ÄÃ¢y lÃ  pháº§n cáº¥u hÃ¬nh Ä‘á»‹nh tuyáº¿n cho cÃ¡c yÃªu cáº§u Ä‘áº¿n. Cáº¥u hÃ¬nh nÃ y giÃºp Nginx tÃ¬m kiáº¿m cÃ¡c tá»‡p tin khi ngÆ°á»i dÃ¹ng truy cáº­p vÃ o website.",[61,916,917,920],{},[45,918,919],{},"try_files $uri $uri/ =404;",": Náº¿u yÃªu cáº§u khÃ´ng trÃ¹ng khá»›p vá»›i tá»‡p tin hoáº·c thÆ° má»¥c, sáº½ tráº£ vá» lá»—i 404.",[15,922,923],{},"Sau khi chá»‰nh sá»­a xong, báº¡n cáº§n kiá»ƒm tra xem cáº¥u hÃ¬nh cÃ³ chÃ­nh xÃ¡c khÃ´ng:",[68,925],{":files":926},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"sudo nginx -t\"}]",[15,928,929],{},"Náº¿u khÃ´ng cÃ³ lá»—i nÃ o, báº¡n cÃ³ thá»ƒ khá»Ÿi Ä‘á»™ng láº¡i Nginx Ä‘á»ƒ Ã¡p dá»¥ng cáº¥u hÃ¬nh má»›i:",[68,931],{":files":932},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"sudo systemctl restart nginx\"}]",[15,934,935],{},"Giá»›i thiá»‡u vá» sites-available vÃ  sites-enabled",[15,937,938],{},"Trong Nginx, thÆ° má»¥c sites-available vÃ  sites-enabled lÃ  má»™t cÆ¡ cháº¿ Ä‘á»ƒ quáº£n lÃ½ cÃ¡c website (virtual hosts) mÃ  Nginx cÃ³ thá»ƒ phá»¥c vá»¥. Cáº¥u trÃºc nÃ y giÃºp dá»… dÃ ng báº­t/táº¯t cÃ¡c website mÃ  khÃ´ng cáº§n pháº£i xÃ³a hoáº·c thay Ä‘á»•i cáº¥u hÃ¬nh trá»±c tiáº¿p.",[653,940,941],{},[61,942,943,651],{},[45,944,945],{},"sites-available",[58,947,948,951,954],{},[61,949,950],{},"ÄÃ¢y lÃ  nÆ¡i báº¡n táº¡o vÃ  lÆ°u trá»¯ táº¥t cáº£ cÃ¡c file cáº¥u hÃ¬nh cá»§a cÃ¡c website hoáº·c á»©ng dá»¥ng mÃ  báº¡n muá»‘n Nginx phá»¥c vá»¥.",[61,952,953],{},"Má»—i file cáº¥u hÃ¬nh trong sites-available Ä‘áº¡i diá»‡n cho má»™t website hoáº·c á»©ng dá»¥ng riÃªng biá»‡t.",[61,955,956],{},"VÃ­ dá»¥: /etc/nginx/sites-available/example.com lÃ  cáº¥u hÃ¬nh cho website example.com.",[653,958,959],{"start":252},[61,960,961,651],{},[45,962,963],{},"sites-enabled",[58,965,966,969,972],{},[61,967,968],{},"ÄÃ¢y lÃ  nÆ¡i chá»©a cÃ¡c liÃªn káº¿t tÆ°á»£ng trÆ°ng (symlink) Ä‘áº¿n cÃ¡c file cáº¥u hÃ¬nh trong sites-available mÃ  báº¡n muá»‘n Nginx thá»±c thi.",[61,970,971],{},"CÃ¡c liÃªn káº¿t nÃ y cho phÃ©p Nginx biáº¿t Ä‘Æ°á»£c website nÃ o sáº½ Ä‘Æ°á»£c kÃ­ch hoáº¡t.",[61,973,974],{},"Báº¡n khÃ´ng nÃªn trá»±c tiáº¿p chá»‰nh sá»­a cÃ¡c file trong sites-enabled. Thay vÃ o Ä‘Ã³, báº¡n táº¡o symlink tá»« sites-available.",[15,976,977],{},"CÃ¡ch thá»©c hoáº¡t Ä‘á»™ng:",[58,979,980,983],{},[61,981,982],{},"Khi báº¡n táº¡o má»™t file cáº¥u hÃ¬nh trong sites-available, báº¡n cÃ³ thá»ƒ kÃ­ch hoáº¡t nÃ³ báº±ng cÃ¡ch táº¡o má»™t symlink Ä‘áº¿n file Ä‘Ã³ trong thÆ° má»¥c sites-enabled.",[61,984,985,986,132],{},"Äá»ƒ táº¡o symlink, sá»­ dá»¥ng lá»‡nh ",[45,987,988],{},"ln -s",[15,990,991],{},"VÃ­ dá»¥, náº¿u báº¡n cÃ³ cáº¥u hÃ¬nh example.com trong sites-available, báº¡n cÃ³ thá»ƒ táº¡o symlink vÃ o sites-enabled nhÆ° sau:",[68,993],{":files":994},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"sudo ln -s /etc/nginx/sites-available/example.com /etc/nginx/sites-enabled/\"}]",[10,996,320],{"id":997},"cáº¥u-hÃ¬nh-nginx-vá»›i-php-fpm",[15,999,1000],{},"Äá»ƒ xá»­ lÃ½ cÃ¡c file PHP, báº¡n cáº§n káº¿t ná»‘i Nginx vá»›i PHP-FPM qua socket hoáº·c TCP:",[68,1002],{":files":1003},"[{\"title\":\"php-fpm.conf\",\"language\":\"nginx\",\"content\":\"location ~ \\\\.php$ {\\n  try_files $uri =404;\\n  fastcgi_pass unix:/var/run/php/php8.1-fpm.sock;\\n  fastcgi_index index.php;\\n  fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;\\n  include fastcgi_params;\\n}\\n\"}]",[15,1005,1006],{},[64,1007,624],{},[58,1009,1010,1013],{},[61,1011,1012],{},"ÄÆ°á»ng dáº«n socket cÃ³ thá»ƒ thay Ä‘á»•i tÃ¹y phiÃªn báº£n PHP.",[61,1014,1015],{},"Náº¿u dÃ¹ng TCP:",[68,1017],{":files":1018},"[{\"title\":\"php-fpm.conf\",\"language\":\"nginx\",\"content\":\"fastcgi_pass 127.0.0.1:9000;\"}]",[592,1020],{},[10,1022,325],{"id":1023},"load-balancer-trong-nginx",[15,1025,1026],{},"Nginx há»— trá»£ cáº¥u hÃ¬nh cÃ¢n báº±ng táº£i vá»›i nhiá»u thuáº­t toÃ¡n lá»±a chá»n backend:",[58,1028,1029,1035,1041,1047],{},[61,1030,1031,1034],{},[45,1032,1033],{},"round-robin",": Máº·c Ä‘á»‹nh, phÃ¢n phá»‘i Ä‘á»u cho cÃ¡c request.",[61,1036,1037,1040],{},[45,1038,1039],{},"least_conn",": Chá»n server Ã­t káº¿t ná»‘i nháº¥t.",[61,1042,1043,1046],{},[45,1044,1045],{},"ip_hash",": Duy trÃ¬ session cho client.",[61,1048,1049,1052],{},[45,1050,1051],{},"least_time",": chá»n server cÃ³ thá»i gian pháº£n há»“i Ã­t nháº¥t",[15,1054,1055],{},"CÃ³ thá»ƒ thÃªm trá»ng sá»‘ cho server báº±ng cÃ¡ch thÃªm sá»‘ sau ip:port",[58,1057,1058],{},[61,1059,1060],{},"Ex: server 192.168.1.0:8000 weight=3;",[68,1062],{":files":1063},"[{\"title\":\"upstream.conf\",\"language\":\"nginx\",\"content\":\"upstream myapp1 {\\n    ip_hash;\\n    server 192.168.1.10:8000;\\n    server 192.168.2.10:8000;\\n    # server 192.168.1.10:8000 weight=3;\\n}\\n\"}]",[15,1065,1066],{},"Cáº¥u hÃ¬nh server block proxy Ä‘áº¿n upstream:",[68,1068],{":files":1069},"[{\"title\":\"proxy.conf\",\"language\":\"nginx\",\"content\":\"server {\\n  listen 80 default_server;\\n  server_name _;\\n  root /var/www/html;\\n  index index.html index.htm;\\n\\n  location / {\\n      proxy_pass http://myapp1;\\n      proxy_set_header Host $host;\\n      proxy_set_header X-Real-IP $remote_addr;\\n      proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\\n      proxy_set_header X-Forwarded-Proto $scheme;\\n  }\\n}\\n\"}]",[592,1071],{},[10,1073,330],{"id":1074},"gzip-compression",[15,1076,332],{},[68,1078],{":files":1079},"[{\"title\":\"gzip.conf\",\"language\":\"nginx\",\"content\":\"gzip on;\\ngzip_disable \\\"msie6\\\";\\ngzip_vary on;\\ngzip_proxied any;\\ngzip_comp_level 6;\\ngzip_types text/plain text/css application/json application/javascript text/xml application/xml application/xml+rss text/javascript;\\n\"}]",[592,1081],{},[10,1083,335],{"id":1084},"kÃ­ch-hoáº¡t-http2",[15,1086,337],{},[68,1088],{":files":1089},"[{\"title\":\"http2.conf\",\"language\":\"nginx\",\"content\":\"listen 443 ssl http2;\\n\"}]",[592,1091],{},[10,1093,340],{"id":1094},"rate-limiting",[15,1096,342],{},[68,1098],{":files":1099},"[{\"title\":\"rate-limiting.conf\",\"language\":\"nginx\",\"content\":\"limit_req_zone $binary_remote_addr zone=mylimit:10m rate=1r/s;\\n\\nlocation /api/ {\\n    limit_req zone=mylimit burst=5;\\n}\\n\"}]",[592,1101],{},[10,1103,345],{"id":1104},"redirect-vÃ -rewrites",[15,1106,1107],{},"Chuyá»ƒn hÆ°á»›ng toÃ n bá»™ traffic HTTP sang HTTPS:",[68,1109],{":files":1110},"[{\"title\":\"redirect.conf\",\"language\":\"nginx\",\"content\":\"server {\\n    listen 80;\\n    server_name example.com;\\n    return 301 https://$host$request_uri;\\n}\\nserver {\\n    listen 443 ssl;\\n    server_name example.com;\\n    ssl_certificate /path/to/cert.pem;\\n    ssl_certificate_key /path/to/key.pem;\\n}\\n\"}]",[15,1112,1113],{},"Viáº¿t láº¡i URL cho SPA:",[68,1115],{":files":1116},"[{\"title\":\"rewrite.conf\",\"language\":\"nginx\",\"content\":\"location /api/ {\\n    rewrite ^/api/(.*)$ /$1 break;\\n}\\n\"}]",[592,1118],{},[10,1120,350],{"id":1121},"hardening-security",[15,1123,1124],{},"Báº£o vá»‡ server báº±ng cÃ¡ch tá»« chá»‘i truy cáº­p file nháº¡y cáº£m:",[68,1126],{":files":1127},"[{\"title\":\"deny.conf\",\"language\":\"nginx\",\"content\":\"location ~* \\\\\\\\.(git|env|bak|log)$ {\\n  deny all;\\n}\\n\"}]",[15,1129,1130],{},"áº¨n thÃ´ng tin server:",[68,1132],{":files":1133},"[{\"title\":\"security.conf\",\"language\":\"nginx\",\"content\":\"server_tokens off;\\n\"}]",[15,1135,1136],{},"Chá»‘ng clickjacking vÃ  XSS:",[68,1138],{":files":1139},"[{\"title\":\"headers.conf\",\"language\":\"nginx\",\"content\":\"add_header X-Content-Security-Policy \\\"default-src 'self'\\\";\\nadd_header X-Frame-Options \\\"DENY\\\";\\nadd_header X-XSS-Protection \\\"1; mode=block\\\";\\nadd_header Referrer-Policy \\\"no-referrer\\\";\\n\"}]",[592,1141],{},[10,1143,355],{"id":1144},"logging-nÃ¢ng-cao",[15,1146,357],{},[68,1148],{":files":1149},"[{\"title\":\"logging.conf\",\"language\":\"nginx\",\"content\":\"log_format main '$remote_addr - $remote_user [$time_local] \\\"$request\\\" '\\n               '$status $body_bytes_sent \\\"$http_referer\\\" '\\n               '\\\"$http_user_agent\\\" \\\"$http_x_forwarded_for\\\"';\\naccess_log /var/log/nginx/access.log main;\\n\"}]",[592,1151],{},[10,1153,300],{"id":696},[58,1155,1156,1163,1170,1177],{},[61,1157,1158],{},[31,1159,1162],{"href":1160,"rel":1161},"https://nginx.org/en/docs/",[35],"Nginx Documentation",[61,1164,1165],{},[31,1166,1169],{"href":1167,"rel":1168},"https://docs.nginx.com/nginx/admin-guide/load-balancer/http-load-balancer/",[35],"Nginx Load Balancing Guide",[61,1171,1172],{},[31,1173,1176],{"href":1174,"rel":1175},"https://www.php.net/manual/en/install.fpm.configuration.php",[35],"Nginx + PHP-FPM Setup",[61,1178,1179],{},[31,1180,1183],{"href":1181,"rel":1182},"https://owasp.org/www-project-secure-headers/",[35],"OWASP Nginx Hardening Guide",[592,1185],{},[723,1187],{},[15,1189,1190],{},[64,1191,729],{},[15,1193,1194],{},"Nginx lÃ  cÃ´ng cá»¥ cá»±c ká»³ máº¡nh máº½ vÃ  linh hoáº¡t, khÃ´ng chá»‰ giá»›i háº¡n á»Ÿ web server mÃ  cÃ²n lÃ  reverse proxy, caching layer, vÃ  load balancer. Viá»‡c náº¯m vá»¯ng vÃ  khai thÃ¡c tá»‘t cÃ¡c tÃ­nh nÄƒng sáº½ giÃºp há»‡ thá»‘ng cá»§a báº¡n hiá»‡u suáº¥t cao, báº£o máº­t vÃ  dá»… má»Ÿ rá»™ng.",{"title":251,"searchDepth":252,"depth":252,"links":1196},[],"HÆ°á»›ng dáº«n chi tiáº¿t vá» cáº¥u hÃ¬nh máº·c Ä‘á»‹nh, PHP-FPM vÃ  thiáº¿t láº­p Load Balancer vá»›i Nginx.","/images/blog/basic-nginx/banner.webp",{},{"title":305,"description":1197},"blog/basic-nginx",[1203],"nginx","Bi1ORpa53tHD4-1pA8wQzzLBMWzyqLLk96yy4h3JT2g",{"id":1206,"title":364,"body":1207,"date":735,"description":1386,"extension":256,"image":1387,"meta":1388,"navigation":259,"path":363,"published":259,"seo":1389,"stem":1390,"tags":1391,"__hash__":1393},"blog/blog/basic-redis.md",{"type":7,"value":1208,"toc":1372},[1209,1213,1216,1219,1230,1232,1235,1237,1241,1243,1246,1249,1251,1254,1257,1259,1262,1265,1267,1270,1273,1275,1278,1281,1284,1287,1290,1293,1296,1299,1302,1304,1307,1310,1312,1315,1318,1325,1328,1331,1333,1336,1339,1341,1344,1346,1349,1354,1357],[15,1210,1211],{},[64,1212,364],{},[15,1214,1215],{},"Redis lÃ  má»™t kho dá»¯ liá»‡u key-value trong bá»™ nhá»›, mÃ£ nguá»“n má»Ÿ, ná»•i tiáº¿ng vá»›i hiá»‡u suáº¥t vÃ  tÃ­nh linh hoáº¡t. Redis há»— trá»£ nhiá»u kiá»ƒu dá»¯ liá»‡u, phÃ¹ há»£p cho viá»‡c sá»­ dá»¥ng bá»™ nhá»› Ä‘á»‡m, á»©ng dá»¥ng thá»i gian thá»±c, há»‡ thá»‘ng pub/sub, vÃ  nhiá»u hÆ¡n ná»¯a.",[15,1217,1218],{},"Trong hÆ°á»›ng dáº«n nÃ y, chÃºng ta sáº½ tÃ¬m hiá»ƒu:",[58,1220,1221,1224,1227],{},[61,1222,1223],{},"CÃ¡c kiá»ƒu dá»¯ liá»‡u trong Redis",[61,1225,1226],{},"CÃ¡c lá»‡nh phá»• biáº¿n cá»§a Redis",[61,1228,1229],{},"CÃ¡ch tÃ­ch há»£p Redis vÃ o dá»± Ã¡n Node.js",[592,1231],{},[10,1233,369],{"id":1234},"cÃ¡c-kiá»ƒu-dá»¯-liá»‡u-lá»‡nh-redis",[15,1236,371],{},[1238,1239,374],"h2",{"id":1240},"_1-chuá»—i-strings",[15,1242,376],{},[68,1244],{":files":1245},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"SET name \\\"Jay\\\"\\nGET name\\nINCR counter\\n\"}]",[1238,1247,379],{"id":1248},"_2-danh-sÃ¡ch-lists",[15,1250,381],{},[68,1252],{":files":1253},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"LPUSH mylist \\\"apple\\\"\\nRPUSH mylist \\\"banana\\\"\\nLRANGE mylist 0 -1\\n\"}]",[1238,1255,384],{"id":1256},"_3-táº­p-há»£p-sets",[15,1258,386],{},[68,1260],{":files":1261},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"SADD myset \\\"apple\\\"\\nSADD myset \\\"banana\\\"\\nSADD myset \\\"apple\\\" # TrÃ¹ng láº·p, sáº½ khÃ´ng Ä‘Æ°á»£c thÃªm\\nSMEMBERS myset\\n\"}]",[1238,1263,389],{"id":1264},"_4-bÄƒm-hashes",[15,1266,391],{},[68,1268],{":files":1269},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"HSET user:1000 name \\\"Jay\\\" age 30\\nHGETALL user:1000\\n\"}]",[1238,1271,394],{"id":1272},"_5-táº­p-há»£p-cÃ³-thá»©-tá»±-sorted-sets",[15,1274,396],{},[68,1276],{":files":1277},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"ZADD mysortedset 1 \\\"apple\\\"\\nZADD mysortedset 2 \\\"banana\\\"\\nZRANGE mysortedset 0 -1\\n\"}]",[1238,1279,399],{"id":1280},"_6-bitmaps-hyperloglogs-streams",[15,1282,1283],{},"ÄÃ¢y lÃ  cÃ¡c cáº¥u trÃºc nÃ¢ng cao hÆ¡n:\nBitmaps Ä‘Æ°á»£c sá»­ dá»¥ng cho cÃ¡c thao tÃ¡c cáº¥p bit, cho phÃ©p báº¡n thao tÃ¡c cÃ¡c bit riÃªng láº» trong má»™t chuá»—i.",[68,1285],{":files":1286},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"SETBIT mybitmap 0 1\\nSETBIT mybitmap 1 1\\nBITCOUNT mybitmap\\n\"}]",[15,1288,1289],{},"HyperLogLogs Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ Æ°á»›c tÃ­nh sá»‘ lÆ°á»£ng pháº§n tá»­ duy nháº¥t trong má»™t táº­p há»£p, ráº¥t há»¯u Ã­ch cho cÃ¡c trÆ°á»ng há»£p nhÆ° theo dÃµi sá»‘ lÆ°á»£ng khÃ¡ch truy cáº­p duy nháº¥t.",[68,1291],{":files":1292},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"PFADD myhll \\\"apple\\\" \\\"banana\\\" \\\"orange\\\"\\nPFCOUNT myhll\\n\"}]",[15,1294,1295],{},"Streams Ä‘Æ°á»£c thiáº¿t káº¿ cho cÃ¡c Ä‘Æ°á»ng dáº«n dá»¯ liá»‡u thá»i gian thá»±c vÃ  nguá»“n sá»± kiá»‡n, cho phÃ©p báº¡n thÃªm vÃ  truy váº¥n dá»¯ liá»‡u theo chuá»—i thá»i gian.",[68,1297],{":files":1298},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"XADD mystream * name \\\"Jay\\\" age 30\\nXRANGE mystream - +\\n\"}]",[10,1300,404],{"id":1301},"tÃ­ch-há»£p-redis-vá»›i-nodejs",[15,1303,406],{},[1238,1305,409],{"id":1306},"_1-cÃ i-Ä‘áº·t-redis-vÃ -ioredis",[68,1308],{":files":1309},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"npm install ioredis\\n# hoáº·c\\nyarn add ioredis\\n\"}]",[15,1311,411],{},[68,1313],{":files":1314},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"docker run -d -p 6379:6379 redis\\n\"}]",[1238,1316,414],{"id":1317},"_2-thiáº¿t-láº­p-cÆ¡-báº£n",[15,1319,1320,1321,1324],{},"Táº¡o má»™t tá»‡p cÃ³ tÃªn ",[45,1322,1323],{},"redis.js"," vÃ  thÃªm Ä‘oáº¡n mÃ£ sau:",[68,1326],{":files":1327},"[{\"title\":\"redis.js\",\"language\":\"javascript\",\"content\":\"// redis.ts\\nimport Redis from 'ioredis';\\n\\nconst redis = new Redis({\\n  host: '127.0.0.1',\\n  port: 6379,\\n  // password: 'máº­t_kháº©u_náº¿u_cÃ³'\\n});\\n\\nexport default redis;\\n\"}]",[1238,1329,419],{"id":1330},"_3-sá»­-dá»¥ng-redis-trong-á»©ng-dá»¥ng",[15,1332,421],{},[68,1334],{":files":1335},"[{\"title\":\"example.js\",\"language\":\"javascript\",\"content\":\"// example.ts\\nimport redis from './redis';\\n\\n// Chuá»—i\\nawait redis.set('greeting', 'Hello Redis');\\nconst greeting = await redis.get('greeting');\\nconsole.log(greeting); // Hello Redis\\n\\n// Danh sÃ¡ch\\nawait redis.lpush('queue', 'task1');\\nconst task = await redis.rpop('queue');\\nconsole.log(task); // task1\\n\\n// BÄƒm\\nawait redis.hset('user:1', { name: 'Jay', role: 'admin' });\\nconst user = await redis.hgetall('user:1');\\nconsole.log(user); // { name: 'Jay', role: 'admin' }\\n\\n// Táº­p há»£p cÃ³ thá»© tá»±\\nawait redis.zadd('scores', 100, 'Jay');\\nconst scores = await redis.zrange('scores', 0, -1, 'WITHSCORES');\\nconsole.log(scores);\\n\\n// Pub/Sub\\nredis.subscribe('news');\\nredis.on('message', (channel, message) => {\\n  console.log(`Nháº­n tin nháº¯n tá»« ${channel}: ${message}`);\\n});\\n\\nconst publisher = new Redis();\\npublisher.publish('news', 'Tin nÃ³ng!');\\n\"}]",[1238,1337,424],{"id":1338},"_4-vÃ­-dá»¥-vá»-bá»™-nhá»›-Ä‘á»‡m",[15,1340,426],{},[68,1342],{":files":1343},"[{\"title\":\"cache.js\",\"language\":\"javascript\",\"content\":\"import redis from './redis';\\n\\nasync function getUserData(userId) {\\n  const cacheKey = `user:${userId}`;\\n  const cachedData = await redis.get(cacheKey);\\n\\n  if (cachedData) {\\n    return JSON.parse(cachedData);\\n  }\\n\\n  // MÃ´ phá»ng truy váº¥n cÆ¡ sá»Ÿ dá»¯ liá»‡u\\n  const userData = await queryDatabase(userId);\\n  await redis.set(cacheKey, JSON.stringify(userData), 'EX', 3600); // LÆ°u vÃ o bá»™ nhá»› Ä‘á»‡m trong 1 giá»\\n  return userData;\\n}\\n\\nasync function queryDatabase(userId) {\\n  // MÃ´ phá»ng truy váº¥n cÆ¡ sá»Ÿ dá»¯ liá»‡u\\n  return { id: userId, name: 'Jay', age: 30 };\\n}\\n\"}]",[1238,1345,429],{"id":215},[15,1347,1348],{},"Redis lÃ  má»™t cÃ´ng cá»¥ máº¡nh máº½ cho bá»™ nhá»› Ä‘á»‡m vÃ  cÃ¡c á»©ng dá»¥ng thá»i gian thá»±c. Báº±ng cÃ¡ch tÃ­ch há»£p Redis vÃ o cÃ¡c dá»± Ã¡n Node.js, báº¡n cÃ³ thá»ƒ cáº£i thiá»‡n Ä‘Ã¡ng ká»ƒ hiá»‡u suáº¥t vÃ  kháº£ nÄƒng má»Ÿ rá»™ng. HÆ°á»›ng dáº«n nÃ y Ä‘Ã£ bao quÃ¡t cÃ¡c khÃ¡i niá»‡m cÆ¡ báº£n vá» kiá»ƒu dá»¯ liá»‡u, lá»‡nh, vÃ  cÃ¡ch sá»­ dá»¥ng Redis trong á»©ng dá»¥ng Node.js.\nHÃ£y khÃ¡m phÃ¡ thÃªm cÃ¡c tÃ­nh nÄƒng nÃ¢ng cao nhÆ° giao dá»‹ch, scripting Lua, vÃ  clustering khi báº¡n Ä‘Ã£ quen thuá»™c hÆ¡n vá»›i Redis.\nRedis lÃ  má»™t cÃ´ng cá»¥ Ä‘a nÄƒng cÃ³ thá»ƒ nÃ¢ng cao Ä‘Ã¡ng ká»ƒ á»©ng dá»¥ng cá»§a báº¡n.",[15,1350,1351],{},[64,1352,1353],{},"Happy Coding",[1238,1355,434],{"id":1356},"_6-tÃ i-nguyÃªn-tham-kháº£o",[58,1358,1359,1366],{},[61,1360,1361],{},[31,1362,1365],{"href":1363,"target":1364},"https://redis.io/documentation","_blank","TÃ i liá»‡u Redis",[61,1367,1368],{},[31,1369,1371],{"href":1370,"target":1364},"https://github.com/redis/ioredis","TÃ i liá»‡u ioredis",{"title":251,"searchDepth":252,"depth":252,"links":1373},[1374,1375,1376,1377,1378,1379,1380,1381,1382,1383,1384,1385],{"id":1240,"depth":252,"text":374},{"id":1248,"depth":252,"text":379},{"id":1256,"depth":252,"text":384},{"id":1264,"depth":252,"text":389},{"id":1272,"depth":252,"text":394},{"id":1280,"depth":252,"text":399},{"id":1306,"depth":252,"text":409},{"id":1317,"depth":252,"text":414},{"id":1330,"depth":252,"text":419},{"id":1338,"depth":252,"text":424},{"id":215,"depth":252,"text":429},{"id":1356,"depth":252,"text":434},"TÃ¬m hiá»ƒu cÃ¡c khÃ¡i niá»‡m cÆ¡ báº£n vá» Redis bao gá»“m cÃ¡c kiá»ƒu dá»¯ liá»‡u vÃ  phÆ°Æ¡ng thá»©c, cÅ©ng nhÆ° cÃ¡ch tÃ­ch há»£p Redis vÃ o á»©ng dá»¥ng Node.js Ä‘á»ƒ sá»­ dá»¥ng bá»™ nhá»› Ä‘á»‡m vÃ  cÃ¡c tÃ­nh nÄƒng thá»i gian thá»±c.","/images/blog/basic-redis/banner.webp",{},{"title":364,"description":1386},"blog/basic-redis",[1392],"redis","q7EVaSvL_1XBl8OsAP0K8b0SlDipTd8r_qProYyWMC0",{"id":1395,"title":439,"body":1396,"date":735,"description":1480,"extension":256,"image":1481,"meta":1482,"navigation":259,"path":438,"published":259,"seo":1483,"stem":1484,"tags":1485,"__hash__":1487},"blog/blog/common-docker-file.md",{"type":7,"value":1397,"toc":1471},[1398,1402,1405,1411,1413,1416,1418,1421,1424,1426,1429,1432,1434,1437,1440,1442,1445,1448,1450,1453,1456,1458,1460,1463],[15,1399,1400],{},[64,1401,439],{},[15,1403,1404],{},"Docker lÃ  má»™t cÃ´ng cá»¥ áº£o hÃ³a nháº¹ giÃºp phÃ¡t triá»ƒn, triá»ƒn khai vÃ  cháº¡y á»©ng dá»¥ng trong cÃ¡c container. NÃ³ cho phÃ©p báº¡n Ä‘Ã³ng gÃ³i á»©ng dá»¥ng vÃ  táº¥t cáº£ cÃ¡c phá»¥ thuá»™c cá»§a nÃ³ vÃ o má»™t container duy nháº¥t, giÃºp dá»… dÃ ng triá»ƒn khai trÃªn báº¥t ká»³ mÃ´i trÆ°á»ng nÃ o mÃ  khÃ´ng cáº§n lo láº¯ng vá» sá»± khÃ¡c biá»‡t giá»¯a cÃ¡c mÃ´i trÆ°á»ng.",[22,1406,1408],{"type":1407},"info",[15,1409,1410],{},"ÄÃ¢y lÃ  má»™t sá»‘ Dockerfile cho cÃ¡c dá»± Ã¡n thÆ°á»ng gáº·p, báº¡n cÃ³ thá»ƒ tham kháº£o vÃ  Ä‘iá»u chá»‰nh theo nhu cáº§u cá»§a mÃ¬nh.",[723,1412],{},[1238,1414,444],{"id":1415},"_1-dockerfile-cho-nodejs",[15,1417,446],{},[68,1419],{":files":1420},"[{\"title\":\"Dockerfile\",\"language\":\"dockerfile\",\"content\":\"FROM node:18-slim\\nWORKDIR /app\\nCOPY package*.json ./\\nRUN npm install --production\\nCOPY . .\\nEXPOSE 3000\\nCMD [\\\"node\\\", \\\"index.js\\\"]\\n\"}]",[1238,1422,449],{"id":1423},"_2-dockerfile-cho-php-vá»›i-laravel",[15,1425,451],{},[68,1427],{":files":1428},"[{\"title\":\"Dockerfile\",\"language\":\"dockerfile\",\"content\":\"FROM php:8.1-fpm-alpine\\nRUN apk add --no-cache libpng libjpeg-turbo libfreetype && \\\\\\n    docker-php-ext-configure gd --with-freetype --with-jpeg && \\\\\\n    docker-php-ext-install gd pdo pdo_mysql\\nWORKDIR /var/www\\nCOPY . .\\nRUN curl -sS https://getcomposer.org/installer | php -- --install-dir=/usr/local/bin --filename=composer\\nRUN composer install --optimize-autoloader --no-dev\\nEXPOSE 9000\\nCMD [\\\"php-fpm\\\"]\\n\"}]",[1238,1430,454],{"id":1431},"_3-dockerfile-cho-react",[15,1433,456],{},[68,1435],{":files":1436},"[{\"title\":\"Dockerfile\",\"language\":\"dockerfile\",\"content\":\"FROM node:18-slim as build\\nWORKDIR /app\\nCOPY . .\\nRUN npm install\\nRUN npm run build\\n\\nFROM nginx:alpine\\nCOPY --from=build /app/build /usr/share/nginx/html\\nEXPOSE 80\\nCMD [\\\"nginx\\\", \\\"-g\\\", \\\"daemon off;\\\"]\\n\"}]",[1238,1438,459],{"id":1439},"_4-dockerfile-cho-vue",[15,1441,461],{},[68,1443],{":files":1444},"[{\"title\":\"Dockerfile\",\"language\":\"dockerfile\",\"content\":\"FROM node:18-slim as build\\nWORKDIR /app\\nCOPY . .\\nRUN npm install\\nRUN npm run build\\n\\nFROM nginx:alpine\\nCOPY --from=build /app/dist /usr/share/nginx/html\\nEXPOSE 80\\nCMD [\\\"nginx\\\", \\\"-g\\\", \\\"daemon off;\\\"]\\n\"}]",[1238,1446,464],{"id":1447},"_5-dockerfile-cho-nuxtjs",[15,1449,466],{},[68,1451],{":files":1452},"[{\"title\":\"Dockerfile\",\"language\":\"dockerfile\",\"content\":\"FROM node:18-slim as build\\nWORKDIR /app\\nCOPY . .\\nRUN npm install\\nRUN npm run build\\n\\nFROM node:18-slim\\nWORKDIR /app\\nCOPY --from=build /app /app\\nEXPOSE 3000\\nCMD [\\\"npm\\\", \\\"run\\\", \\\"start\\\"]\\n\"}]",[1238,1454,469],{"id":1455},"_6-dockerfile-cho-nextjs",[15,1457,471],{},[68,1459],{":files":1452},[1238,1461,474],{"id":1462},"Ä‘ang-cáº­p-nháº­t",[15,1464,1465,1466,1470],{},"Náº¿u báº¡n cÃ³ cÃ¡c cáº¥u hÃ¬nh hoáº·c Dockerfile khÃ¡c muá»‘n chia sáº», vui lÃ²ng gá»­i email vá» ",[31,1467,1469],{"href":1468},"mailto:vinhtieng123@gmail.com","vinhtieng123@gmail.com",". MÃ¬nh ráº¥t trÃ¢n trá»ng Ä‘iá»u Ä‘Ã³.",{"title":251,"searchDepth":252,"depth":252,"links":1472},[1473,1474,1475,1476,1477,1478,1479],{"id":1415,"depth":252,"text":444},{"id":1423,"depth":252,"text":449},{"id":1431,"depth":252,"text":454},{"id":1439,"depth":252,"text":459},{"id":1447,"depth":252,"text":464},{"id":1455,"depth":252,"text":469},{"id":1462,"depth":252,"text":474},"TÃ¬m hiá»ƒu vá» Docker vÃ  khÃ¡m phÃ¡ cÃ¡c Dockerfile phá»• biáº¿n cho nhiá»u dá»± Ã¡n nhÆ° Node.js, PHP vá»›i Laravel, React, Vue, Nuxt vÃ  Next.js. KhÃ¡m phÃ¡ cÃ¡c ká»¹ thuáº­t tá»‘i Æ°u vÃ  thá»±c hÃ nh tá»‘t nháº¥t.","/images/blog/common-docker-file/banner.webp",{},{"title":439,"description":1480},"blog/common-docker-file",[1486],"docker","rfE4IC06PQiUtlAnitgLwR_B1ShNxO0-v7-su-8zJas",{"id":4,"title":5,"body":1489,"date":254,"description":255,"extension":256,"image":257,"meta":1647,"navigation":259,"path":260,"published":259,"seo":1648,"stem":262,"tags":1649,"__hash__":265},{"type":7,"value":1490,"toc":1645},[1491,1493,1495,1497,1501,1506,1508,1516,1522,1524,1544,1546,1550,1552,1554,1556,1558,1568,1570,1572,1580,1582,1584,1586,1588,1590,1604,1606,1616,1618,1620,1624,1626,1628],[10,1492,13],{"id":12},[15,1494,17],{},[15,1496,20],{},[22,1498,1499],{},[15,1500,26],{},[15,1502,29,1503],{},[31,1504,36],{"href":33,"rel":1505},[35],[10,1507,40],{"id":39},[15,1509,43,1510,48,1512,52,1514,56],{},[45,1511,47],{},[45,1513,51],{},[45,1515,55],{},[58,1517,1518],{},[61,1519,1520,66],{},[64,1521,47],{},[68,1523],{":files":70},[58,1525,1526,1532],{},[61,1527,1528,77,1530],{},[64,1529,51],{},[68,1531],{":files":80},[61,1533,1534,85,1536,52,1538,90,1540,93,1542],{},[64,1535,55],{},[45,1537,47],{},[45,1539,51],{},[45,1541,47],{},[68,1543],{":files":96},[10,1545,100],{"id":99},[15,1547,103,1548,107],{},[45,1549,106],{},[15,1551,110],{},[68,1553],{":files":113},[15,1555,116],{},[68,1557],{":files":119},[15,1559,122,1560,52,1562,127,1564,52,1566,132],{},[45,1561,47],{},[45,1563,51],{},[45,1565,47],{},[45,1567,51],{},[15,1569,135],{},[68,1571],{":files":138},[15,1573,141,1574,145,1576,149,1578,153],{},[45,1575,144],{},[45,1577,148],{},[45,1579,152],{},[15,1581,156],{},[15,1583,159],{},[15,1585,162],{},[68,1587],{":files":165},[10,1589,169],{"id":168},[15,1591,172,1592,48,1594,52,1596,179,1598,52,1600,184,1602,187],{},[45,1593,47],{},[45,1595,51],{},[45,1597,55],{},[45,1599,47],{},[45,1601,51],{},[45,1603,47],{},[68,1605],{":files":190},[15,1607,193,1608,197,1610,201,1612,205,1614,209],{},[45,1609,196],{},[45,1611,200],{},[45,1613,204],{},[45,1615,208],{},[68,1617],{":files":212},[10,1619,216],{"id":215},[15,1621,219,1622,222],{},[45,1623,106],{},[15,1625,225],{},[10,1627,229],{"id":228},[58,1629,1630,1635,1640],{},[61,1631,1632],{},[31,1633,36],{"href":33,"rel":1634},[35],[61,1636,1637],{},[31,1638,243],{"href":241,"rel":1639},[35],[61,1641,1642],{},[31,1643,106],{"href":248,"rel":1644},[35],{"title":251,"searchDepth":252,"depth":252,"links":1646},[],{},{"title":5,"description":255},[264],{"id":519,"title":505,"body":1651,"date":254,"description":507,"extension":256,"image":572,"meta":1688,"navigation":259,"path":504,"published":259,"seo":1689,"stem":575,"tags":1690,"__hash__":577},{"type":7,"value":1652,"toc":1686},[1653,1655,1680,1682],[10,1654,510],{"id":524},[58,1656,1657,1664,1668,1672,1676],{},[61,1658,1659,532,1661,538],{},[45,1660,531],{},[31,1662,537],{"href":535,"rel":1663},[35],[61,1665,1666,544],{},[45,1667,543],{},[61,1669,1670,550],{},[45,1671,549],{},[61,1673,553,1674],{},[68,1675],{":files":556},[61,1677,1678,562],{},[45,1679,561],{},[10,1681,515],{"id":565},[58,1683,1684],{},[61,1685],{},{"title":251,"searchDepth":252,"depth":252,"links":1687},[],{},{"title":505,"description":507},[264],1746437741993]