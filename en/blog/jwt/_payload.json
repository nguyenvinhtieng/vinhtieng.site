[{"data":1,"prerenderedAt":2130},["ShallowReactive",2],{"blog-jwt":3,"search":349,"related-posts-jwt":635,"all-post":701},{"id":4,"title":5,"body":6,"date":336,"description":337,"extension":338,"image":339,"keywords":340,"meta":341,"navigation":342,"path":343,"published":342,"seo":344,"stem":345,"tags":346,"__hash__":348},"blog/blog/jwt.md","JWT l√† g√¨? C√°ch ho·∫°t ƒë·ªông v√† ·ª©ng d·ª•ng th·ª±c t·∫ø",{"type":7,"value":8,"toc":332},"minimal",[9,14,18,30,34,50,57,60,82,85,91,98,101,105,112,127,130,133,148,152,159,162,165,168,171,184,187,190,205,216,219,222,242,248,257,261,264,284,287,290,293,297,303,306,310],[10,11,13],"h1",{"id":12},"_1-gi·ªõi-thi·ªáu-v·ªÅ-jwt","1. Gi·ªõi thi·ªáu v·ªÅ JWT",[15,16,17],"p",{},"JSON Web Token (JWT) l√† m·ªôt ti√™u chu·∫©n m·ªü ( RFC 7519 ) ƒë·ªãnh nghƒ©a m·ªôt c√°ch th·ª©c nh·ªè g·ªçn v√† ƒë·ªôc l·∫≠p ƒë·ªÉ truy·ªÅn th√¥ng tin an to√†n gi·ªØa c√°c b√™n d∆∞·ªõi d·∫°ng ƒë·ªëi t∆∞·ª£ng JSON. Th√¥ng tin n√†y c√≥ th·ªÉ ƒë∆∞·ª£c x√°c minh v√† tin c·∫≠y v√¨ n√≥ ƒë∆∞·ª£c k√Ω k·ªπ thu·∫≠t s·ªë. JWT c√≥ th·ªÉ ƒë∆∞·ª£c k√Ω b·∫±ng m·ªôt b√≠ m·∫≠t (v·ªõi thu·∫≠t to√°n HMAC ) ho·∫∑c m·ªôt c·∫∑p kh√≥a c√¥ng khai/ri√™ng t∆∞ b·∫±ng RSA ho·∫∑c ECDSA .",[15,19,20],{},[21,22,23,24],"em",{},"Tr√≠ch t·ª´: ",[25,26,27],"a",{"href":27,"rel":28},"https://jwt.io/introduction",[29],"nofollow",[10,31,33],{"id":32},"_2-c√°c-th√†nh-ph·∫ßn-c·ªßa-jwt","2. C√°c th√†nh ph·∫ßn c·ªßa JWT",[15,35,36,37,41,42,45,46,49],{},"JWT bao g·ªìm ba th√†nh ph·∫ßn ch√≠nh: ",[38,39,40],"code",{},"Header",", ",[38,43,44],{},"Payload"," v√† ",[38,47,48],{},"Signature",". M·ªói ph·∫ßn ƒë·ªÅu ƒë∆∞·ª£c m√£ h√≥a b·∫±ng Base64Url v√† ƒë∆∞·ª£c ph√¢n t√°ch b·∫±ng d·∫•u ch·∫•m (.).\nM·ªôt JWT token th∆∞·ªùng s·∫Ω tr√¥ng nh∆∞ sau:",[51,52,54],"alert",{"type":53},"info",[15,55,56],{},"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c",[15,58,59],{},"nh∆∞ v·∫≠y v·ªõi JWT token ·ªü tr√™n th√¨ c√°c th√†nh ph·∫ßn sau khi ƒë∆∞·ª£c m√£ h√≥a s·∫Ω l√†:",[61,62,63,70,76],"ul",{},[64,65,66,67],"li",{},"Header: ",[38,68,69],{},"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9",[64,71,72,73],{},"Payload: ",[38,74,75],{},"eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ",[64,77,78,79],{},"Signature: ",[38,80,81],{},"SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c",[83,84],"br",{},[15,86,87],{},[88,89,90],"strong",{},"Chi ti·∫øt v·ªÅ c√°c th√†nh ph·∫ßn",[61,92,93],{},[64,94,95,97],{},[88,96,40],{},": Th∆∞·ªùng s·∫Ω ch·ª©a th√¥ng tin v·ªÅ thu·∫≠t to√°n m√£ h√≥a v√† lo·∫°i token.",[15,99,100],{},"V√≠ d·ª•:",[102,103],"code-block",{":files":104},"[{\"title\":\"json\",\"language\":\"json\",\"content\":\"{\\n  \\\"alg\\\": \\\"HS256\\\",\\n  \\\"typ\\\": \\\"JWT\\\"\\n}\\n\"}]",[61,106,107],{},[64,108,109,111],{},[88,110,44],{},": ƒê√¢y l√† ph·∫ßn s·∫Ω ch·ª©a c√°c th√¥ng tin m√† ch√∫ng ta mu·ªën m√£ h√≥a v√† truy·ªÅn t·∫£i. Th∆∞·ªùng th√¨ ch√∫ng ta s·∫Ω l∆∞u th√¥ng tin ng∆∞·ªùi d√πng, user_id,...",[51,113,114],{"type":53},[15,115,116,117,41,120,41,123,126],{},"L∆∞u √Ω r·∫±ng JWT token kh√¥ng c√≥ h·∫øt h·∫°n, tuy nhi√™n ch√∫ng ta c√≥ th·ªÉ gi·ªõi h·∫°n th·ªùi gian s·ªëng c·ªßa token b·∫±ng c√°ch th√™m c√°c tr∆∞·ªùng nh∆∞ ",[38,118,119],{},"exp",[38,121,122],{},"nbf",[38,124,125],{},"iat"," v√†o payload. V√† khi ch√∫ng ta x√°c th·ª±c token ch√∫ng ta s·∫Ω c·∫ßn th√™m m·ªôt b∆∞·ªõc ki·ªÉm tra th·ªùi gian s·ªëng c·ªßa token. Nh∆∞ v·∫≠y ch√∫ng ta c√≥ th·ªÉ s·ª≠ d·ª•ng JWT token nh∆∞ m·ªôt session token.",[15,128,129],{},"V√≠ d·ª• v·ªÅ payload:",[102,131],{":files":132},"[{\"title\":\"json\",\"language\":\"json\",\"content\":\"{\\n  \\\"sub\\\": \\\"1234567890\\\",\\n  \\\"name\\\": \\\"John Doe\\\",\\n  \\\"iat\\\": 1516239022\\n}\\n\"}]",[61,134,135],{},[64,136,137,139,140,45,142,144,145],{},[88,138,48],{},": ƒê∆∞·ª£c t·∫°o b·∫±ng c√°ch m√£ h√≥a ",[38,141,40],{},[38,143,44],{}," v·ªõi m·ªôt kh√≥a b√≠ m·∫≠t v√† thu·∫≠t to√°n ƒë√£ ch·ªâ ƒë·ªãnh trong Header. ƒêi·ªÅu n√†y gi√∫p ƒë·∫£m b·∫£o r·∫±ng token kh√¥ng b·ªã thay ƒë·ªïi trong qu√° tr√¨nh truy·ªÅn t·∫£i. V√≠ d·ª•:",[102,146],{":files":147},"[{\"title\":\"json\",\"language\":\"json\",\"content\":\"HMACSHA256(\\n  base64UrlEncode(header) + \\\".\\\" +\\n  base64UrlEncode(payload),\\n  your-256-bit-secret\\n)\\n\"}]",[10,149,151],{"id":150},"_3-vi·∫øt-l·∫°i-h√†m-ƒë·ªÉ-generate-jwt-token-v√†-verify-jwt-token-trong-nodejs","3. Vi·∫øt l·∫°i h√†m ƒë·ªÉ generate JWT token v√† verify JWT token trong NodeJs",[15,153,154,155,158],{},"Khi l√†m vi·ªác v·ªõi jwt v√† nodeJs, h·∫ßu h·∫øt m·ªçi ng∆∞·ªùi s·∫Ω s·ª≠ d·ª•ng th∆∞ vi·ªán ",[38,156,157],{},"jsonwebtoken"," ƒë·ªÉ t·∫°o v√† x√°c th·ª±c JWT token. Tuy nhi√™n, ƒë·ªÉ hi·ªÉu r√µ h∆°n v·ªÅ c√°ch ho·∫°t ƒë·ªông c·ªßa JWT, ch√∫ng ta c√≥ th·ªÉ t·ª± vi·∫øt h√†m ƒë·ªÉ t·∫°o v√† x√°c th·ª±c JWT token.",[15,160,161],{},"Gi·∫£ s·ª≠ ch√∫ng ta mu·ªën t·∫°o JWT token t·ª´ th√¥ng tin user_id=123, khi ƒë√≥ ph·∫ßn payload s·∫Ω l√†:",[102,163],{":files":164},"[{\"title\":\"javascript\",\"language\":\"javascript\",\"content\":\"const payload = {\\n  user_id: 123\\n}\\n\"}]",[15,166,167],{},"·ªû ph·∫ßn header, ch√∫ng ta s·∫Ω s·ª≠ d·ª•ng thu·∫≠t to√°n HS256 ƒë·ªÉ m√£ h√≥a JWT token. N√™n payload s·∫Ω c√≥ d·∫°ng nh∆∞ sau:",[102,169],{":files":170},"[{\"title\":\"javascript\",\"language\":\"javascript\",\"content\":\"const header = {\\n  alg: 'HS256',\\n  typ: 'JWT'\\n}\\n\"}]",[15,172,173,174,45,176,178,179,45,181,183],{},"ƒê·ªÉ t·∫°o JWT token, ch√∫ng ta c·∫ßn m√£ h√≥a ",[38,175,40],{},[38,177,44],{}," b·∫±ng Base64Url. Sau ƒë√≥, ch√∫ng ta s·∫Ω t·∫°o ch·ªØ k√Ω b·∫±ng c√°ch s·ª≠ d·ª•ng thu·∫≠t to√°n HMACSHA256 v·ªõi kh√≥a b√≠ m·∫≠t (secret key) v√† k·∫øt h·ª£p ",[38,180,40],{},[38,182,44],{},".",[15,185,186],{},"ƒê·∫ßu ti√™n ch√∫ng ta c·∫ßn vi·∫øt 1 h√†m ƒë·ªÉ m√£ h√≥a Base64Url:",[102,188],{":files":189},"[{\"title\":\"javascript\",\"language\":\"javascript\",\"content\":\"function base64UrlEncode(str) {\\n  return Buffer.from(str)\\n    .toString('base64')\\n    .replace(/=/g, '')\\n    .replace(/\\\\+/g, '-')\\n    .replace(/\\\\//g, '_');\\n}\\n\"}]",[15,191,192,193,196,197,200,201,204],{},"·ªû ƒë√¢y, v√¨ ch√∫ng ta s·ª≠ d·ª•ng NodeJs n√™n c√≥ th·ªÉ s·ª≠ d·ª•ng ",[38,194,195],{},"Buffer"," ƒë·ªÉ m√£ h√≥a Base64Url. N·∫øu b·∫°n ƒëang l√†m vi·ªác v·ªõi JavaScript tr√™n tr√¨nh duy·ªát, b·∫°n c√≥ th·ªÉ s·ª≠ d·ª•ng ",[38,198,199],{},"btoa()"," ƒë·ªÉ m√£ h√≥a Base64Url. Khi mu·ªën gi·∫£i m√£, b·∫°n c√≥ th·ªÉ s·ª≠ d·ª•ng ",[38,202,203],{},"atob()",". H√†m n√†y l√† h√†m c√≥ s·∫µn trong tr√¨nh duy·ªát.",[15,206,207,208,211,212,215],{},"Ti·∫øp theo, ch√∫ng ta s·∫Ω tri·ªÉn khai h√†m t·∫°o JWT token. Trong Node.js, ch√∫ng ta c√≥ th·ªÉ d·ªÖ d√†ng th·ª±c hi·ªán ƒëi·ªÅu n√†y b·∫±ng c√°ch d√πng th∆∞ vi·ªán t√≠ch h·ª£p s·∫µn l√† ",[38,209,210],{},"crypto",", c·ª• th·ªÉ l√† h√†m ",[38,213,214],{},"createHmac",". H√†m n√†y s·∫Ω gi√∫p ch√∫ng ta t·∫°o ra ch·ªØ k√Ω (signature) t·ª´ chu·ªói ƒë√£ m√£ h√≥a g·ªìm Header v√† Payload, k·∫øt h·ª£p v·ªõi secret key ƒë·ªÉ ƒë·∫£m b·∫£o t√≠nh to√†n v·∫πn v√† x√°c th·ª±c c·ªßa token.",[15,217,218],{},"Full code m√£ h√≥a JWT token s·∫Ω nh∆∞ sau:",[102,220],{":files":221},"[{\"title\":\"javascript\",\"language\":\"javascript\",\"content\":\"const crypto = require('crypto');\\nfunction base64UrlEncode(str) {\\n  return Buffer.from(str)\\n    .toString('base64')\\n    .replace(/=/g, '')\\n    .replace(/\\\\+/g, '-')\\n    .replace(/\\\\//g, '_');\\n}\\n\\nfunction createJWT(payload, secret) {\\n  const header = {\\n    alg: 'HS256',\\n    typ: 'JWT'\\n  };\\n\\n  const encodedHeader = base64UrlEncode(JSON.stringify(header));\\n  const encodedPayload = base64UrlEncode(JSON.stringify(payload));\\n\\n  const signature = crypto\\n    .createHmac('sha256', secret)\\n    .update(`${encodedHeader}.${encodedPayload}`)\\n    .digest('base64')\\n    .replace(/=/g, '')\\n    .replace(/\\\\+/g, '-')\\n    .replace(/\\\\//g, '_');\\n\\n  return `${encodedHeader}.${encodedPayload}.${signature}`;\\n}\\n\"}]",[15,223,224,225,228,229,45,232,235,236,238,239,241],{},"Nh∆∞ v·∫≠y ch√∫ng ta ƒë√£ c√≥ h√†m ",[38,226,227],{},"createJWT"," ƒë·ªÉ t·∫°o JWT token. H√†m n√†y s·∫Ω nh·∫≠n v√†o 2 tham s·ªë l√† ",[38,230,231],{},"payload",[38,233,234],{},"secret",". ",[38,237,231],{}," l√† th√¥ng tin m√† ch√∫ng ta mu·ªën m√£ h√≥a v√† truy·ªÅn t·∫£i, c√≤n ",[38,240,234],{}," l√† kh√≥a b√≠ m·∫≠t m√† ch√∫ng ta s·∫Ω s·ª≠ d·ª•ng ƒë·ªÉ t·∫°o ch·ªØ k√Ω cho token.",[51,243,245],{"type":244},"error",[15,246,247],{},"ƒê·ªëi v·ªõi JWT token, ch√∫ng ta c√≥ th·ªÉ s·ª≠ d·ª•ng b·∫•t k·ª≥ chu·ªói n√†o l√†m kh√≥a b√≠ m·∫≠t. Tuy nhi√™n, ƒë·ªÉ ƒë·∫£m b·∫£o t√≠nh b·∫£o m·∫≠t, ch√∫ng ta n√™n s·ª≠ d·ª•ng m·ªôt chu·ªói ng·∫´u nhi√™n v√† ƒë·ªß d√†i. V√¨ khi s·ª≠ d·ª•ng thu·∫≠t to√°n HMACSHA256, n·∫øu k·∫ª t·∫•n c√¥ng bi·∫øt ƒë∆∞·ª£c kh√≥a b√≠ m·∫≠t, h·ªç c√≥ th·ªÉ t·∫°o ra token gi·∫£ m·∫°o v√† truy c·∫≠p v√†o h·ªá th·ªëng c·ªßa b·∫°n.",[15,249,250,251,256],{},"C√≥ th·ªÉ s·ª≠ d·ª•ng trang web ",[25,252,255],{"href":253,"rel":254},"https://randomkeygen.com/",[29],"randomkeygen.com"," ƒë·ªÉ t·∫°o ra m·ªôt chu·ªói ng·∫´u nhi√™n v√† ƒë·ªß d√†i l√†m kh√≥a b√≠ m·∫≠t.",[10,258,260],{"id":259},"_4-x√°c-th·ª±c-jwt-token","4. X√°c th·ª±c JWT token",[15,262,263],{},"Token JWT g·ªìm ba ph·∫ßn: Header, Payload v√† Signature, ƒë∆∞·ª£c n·ªëi v·ªõi nhau b·∫±ng d·∫•u ch·∫•m (.). Qu√° tr√¨nh x√°c th·ª±c di·ªÖn ra nh∆∞ sau:",[265,266,267,270,273],"ol",{},[64,268,269],{},"T√°ch token th√†nh ba ph·∫ßn: Header, Payload v√† Signature.",[64,271,272],{},"T·∫°o l·∫°i ch·ªØ k√Ω b·∫±ng c√°ch k·∫øt h·ª£p Header v√† Payload ƒë√£ m√£ h√≥a b·∫±ng Base64Url, sau ƒë√≥ s·ª≠ d·ª•ng c√πng thu·∫≠t to√°n v√† kh√≥a b√≠ m·∫≠t (secret key) ƒë√£ ƒë∆∞·ª£c d√πng khi t·∫°o token ban ƒë·∫ßu.",[64,274,275,276],{},"So s√°nh ch·ªØ k√Ω m·ªõi t·∫°o v·ªõi ch·ªØ k√Ω ban ƒë·∫ßu trong token:\n",[61,277,278,281],{},[64,279,280],{},"N·∫øu hai ch·ªØ k√Ω gi·ªëng nhau, token ƒë∆∞·ª£c x√°c nh·∫≠n l√† h·ª£p l·ªá (kh√¥ng b·ªã ch·ªânh s·ª≠a).",[64,282,283],{},"N·∫øu kh√°c nhau, token ƒë√£ b·ªã thay ƒë·ªïi ho·∫∑c kh√¥ng h·ª£p l·ªá.",[102,285],{":files":286},"[{\"title\":\"javascript\",\"language\":\"javascript\",\"content\":\"function verifyJWT(token, secret) {\\n  const [encodedHeader, encodedPayload, signature] = token.split('.');\\n  const expectedSignature = crypto\\n    .createHmac('sha256', secret)\\n    .update(`${encodedHeader}.${encodedPayload}`)\\n    .digest('base64')\\n    .replace(/=/g, '')\\n    .replace(/\\\\+/g, '-')\\n    .replace(/\\\\//g, '_');\\n\\n  return expectedSignature === signature;\\n}\\nconst token = createJWT(payload, secret);\\nconst isValid = verifyJWT(token, secret);\\nconsole.log('Token is valid:', isValid);\\n\"}]",[15,288,289],{},"Ngo√†i ra, ƒë·ªÉ ki·ªÉm tra xem token c√≥ h·∫øt h·∫°n hay ch∆∞a, b·∫°n c√≥ th·ªÉ th√™m tr∆∞·ªùng exp (expiration) v√†o Payload. Tr∆∞·ªùng n√†y l∆∞u th·ªùi gian h·∫øt h·∫°n d∆∞·ªõi d·∫°ng timestamp (s·ªë gi√¢y k·ªÉ t·ª´ ng√†y 1/1/1970). Khi x√°c th·ª±c, ch·ªâ c·∫ßn so s√°nh gi√° tr·ªã exp v·ªõi th·ªùi gian hi·ªán t·∫°i ƒë·ªÉ bi·∫øt token c√≤n hi·ªáu l·ª±c hay kh√¥ng.",[102,291],{":files":292},"[{\"title\":\"javascript\",\"language\":\"javascript\",\"content\":\"const payload = {\\n  user_id: 123,\\n  exp: Math.floor(Date.now() / 1000) + (60 * 60) // H·∫øt h·∫°n sau 1 gi·ªù\\n};\\nconst token = createJWT(payload, secret);\\nconst isValid = verifyJWT(token, secret);\\nconst decodedPayload = JSON.parse(Buffer.from(token.split('.')[1], 'base64').toString());\\nconst isExpired = decodedPayload.exp \u003C Math.floor(Date.now() / 1000);\\nconsole.log('Token is valid:', isValid);\\nconsole.log('Token is expired:', isExpired);\\n\"}]",[10,294,296],{"id":295},"_5-k·∫øt-lu·∫≠n","5. K·∫øt lu·∫≠n",[15,298,299,300,302],{},"JWT l√† m·ªôt c√¥ng c·ª• m·∫°nh m·∫Ω ƒë·ªÉ x√°c th·ª±c v√† ph√¢n quy·ªÅn trong c√°c ·ª©ng d·ª•ng web. B·∫±ng c√°ch hi·ªÉu r√µ c√°ch ho·∫°t ƒë·ªông c·ªßa JWT, b·∫°n c√≥ th·ªÉ t·ª± t·∫°o v√† x√°c th·ª±c JWT token m√† kh√¥ng c·∫ßn ph·ª• thu·ªôc v√†o th∆∞ vi·ªán b√™n ngo√†i. Tuy nhi√™n, trong th·ª±c t·∫ø, b·∫°n n√™n s·ª≠ d·ª•ng th∆∞ vi·ªán ",[38,301,157],{}," ƒë·ªÉ ti·∫øt ki·ªám th·ªùi gian v√† c√¥ng s·ª©c.",[15,304,305],{},"Hy v·ªçng b√†i vi·∫øt n√†y ƒë√£ gi√∫p b·∫°n hi·ªÉu r√µ h∆°n v·ªÅ JWT v√† c√°ch s·ª≠ d·ª•ng n√≥ trong ·ª©ng d·ª•ng c·ªßa m√¨nh. N·∫øu b·∫°n c√≥ b·∫•t k·ª≥ c√¢u h·ªèi n√†o, h√£y li√™n h·ªá v·ªõi m√¨nh qua c√°c k√™nh li√™n l·∫°c nh∆∞ email, facebook, zalo ho·∫∑c telegram nh√©!",[10,307,309],{"id":308},"_6-t√†i-li·ªáu-tham-kh·∫£o","6. T√†i li·ªáu tham kh·∫£o",[61,311,312,319,326],{},[64,313,314],{},[25,315,318],{"href":316,"rel":317},"https://jwt.io/",[29],"jwt.io",[64,320,321],{},[25,322,325],{"href":323,"rel":324},"https://datatracker.ietf.org/doc/html/rfc7519",[29],"RFC 7519 - JSON Web Token (JWT)",[64,327,328],{},[25,329,157],{"href":330,"rel":331},"https://www.npmjs.com/package/jsonwebtoken",[29],{"title":333,"searchDepth":334,"depth":334,"links":335},"",2,[],"2025-05-05T00:00:00.000Z","JWT (JSON Web Token) l√† g√¨? C√°ch JWT ho·∫°t ƒë·ªông, c·∫•u tr√∫c g·ªìm Header, Payload, Signature v√† c√°ch ·ª©ng d·ª•ng trong x√°c th·ª±c b·∫£o m·∫≠t.","md","/images/blog/jwt/banner.webp","jwt, jsonwebtoken, nodejs, b·∫£o m·∫≠t, x√°c th·ª±c",{},true,"/blog/jwt",{"title":5,"description":337},"blog/jwt",[347],"npm","yD1lXH-8Az6ik7WFkgSdIc4k5xNC5W8to4G-L9vWpKw",[350,356,361,366,371,376,381,386,391,396,401,406,411,416,421,426,431,436,441,446,450,455,460,465,470,475,480,485,490,495,500,505,510,515,520,525,530,535,540,545,549,554,556,560,564,568,572,576,580,585,590,594,600,605,610,615,620,625,630],{"id":351,"title":352,"titles":353,"content":354,"level":355},"/blog/ansible","T·ªïng quan v√† c·∫•u h√¨nh Ansible",[],"H∆∞·ªõng d·∫´n chi ti·∫øt v·ªÅ c√†i ƒë·∫∑t, c·∫•u h√¨nh SSH, inventory v√† s·ª≠ d·ª•ng Playbook trong Ansible. H∆∞·ªõng d·∫´n chi ti·∫øt v·ªÅ c√†i ƒë·∫∑t v√† tri·ªÉn khai Ansible Ansible l√† m·ªôt c√¥ng c·ª• t·ª± ƒë·ªông h√≥a m·∫°nh m·∫Ω, gi√∫p qu·∫£n l√Ω c·∫•u h√¨nh, tri·ªÉn khai ·ª©ng d·ª•ng v√† ƒëi·ªÅu ph·ªëi h·ªá th·ªëng m·ªôt c√°ch d·ªÖ d√†ng. Trong b√†i vi·∫øt n√†y, ch√∫ng ta s·∫Ω t√¨m hi·ªÉu c√°ch c√†i ƒë·∫∑t, c·∫•u h√¨nh v√† s·ª≠ d·ª•ng Ansible th√¥ng qua c√°c v√≠ d·ª• th·ª±c t·∫ø.",1,{"id":357,"title":358,"titles":359,"content":360,"level":355},"/blog/ansible#Ô∏è-c√†i-ƒë·∫∑t-ansible","üõ†Ô∏è C√†i ƒë·∫∑t Ansible",[],"H∆∞·ªõng d·∫´n c√†i ƒë·∫∑t Ansible tr√™n Ubuntu: Sau khi c√†i ƒë·∫∑t, b·∫°n c√≥ th·ªÉ ki·ªÉm tra phi√™n b·∫£n Ansible:",{"id":362,"title":363,"titles":364,"content":365,"level":355},"/blog/ansible#c·∫•u-h√¨nh-ssh","üîë C·∫•u h√¨nh SSH",[],"ƒê·ªÉ Ansible c√≥ th·ªÉ k·∫øt n·ªëi ƒë·∫øn c√°c m√°y ch·ªß t·ª´ xa, b·∫°n c·∫ßn c·∫•u h√¨nh SSH. D∆∞·ªõi ƒë√¢y l√† c√°ch sao ch√©p SSH key ƒë·∫øn m√°y ch·ªß kh√°c: L∆∞u √Ω: Thay vinhtieng@123.3123.12 b·∫±ng t√™n ng∆∞·ªùi d√πng v√† ƒë·ªãa ch·ªâ IP c·ªßa m√°y ch·ªß t·ª´ xa.",{"id":367,"title":368,"titles":369,"content":370,"level":355},"/blog/ansible#hosts-inventory","üìã Hosts - Inventory",[],"File inventory l√† n∆°i b·∫°n ƒë·ªãnh nghƒ©a danh s√°ch c√°c m√°y ch·ªß m√† Ansible s·∫Ω qu·∫£n l√Ω. ƒê√¢y l√† m·ªôt v√≠ d·ª• c∆° b·∫£n:",{"id":372,"title":373,"titles":374,"content":375,"level":355},"/blog/ansible#ki·ªÉm-tra-k·∫øt-n·ªëi-ping","üèì Ki·ªÉm tra k·∫øt n·ªëi (Ping)",[],"B·∫°n c√≥ th·ªÉ ki·ªÉm tra k·∫øt n·ªëi ƒë·∫øn c√°c m√°y ch·ªß b·∫±ng l·ªánh ping: Ping v·ªõi file hosts m·∫∑c ƒë·ªãnh: Ping v·ªõi file inventory t√πy ch·ªânh:",{"id":377,"title":378,"titles":379,"content":380,"level":355},"/blog/ansible#playbook-task-module","üìú Playbook - Task - Module",[],"Playbook l√† n∆°i b·∫°n ƒë·ªãnh nghƒ©a c√°c t√°c v·ª• (tasks) c·∫ßn th·ª±c hi·ªán tr√™n c√°c m√°y ch·ªß. D∆∞·ªõi ƒë√¢y l√† c√°ch ch·∫°y m·ªôt playbook: V√≠ d·ª• v·ªÅ Playbook ƒë∆°n gi·∫£n:",{"id":382,"title":383,"titles":384,"content":385,"level":355},"/blog/ansible#t√†i-li·ªáu-tham-kh·∫£o","üìö T√†i li·ªáu tham kh·∫£o",[],"Ansible DocumentationAnsible GalaxyAnsible Playbook Guide T√≥m l·∫°i: Ansible l√† c√¥ng c·ª• m·∫°nh m·∫Ω gi√∫p t·ª± ƒë·ªông h√≥a c√°c t√°c v·ª• qu·∫£n tr·ªã h·ªá th·ªëng. Vi·ªác n·∫Øm v·ªØng c√°ch s·ª≠ d·ª•ng Ansible s·∫Ω gi√∫p b·∫°n ti·∫øt ki·ªám th·ªùi gian v√† gi·∫£m thi·ªÉu l·ªói trong qu√° tr√¨nh qu·∫£n l√Ω h·ªá th·ªëng.",{"id":387,"title":388,"titles":389,"content":390,"level":355},"/blog/basic-nginx","T·ªïng quan v√† c·∫•u h√¨nh th√¥ng d·ª•ng Nginx",[],"H∆∞·ªõng d·∫´n chi ti·∫øt v·ªÅ c·∫•u h√¨nh v√† tri·ªÉn khai Nginx nh∆∞ web server, reverse proxy, load balancer, v√† c√°c thi·∫øt l·∫≠p n√¢ng cao. Gi·ªõi thi·ªáu v·ªÅ Nginx nginx (\"engine x\") is an HTTP web server, reverse proxy, content cache, load balancer, TCP/UDP proxy server, and mail proxy server. Originally written by Igor Sysoev and distributed under the 2-clause BSD License. Enterprise distributions, commercial support and training are available from F5, Inc. Nginx l√† m·ªôt web server, ph·∫ßn m·ªÅm ch·∫°y tr√™n m√°y ch·ªß ƒë·ªÉ nh·∫≠n v√† x·ª≠ l√Ω c√°c request (y√™u c·∫ßu) t·ª´ tr√¨nh duy·ªát ho·∫∑c client (nh∆∞ API request). Ban ƒë·∫ßu, Nginx ƒë∆∞·ª£c t·∫°o ra ƒë·ªÉ x·ª≠ l√Ω nhi·ªÅu k·∫øt n·ªëi c√πng l√∫c v·ªõi hi·ªáu nƒÉng cao, v√† ng√†y nay n√≥ c√≤n ƒë∆∞·ª£c d√πng nh∆∞:\n‚Ä¢\tWeb Server (m√°y ch·ªß web)\n‚Ä¢\tReverse Proxy (proxy ng∆∞·ª£c)\n‚Ä¢\tLoad Balancer (c√¢n b·∫±ng t·∫£i)\n‚Ä¢\tCache server (b·ªô nh·ªõ ƒë·ªám)\n‚Ä¢\tAPI Gateway (·ªü m·ª©c c∆° b·∫£n)",{"id":392,"title":393,"titles":394,"content":395,"level":355},"/blog/basic-nginx#c√†i-ƒë·∫∑t-nginx","C√†i ƒë·∫∑t Nginx",[],"H∆∞·ªõng d·∫´n c√†i ƒë·∫∑t Nginx tr√™n Ubuntu: Sau khi c√†i ƒë·∫∑t, b·∫°n c√≥ th·ªÉ ki·ªÉm tra tr·∫°ng th√°i Nginx: Ki·ªÉm tra t∆∞·ªùng l·ª≠a:\nƒê·ªÉ ki·ªÉm tra c√°c c·∫•u h√¨nh ƒëang ƒë∆∞·ª£c ch·∫°y th√¨ ch·∫°y l·ªánh K·∫øt qu·∫£ hi·ªán ra ·ªü terminal s·∫Ω d·∫°ng nh∆∞ sau: Sau khi c√†i ƒë·∫∑t Nginx, b·∫°n n√™n ƒë·∫£m b·∫£o r·∫±ng t∆∞·ªùng l·ª≠a (firewall) cho ph√©p l∆∞u l∆∞·ª£ng HTTP v√† HTTPS ƒë·ªÉ m√°y ch·ªß c√≥ th·ªÉ ph·ª•c v·ª• n·ªôi dung web. L·ªánh sudo ufw allow 'Nginx Full' s·∫Ω m·ªü c·∫£ hai c·ªïng 80 (HTTP) v√† 443 (HTTPS).\nSau ƒë√≥, d√πng sudo ufw status ƒë·ªÉ x√°c nh·∫≠n r·∫±ng c√°c c·ªïng n√†y ƒë√£ ƒë∆∞·ª£c m·ªü. N·∫øu b·∫°n ch∆∞a b·∫≠t ufw (Uncomplicated Firewall), b·∫°n c√≥ th·ªÉ b·∫≠t b·∫±ng l·ªánh sudo ufw enable. Tuy nhi√™n, h√£y ƒë·∫£m b·∫£o c·∫•u h√¨nh ch√≠nh x√°c ƒë·ªÉ kh√¥ng b·ªã kh√≥a SSH. Ki·ªÉm tra ho·∫°t ƒë·ªông c·ªßa Nginx: M·ªü tr√¨nh duy·ªát v√† truy c·∫≠p ƒë·ªãa ch·ªâ:\nüëâ http://\u003Cƒë·ªãa_ch·ªâ_IP_c·ªßa_b·∫°n> ho·∫∑c http://localhost n·∫øu ki·ªÉm tra c·ª•c b·ªô. B·∫°n s·∫Ω th·∫•y trang m·∫∑c ƒë·ªãnh ‚ÄúWelcome to nginx!‚Äù n·∫øu m·ªçi th·ª© ho·∫°t ƒë·ªông ƒë√∫ng c√°ch.",{"id":397,"title":398,"titles":399,"content":400,"level":355},"/blog/basic-nginx#Ô∏è-c·∫•u-h√¨nh-default-host-trong-nginx","‚öôÔ∏è C·∫•u h√¨nh Default Host trong Nginx",[],"Tr√™n Ubuntu, file c·∫•u h√¨nh c·ªßa Nginx th∆∞·ªùng ƒë∆∞·ª£c l∆∞u t·∫°i c√°c v·ªã tr√≠ sau: /etc/nginx/sites-available/default (N·∫øu s·ª≠ d·ª•ng th∆∞ m·ª•c sites-available v√† sites-enabled)./etc/nginx/conf.d/default.conf (Th√¥ng d·ª•ng cho c√°c c·∫•u h√¨nh ƒë∆°n gi·∫£n). M·∫∑c ƒë·ªãnh, khi c√†i ƒë·∫∑t Nginx, s·∫Ω c√≥ m·ªôt file c·∫•u h√¨nh default trong th∆∞ m·ª•c /etc/nginx/sites-available/ v·ªõi m·ªôt s·ªë c·∫•u h√¨nh c∆° b·∫£n. B·∫°n c√≥ th·ªÉ s·ª≠a file n√†y ƒë·ªÉ c·∫•u h√¨nh server block cho website c·ªßa m√¨nh. C·∫•u h√¨nh Default Host M·ªü file c·∫•u h√¨nh Nginx m·∫∑c ƒë·ªãnh: M·∫∑c ƒë·ªãnh, Nginx s·∫Ω ch·ªçn block ƒë·∫ßu ti√™n khi kh√¥ng t√¨m th·∫•y server_name t∆∞∆°ng ·ª©ng. ƒê·ªÉ c·∫•u h√¨nh r√µ r√†ng host m·∫∑c ƒë·ªãnh, b·∫°n th√™m default_server v√†o d√≤ng listen: Ghi ch√∫: listen 80 default_server;: C·∫•u h√¨nh Nginx l·∫Øng nghe c·ªïng 80 (HTTP) v√† ƒë√°nh d·∫•u ƒë√¢y l√† default_server (server m·∫∑c ƒë·ªãnh cho c√°c y√™u c·∫ßu kh√¥ng kh·ªõp v·ªõi server block kh√°c).root /var/www/html;: ƒê∆∞·ªùng d·∫´n t·ªõi th∆∞ m·ª•c ch·ª©a c√°c t·ªáp tin c·ªßa website. B·∫°n c√≥ th·ªÉ thay ƒë·ªïi ƒë∆∞·ªùng d·∫´n n√†y th√†nh th∆∞ m·ª•c c·ªßa website b·∫°n mu·ªën ph·ª•c v·ª•.server_name _;: Ch·ªâ th·ªã n√†y cho ph√©p server ch·∫•p nh·∫≠n t·∫•t c·∫£ c√°c y√™u c·∫ßu kh√¥ng kh·ªõp v·ªõi server block kh√°c. N·∫øu b·∫°n c√≥ t√™n mi·ªÅn c·ª• th·ªÉ, h√£y thay th·∫ø d·∫•u g·∫°ch d∆∞·ªõi (_) b·∫±ng t√™n mi·ªÅn c·ªßa b·∫°n.location /: ƒê√¢y l√† ph·∫ßn c·∫•u h√¨nh ƒë·ªãnh tuy·∫øn cho c√°c y√™u c·∫ßu ƒë·∫øn. C·∫•u h√¨nh n√†y gi√∫p Nginx t√¨m ki·∫øm c√°c t·ªáp tin khi ng∆∞·ªùi d√πng truy c·∫≠p v√†o website.try_files $uri $uri/ =404;: N·∫øu y√™u c·∫ßu kh√¥ng tr√πng kh·ªõp v·ªõi t·ªáp tin ho·∫∑c th∆∞ m·ª•c, s·∫Ω tr·∫£ v·ªÅ l·ªói 404. Sau khi ch·ªânh s·ª≠a xong, b·∫°n c·∫ßn ki·ªÉm tra xem c·∫•u h√¨nh c√≥ ch√≠nh x√°c kh√¥ng: N·∫øu kh√¥ng c√≥ l·ªói n√†o, b·∫°n c√≥ th·ªÉ kh·ªüi ƒë·ªông l·∫°i Nginx ƒë·ªÉ √°p d·ª•ng c·∫•u h√¨nh m·ªõi: Gi·ªõi thi·ªáu v·ªÅ sites-available v√† sites-enabled Trong Nginx, th∆∞ m·ª•c sites-available v√† sites-enabled l√† m·ªôt c∆° ch·∫ø ƒë·ªÉ qu·∫£n l√Ω c√°c website (virtual hosts) m√† Nginx c√≥ th·ªÉ ph·ª•c v·ª•. C·∫•u tr√∫c n√†y gi√∫p d·ªÖ d√†ng b·∫≠t/t·∫Øt c√°c website m√† kh√¥ng c·∫ßn ph·∫£i x√≥a ho·∫∑c thay ƒë·ªïi c·∫•u h√¨nh tr·ª±c ti·∫øp. sites-available: ƒê√¢y l√† n∆°i b·∫°n t·∫°o v√† l∆∞u tr·ªØ t·∫•t c·∫£ c√°c file c·∫•u h√¨nh c·ªßa c√°c website ho·∫∑c ·ª©ng d·ª•ng m√† b·∫°n mu·ªën Nginx ph·ª•c v·ª•.M·ªói file c·∫•u h√¨nh trong sites-available ƒë·∫°i di·ªán cho m·ªôt website ho·∫∑c ·ª©ng d·ª•ng ri√™ng bi·ªát.V√≠ d·ª•: /etc/nginx/sites-available/example.com l√† c·∫•u h√¨nh cho website example.com. sites-enabled: ƒê√¢y l√† n∆°i ch·ª©a c√°c li√™n k·∫øt t∆∞·ª£ng tr∆∞ng (symlink) ƒë·∫øn c√°c file c·∫•u h√¨nh trong sites-available m√† b·∫°n mu·ªën Nginx th·ª±c thi.C√°c li√™n k·∫øt n√†y cho ph√©p Nginx bi·∫øt ƒë∆∞·ª£c website n√†o s·∫Ω ƒë∆∞·ª£c k√≠ch ho·∫°t.B·∫°n kh√¥ng n√™n tr·ª±c ti·∫øp ch·ªânh s·ª≠a c√°c file trong sites-enabled. Thay v√†o ƒë√≥, b·∫°n t·∫°o symlink t·ª´ sites-available. C√°ch th·ª©c ho·∫°t ƒë·ªông: Khi b·∫°n t·∫°o m·ªôt file c·∫•u h√¨nh trong sites-available, b·∫°n c√≥ th·ªÉ k√≠ch ho·∫°t n√≥ b·∫±ng c√°ch t·∫°o m·ªôt symlink ƒë·∫øn file ƒë√≥ trong th∆∞ m·ª•c sites-enabled.ƒê·ªÉ t·∫°o symlink, s·ª≠ d·ª•ng l·ªánh ln -s. V√≠ d·ª•, n·∫øu b·∫°n c√≥ c·∫•u h√¨nh example.com trong sites-available, b·∫°n c√≥ th·ªÉ t·∫°o symlink v√†o sites-enabled nh∆∞ sau:",{"id":402,"title":403,"titles":404,"content":405,"level":355},"/blog/basic-nginx#c·∫•u-h√¨nh-deploy-page-tƒ©nh","C·∫•u h√¨nh Deploy page tƒ©nh",[],"ƒê·ªÉ ph·ª•c v·ª• m·ªôt trang web tƒ©nh v·ªõi Nginx, b·∫°n c·∫ßn c·∫•u h√¨nh server block ƒë·ªÉ tr·ªè ƒë·∫øn th∆∞ m·ª•c ch·ª©a c√°c t·ªáp HTML, CSS, JavaScript v√† c√°c t√†i nguy√™n kh√°c c·ªßa trang web. Trong ƒë√≥: root /var/www/my_static_site;: ƒê∆∞·ªùng d·∫´n t·ªõi th∆∞ m·ª•c ch·ª©a c√°c t·ªáp tin c·ªßa trang web tƒ©nh. H√£y thay ƒë·ªïi ƒë∆∞·ªùng d·∫´n n√†y th√†nh th∆∞ m·ª•c th·ª±c t·∫ø c·ªßa b·∫°n.index index.html index.htm;: X√°c ƒë·ªãnh c√°c t·ªáp tin m·∫∑c ƒë·ªãnh khi truy c·∫≠p v√†o th∆∞ m·ª•c g·ªëc.",{"id":407,"title":408,"titles":409,"content":410,"level":355},"/blog/basic-nginx#c·∫•u-h√¨nh-revert-proxy","C·∫•u h√¨nh revert proxy",[],"ƒê·ªÉ c·∫•u h√¨nh Nginx l√†m reverse proxy, b·∫°n c·∫ßn thi·∫øt l·∫≠p m·ªôt server block ƒë·ªÉ chuy·ªÉn ti·∫øp c√°c y√™u c·∫ßu t·ª´ Nginx ƒë·∫øn m·ªôt server backend kh√°c (v√≠ d·ª•: m·ªôt ·ª©ng d·ª•ng web ch·∫°y tr√™n c·ªïng kh√°c ho·∫∑c tr√™n m·ªôt m√°y ch·ªß kh√°c).",{"id":412,"title":413,"titles":414,"content":415,"level":355},"/blog/basic-nginx#load-balancer-trong-nginx","Load Balancer trong Nginx",[],"Nginx h·ªó tr·ª£ c·∫•u h√¨nh c√¢n b·∫±ng t·∫£i v·ªõi nhi·ªÅu thu·∫≠t to√°n l·ª±a ch·ªçn backend: round-robin: M·∫∑c ƒë·ªãnh, ph√¢n ph·ªëi ƒë·ªÅu cho c√°c request.least_conn: Ch·ªçn server √≠t k·∫øt n·ªëi nh·∫•t.ip_hash: Duy tr√¨ session cho client.least_time: ch·ªçn server c√≥ th·ªùi gian ph·∫£n h·ªìi √≠t nh·∫•t C√≥ th·ªÉ th√™m tr·ªçng s·ªë cho server b·∫±ng c√°ch th√™m s·ªë sau ip:port Ex: server 192.168.1.0:8000 weight=3; C·∫•u h√¨nh server block proxy ƒë·∫øn upstream:",{"id":417,"title":418,"titles":419,"content":420,"level":355},"/blog/basic-nginx#gzip-compression","Gzip Compression",[],"B·∫≠t gzip gi√∫p tƒÉng t·ªëc ƒë·ªô t·∫£i trang b·∫±ng c√°ch n√©n n·ªôi dung tr·∫£ v·ªÅ:",{"id":422,"title":423,"titles":424,"content":425,"level":355},"/blog/basic-nginx#k√≠ch-ho·∫°t-http2","K√≠ch ho·∫°t HTTP/2",[],"HTTP/2 c·∫£i thi·ªán hi·ªáu su·∫•t th√¥ng qua multiplexing v√† header compression:",{"id":427,"title":428,"titles":429,"content":430,"level":355},"/blog/basic-nginx#rate-limiting","Rate Limiting",[],"Gi·ªõi h·∫°n s·ªë l∆∞·ª£ng request ƒë·ªÉ tr√°nh DDoS v√† abuse:",{"id":432,"title":433,"titles":434,"content":435,"level":355},"/blog/basic-nginx#redirect-v√†-rewrites","Redirect v√† Rewrites",[],"Chuy·ªÉn h∆∞·ªõng to√†n b·ªô traffic HTTP sang HTTPS: Vi·∫øt l·∫°i URL cho SPA:",{"id":437,"title":438,"titles":439,"content":440,"level":355},"/blog/basic-nginx#hardening-security","Hardening & Security",[],"B·∫£o v·ªá server b·∫±ng c√°ch t·ª´ ch·ªëi truy c·∫≠p file nh·∫°y c·∫£m: ·∫®n th√¥ng tin server: Ch·ªëng clickjacking v√† XSS:",{"id":442,"title":443,"titles":444,"content":445,"level":355},"/blog/basic-nginx#logging-n√¢ng-cao","Logging n√¢ng cao",[],"C·∫•u h√¨nh custom log format ƒë·ªÉ d·ªÖ debug:",{"id":447,"title":383,"titles":448,"content":449,"level":355},"/blog/basic-nginx#t√†i-li·ªáu-tham-kh·∫£o",[],"Nginx DocumentationNginx Load Balancing GuideNginx + PHP-FPM SetupOWASP Nginx Hardening Guide T√≥m l·∫°i: Nginx l√† c√¥ng c·ª• c·ª±c k·ª≥ m·∫°nh m·∫Ω v√† linh ho·∫°t, kh√¥ng ch·ªâ gi·ªõi h·∫°n ·ªü web server m√† c√≤n l√† reverse proxy, caching layer, v√† load balancer. Vi·ªác n·∫Øm v·ªØng v√† khai th√°c t·ªët c√°c t√≠nh nƒÉng s·∫Ω gi√∫p h·ªá th·ªëng c·ªßa b·∫°n hi·ªáu su·∫•t cao, b·∫£o m·∫≠t v√† d·ªÖ m·ªü r·ªông.",{"id":451,"title":452,"titles":453,"content":454,"level":355},"/blog/basic-redis","C∆° B·∫£n V·ªÅ Redis v√† T√≠ch H·ª£p V·ªõi Node.js",[],"T√¨m hi·ªÉu c√°c kh√°i ni·ªám c∆° b·∫£n v·ªÅ Redis bao g·ªìm c√°c ki·ªÉu d·ªØ li·ªáu v√† ph∆∞∆°ng th·ª©c, c≈©ng nh∆∞ c√°ch t√≠ch h·ª£p Redis v√†o ·ª©ng d·ª•ng Node.js ƒë·ªÉ s·ª≠ d·ª•ng b·ªô nh·ªõ ƒë·ªám v√† c√°c t√≠nh nƒÉng th·ªùi gian th·ª±c. C∆° B·∫£n V·ªÅ Redis v√† T√≠ch H·ª£p V·ªõi Node.js Redis l√† m·ªôt kho d·ªØ li·ªáu key-value trong b·ªô nh·ªõ, m√£ ngu·ªìn m·ªü, n·ªïi ti·∫øng v·ªõi hi·ªáu su·∫•t v√† t√≠nh linh ho·∫°t. Redis h·ªó tr·ª£ nhi·ªÅu ki·ªÉu d·ªØ li·ªáu, ph√π h·ª£p cho vi·ªác s·ª≠ d·ª•ng b·ªô nh·ªõ ƒë·ªám, ·ª©ng d·ª•ng th·ªùi gian th·ª±c, h·ªá th·ªëng pub/sub, v√† nhi·ªÅu h∆°n n·ªØa. Trong h∆∞·ªõng d·∫´n n√†y, ch√∫ng ta s·∫Ω t√¨m hi·ªÉu: C√°c ki·ªÉu d·ªØ li·ªáu trong RedisC√°c l·ªánh ph·ªï bi·∫øn c·ªßa RedisC√°ch t√≠ch h·ª£p Redis v√†o d·ª± √°n Node.js",{"id":456,"title":457,"titles":458,"content":459,"level":355},"/blog/basic-redis#c√°c-ki·ªÉu-d·ªØ-li·ªáu-l·ªánh-redis","üì¶ C√°c Ki·ªÉu D·ªØ Li·ªáu & L·ªánh Redis",[],"Redis h·ªó tr·ª£ nhi·ªÅu c·∫•u tr√∫c d·ªØ li·ªáu kh√°c nhau:",{"id":461,"title":462,"titles":463,"content":464,"level":334},"/blog/basic-redis#_1-chu·ªói-strings","1. Chu·ªói (Strings)",[457],"Chu·ªói l√† ki·ªÉu d·ªØ li·ªáu c∆° b·∫£n nh·∫•t trong Redis. B·∫°n c√≥ th·ªÉ l∆∞u tr·ªØ b·∫•t k·ª≥ gi√° tr·ªã n√†o d∆∞·ªõi d·∫°ng chu·ªói, bao g·ªìm c·∫£ s·ªë nguy√™n v√† JSON ƒë∆∞·ª£c tu·∫ßn t·ª± h√≥a.",{"id":466,"title":467,"titles":468,"content":469,"level":334},"/blog/basic-redis#_2-danh-s√°ch-lists","2. Danh s√°ch (Lists)",[457],"Danh s√°ch l√† c√°c t·∫≠p h·ª£p c√≥ th·ª© t·ª± c·ªßa chu·ªói. B·∫°n c√≥ th·ªÉ th√™m ph·∫ßn t·ª≠ v√†o ƒë·∫ßu ho·∫∑c cu·ªëi danh s√°ch.",{"id":471,"title":472,"titles":473,"content":474,"level":334},"/blog/basic-redis#_3-t·∫≠p-h·ª£p-sets","3. T·∫≠p h·ª£p (Sets)",[457],"T·∫≠p h·ª£p l√† c√°c t·∫≠p h·ª£p kh√¥ng c√≥ th·ª© t·ª± c·ªßa c√°c chu·ªói duy nh·∫•t. Ch√∫ng h·ªó tr·ª£ c√°c ph√©p to√°n nh∆∞ h·ª£p, giao, v√† hi·ªáu.",{"id":476,"title":477,"titles":478,"content":479,"level":334},"/blog/basic-redis#_4-bƒÉm-hashes","4. BƒÉm (Hashes)",[457],"BƒÉm l√† c√°c b·∫£n ƒë·ªì gi·ªØa tr∆∞·ªùng chu·ªói v√† gi√° tr·ªã chu·ªói, r·∫•t l√Ω t∆∞·ªüng ƒë·ªÉ bi·ªÉu di·ªÖn c√°c ƒë·ªëi t∆∞·ª£ng.",{"id":481,"title":482,"titles":483,"content":484,"level":334},"/blog/basic-redis#_5-t·∫≠p-h·ª£p-c√≥-th·ª©-t·ª±-sorted-sets","5. T·∫≠p h·ª£p c√≥ th·ª© t·ª± (Sorted Sets)",[457],"T·∫≠p h·ª£p c√≥ th·ª© t·ª± t∆∞∆°ng t·ª± nh∆∞ t·∫≠p h·ª£p nh∆∞ng c√≥ m·ªôt ƒëi·ªÉm s·ªë li√™n k·∫øt v·ªõi m·ªói ph·∫ßn t·ª≠, cho ph√©p truy xu·∫•t theo th·ª© t·ª±.",{"id":486,"title":487,"titles":488,"content":489,"level":334},"/blog/basic-redis#_6-bitmaps-hyperloglogs-streams","6. Bitmaps, HyperLogLogs, Streams",[457],"ƒê√¢y l√† c√°c c·∫•u tr√∫c n√¢ng cao h∆°n:\nBitmaps ƒë∆∞·ª£c s·ª≠ d·ª•ng cho c√°c thao t√°c c·∫•p bit, cho ph√©p b·∫°n thao t√°c c√°c bit ri√™ng l·∫ª trong m·ªôt chu·ªói. HyperLogLogs ƒë∆∞·ª£c s·ª≠ d·ª•ng ƒë·ªÉ ∆∞·ªõc t√≠nh s·ªë l∆∞·ª£ng ph·∫ßn t·ª≠ duy nh·∫•t trong m·ªôt t·∫≠p h·ª£p, r·∫•t h·ªØu √≠ch cho c√°c tr∆∞·ªùng h·ª£p nh∆∞ theo d√µi s·ªë l∆∞·ª£ng kh√°ch truy c·∫≠p duy nh·∫•t. Streams ƒë∆∞·ª£c thi·∫øt k·∫ø cho c√°c ƒë∆∞·ªùng d·∫´n d·ªØ li·ªáu th·ªùi gian th·ª±c v√† ngu·ªìn s·ª± ki·ªán, cho ph√©p b·∫°n th√™m v√† truy v·∫•n d·ªØ li·ªáu theo chu·ªói th·ªùi gian.",{"id":491,"title":492,"titles":493,"content":494,"level":355},"/blog/basic-redis#t√≠ch-h·ª£p-redis-v·ªõi-nodejs","üîß T√≠ch H·ª£p Redis V·ªõi Node.js",[],"B·∫°n c√≥ th·ªÉ s·ª≠ d·ª•ng th∆∞ vi·ªán ioredis ho·∫∑c redis client ph·ªï bi·∫øn. D∆∞·ªõi ƒë√¢y l√† m·ªôt v√≠ d·ª• v·ªõi ioredis.",{"id":496,"title":497,"titles":498,"content":499,"level":334},"/blog/basic-redis#_1-c√†i-ƒë·∫∑t-redis-v√†-ioredis","1. C√†i ƒê·∫∑t Redis v√† ioredis",[492],"ƒê·∫£m b·∫£o r·∫±ng b·∫°n ƒë√£ c√†i ƒë·∫∑t v√† ch·∫°y Redis. B·∫°n c√≥ th·ªÉ s·ª≠ d·ª•ng Docker ƒë·ªÉ ch·∫°y Redis m·ªôt c√°ch d·ªÖ d√†ng:",{"id":501,"title":502,"titles":503,"content":504,"level":334},"/blog/basic-redis#_2-thi·∫øt-l·∫≠p-c∆°-b·∫£n","2. Thi·∫øt L·∫≠p C∆° B·∫£n",[492],"T·∫°o m·ªôt t·ªáp c√≥ t√™n redis.js v√† th√™m ƒëo·∫°n m√£ sau:",{"id":506,"title":507,"titles":508,"content":509,"level":334},"/blog/basic-redis#_3-s·ª≠-d·ª•ng-redis-trong-·ª©ng-d·ª•ng","3. S·ª≠ D·ª•ng Redis Trong ·ª®ng D·ª•ng",[492],"B√¢y gi·ªù b·∫°n c√≥ th·ªÉ s·ª≠ d·ª•ng Redis trong ·ª©ng d·ª•ng c·ªßa m√¨nh. D∆∞·ªõi ƒë√¢y l√† m·ªôt v√≠ d·ª• v·ªÅ vi·ªác thi·∫øt l·∫≠p v√† l·∫•y gi√° tr·ªã:",{"id":511,"title":512,"titles":513,"content":514,"level":334},"/blog/basic-redis#_4-v√≠-d·ª•-v·ªÅ-b·ªô-nh·ªõ-ƒë·ªám","4. V√≠ D·ª• V·ªÅ B·ªô Nh·ªõ ƒê·ªám",[492],"B·∫°n c√≥ th·ªÉ s·ª≠ d·ª•ng Redis l√†m b·ªô nh·ªõ ƒë·ªám ƒë·ªÉ l∆∞u tr·ªØ d·ªØ li·ªáu ƒë∆∞·ª£c truy c·∫≠p th∆∞·ªùng xuy√™n. D∆∞·ªõi ƒë√¢y l√† m·ªôt v√≠ d·ª• v·ªÅ vi·ªác l∆∞u tr·ªØ k·∫øt qu·∫£ truy v·∫•n c∆° s·ªü d·ªØ li·ªáu v√†o b·ªô nh·ªõ ƒë·ªám:",{"id":516,"title":517,"titles":518,"content":519,"level":334},"/blog/basic-redis#_5-k·∫øt-lu·∫≠n","5. K·∫øt Lu·∫≠n",[492],"Redis l√† m·ªôt c√¥ng c·ª• m·∫°nh m·∫Ω cho b·ªô nh·ªõ ƒë·ªám v√† c√°c ·ª©ng d·ª•ng th·ªùi gian th·ª±c. B·∫±ng c√°ch t√≠ch h·ª£p Redis v√†o c√°c d·ª± √°n Node.js, b·∫°n c√≥ th·ªÉ c·∫£i thi·ªán ƒë√°ng k·ªÉ hi·ªáu su·∫•t v√† kh·∫£ nƒÉng m·ªü r·ªông. H∆∞·ªõng d·∫´n n√†y ƒë√£ bao qu√°t c√°c kh√°i ni·ªám c∆° b·∫£n v·ªÅ ki·ªÉu d·ªØ li·ªáu, l·ªánh, v√† c√°ch s·ª≠ d·ª•ng Redis trong ·ª©ng d·ª•ng Node.js.\nH√£y kh√°m ph√° th√™m c√°c t√≠nh nƒÉng n√¢ng cao nh∆∞ giao d·ªãch, scripting Lua, v√† clustering khi b·∫°n ƒë√£ quen thu·ªôc h∆°n v·ªõi Redis.\nRedis l√† m·ªôt c√¥ng c·ª• ƒëa nƒÉng c√≥ th·ªÉ n√¢ng cao ƒë√°ng k·ªÉ ·ª©ng d·ª•ng c·ªßa b·∫°n. Happy Coding",{"id":521,"title":522,"titles":523,"content":524,"level":334},"/blog/basic-redis#_6-t√†i-nguy√™n-tham-kh·∫£o","6. T√†i Nguy√™n Tham Kh·∫£o",[492],"T√†i li·ªáu RedisT√†i li·ªáu ioredis",{"id":526,"title":527,"titles":528,"content":529,"level":355},"/blog/common-docker-file","C√°c Dockerfile Ph·ªï Bi·∫øn Cho Nhi·ªÅu D·ª± √Ån Kh√°c Nhau",[],"T√¨m hi·ªÉu v·ªÅ Docker v√† kh√°m ph√° c√°c Dockerfile ph·ªï bi·∫øn cho nhi·ªÅu d·ª± √°n nh∆∞ Node.js, PHP v·ªõi Laravel, React, Vue, Nuxt v√† Next.js. Kh√°m ph√° c√°c k·ªπ thu·∫≠t t·ªëi ∆∞u v√† th·ª±c h√†nh t·ªët nh·∫•t. C√°c Dockerfile Ph·ªï Bi·∫øn Cho Nhi·ªÅu D·ª± √Ån Kh√°c Nhau Docker l√† m·ªôt c√¥ng c·ª• ·∫£o h√≥a nh·∫π gi√∫p ph√°t tri·ªÉn, tri·ªÉn khai v√† ch·∫°y ·ª©ng d·ª•ng trong c√°c container. N√≥ cho ph√©p b·∫°n ƒë√≥ng g√≥i ·ª©ng d·ª•ng v√† t·∫•t c·∫£ c√°c ph·ª• thu·ªôc c·ªßa n√≥ v√†o m·ªôt container duy nh·∫•t, gi√∫p d·ªÖ d√†ng tri·ªÉn khai tr√™n b·∫•t k·ª≥ m√¥i tr∆∞·ªùng n√†o m√† kh√¥ng c·∫ßn lo l·∫Øng v·ªÅ s·ª± kh√°c bi·ªát gi·ªØa c√°c m√¥i tr∆∞·ªùng. ƒê√¢y l√† m·ªôt s·ªë Dockerfile cho c√°c d·ª± √°n th∆∞·ªùng g·∫∑p, b·∫°n c√≥ th·ªÉ tham kh·∫£o v√† ƒëi·ªÅu ch·ªânh theo nhu c·∫ßu c·ªßa m√¨nh. N·ªôi dung b√†i vi·∫øt ƒë∆∞·ª£c t·ªïng h·ª£p v√† t√≠ch g√≥p t·ª´ nhi·ªÅu ngu·ªìn kh√°c nhau, bao g·ªìm c·∫£ c√°c d·ª± √°n th·ª±c t·∫ø m√† m√¨nh ƒë√£ l√†m.",{"id":531,"title":532,"titles":533,"content":534,"level":334},"/blog/common-docker-file#dockerfile-cho-nodejs","Dockerfile cho Node.js",[527],"Dockerfile cho Node.js r·∫•t quan tr·ªçng khi tri·ªÉn khai ·ª©ng d·ª•ng JavaScript ph√≠a server. ƒê√¢y l√† m·ªôt Dockerfile ƒë√£ ƒë∆∞·ª£c t·ªëi ∆∞u cho m·ªôt d·ª± √°n Node.js ƒëi·ªÉn h√¨nh: C√°ch 2, s·ª≠ d·ª•ng pm2. V·ªÅ c∆° b·∫£n th√¨ c√°ch n√†y nh·∫π h∆°n kha kh√° so v·ªõi npm",{"id":536,"title":537,"titles":538,"content":539,"level":334},"/blog/common-docker-file#dockerfile-reactjs","Dockerfile ReactJs",[527],"C√≥ th·ªÉ s·ª≠ d·ª•ng Dockerfile n√†y cho c√°c d·ª± √°n nh∆∞ Vue, Angular,... L∆∞u √Ω: ·ªü ƒë√¢y th∆∞ m·ª•c ch·ª©a nginx/nginx.conf ƒë·∫∑t c√πng c·∫•p v·ªõi Dockerfile",{"id":541,"title":542,"titles":543,"content":544,"level":334},"/blog/common-docker-file#dockerfile-cho-php-v·ªõi-laravel","Dockerfile cho PHP v·ªõi Laravel",[527],"L∆∞u √Ω: th∆∞ m·ª•c conf/nginx.conf v√† conf/supervisord.conf c√πng c·∫•p v·ªõi Dockerfile",{"id":546,"title":547,"titles":548,"content":333,"level":334},"/blog/common-docker-file#dockerfile-cho-nextjs","Dockerfile cho NextJs",[527],{"id":550,"title":551,"titles":552,"content":553,"level":334},"/blog/common-docker-file#tham-kh·∫£o","Tham kh·∫£o",[527],"M·ªôt s·ªë Dockerfile ƒë∆∞·ª£c tham kh·∫£o t·ª´ Devops Edu",{"id":343,"title":5,"titles":555,"content":337,"level":355},[],{"id":557,"title":13,"titles":558,"content":559,"level":355},"/blog/jwt#_1-gi·ªõi-thi·ªáu-v·ªÅ-jwt",[],"JSON Web Token (JWT) l√† m·ªôt ti√™u chu·∫©n m·ªü ( RFC 7519 ) ƒë·ªãnh nghƒ©a m·ªôt c√°ch th·ª©c nh·ªè g·ªçn v√† ƒë·ªôc l·∫≠p ƒë·ªÉ truy·ªÅn th√¥ng tin an to√†n gi·ªØa c√°c b√™n d∆∞·ªõi d·∫°ng ƒë·ªëi t∆∞·ª£ng JSON. Th√¥ng tin n√†y c√≥ th·ªÉ ƒë∆∞·ª£c x√°c minh v√† tin c·∫≠y v√¨ n√≥ ƒë∆∞·ª£c k√Ω k·ªπ thu·∫≠t s·ªë. JWT c√≥ th·ªÉ ƒë∆∞·ª£c k√Ω b·∫±ng m·ªôt b√≠ m·∫≠t (v·ªõi thu·∫≠t to√°n HMAC ) ho·∫∑c m·ªôt c·∫∑p kh√≥a c√¥ng khai/ri√™ng t∆∞ b·∫±ng RSA ho·∫∑c ECDSA . Tr√≠ch t·ª´: https://jwt.io/introduction",{"id":561,"title":33,"titles":562,"content":563,"level":355},"/blog/jwt#_2-c√°c-th√†nh-ph·∫ßn-c·ªßa-jwt",[],"JWT bao g·ªìm ba th√†nh ph·∫ßn ch√≠nh: Header, Payload v√† Signature. M·ªói ph·∫ßn ƒë·ªÅu ƒë∆∞·ª£c m√£ h√≥a b·∫±ng Base64Url v√† ƒë∆∞·ª£c ph√¢n t√°ch b·∫±ng d·∫•u ch·∫•m (.).\nM·ªôt JWT token th∆∞·ªùng s·∫Ω tr√¥ng nh∆∞ sau: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c nh∆∞ v·∫≠y v·ªõi JWT token ·ªü tr√™n th√¨ c√°c th√†nh ph·∫ßn sau khi ƒë∆∞·ª£c m√£ h√≥a s·∫Ω l√†: Header: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9Payload: eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQSignature: SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c Chi ti·∫øt v·ªÅ c√°c th√†nh ph·∫ßn Header: Th∆∞·ªùng s·∫Ω ch·ª©a th√¥ng tin v·ªÅ thu·∫≠t to√°n m√£ h√≥a v√† lo·∫°i token. V√≠ d·ª•: Payload: ƒê√¢y l√† ph·∫ßn s·∫Ω ch·ª©a c√°c th√¥ng tin m√† ch√∫ng ta mu·ªën m√£ h√≥a v√† truy·ªÅn t·∫£i. Th∆∞·ªùng th√¨ ch√∫ng ta s·∫Ω l∆∞u th√¥ng tin ng∆∞·ªùi d√πng, user_id,... L∆∞u √Ω r·∫±ng JWT token kh√¥ng c√≥ h·∫øt h·∫°n, tuy nhi√™n ch√∫ng ta c√≥ th·ªÉ gi·ªõi h·∫°n th·ªùi gian s·ªëng c·ªßa token b·∫±ng c√°ch th√™m c√°c tr∆∞·ªùng nh∆∞ exp, nbf, iat v√†o payload. V√† khi ch√∫ng ta x√°c th·ª±c token ch√∫ng ta s·∫Ω c·∫ßn th√™m m·ªôt b∆∞·ªõc ki·ªÉm tra th·ªùi gian s·ªëng c·ªßa token. Nh∆∞ v·∫≠y ch√∫ng ta c√≥ th·ªÉ s·ª≠ d·ª•ng JWT token nh∆∞ m·ªôt session token. V√≠ d·ª• v·ªÅ payload: Signature: ƒê∆∞·ª£c t·∫°o b·∫±ng c√°ch m√£ h√≥a Header v√† Payload v·ªõi m·ªôt kh√≥a b√≠ m·∫≠t v√† thu·∫≠t to√°n ƒë√£ ch·ªâ ƒë·ªãnh trong Header. ƒêi·ªÅu n√†y gi√∫p ƒë·∫£m b·∫£o r·∫±ng token kh√¥ng b·ªã thay ƒë·ªïi trong qu√° tr√¨nh truy·ªÅn t·∫£i. V√≠ d·ª•:",{"id":565,"title":151,"titles":566,"content":567,"level":355},"/blog/jwt#_3-vi·∫øt-l·∫°i-h√†m-ƒë·ªÉ-generate-jwt-token-v√†-verify-jwt-token-trong-nodejs",[],"Khi l√†m vi·ªác v·ªõi jwt v√† nodeJs, h·∫ßu h·∫øt m·ªçi ng∆∞·ªùi s·∫Ω s·ª≠ d·ª•ng th∆∞ vi·ªán jsonwebtoken ƒë·ªÉ t·∫°o v√† x√°c th·ª±c JWT token. Tuy nhi√™n, ƒë·ªÉ hi·ªÉu r√µ h∆°n v·ªÅ c√°ch ho·∫°t ƒë·ªông c·ªßa JWT, ch√∫ng ta c√≥ th·ªÉ t·ª± vi·∫øt h√†m ƒë·ªÉ t·∫°o v√† x√°c th·ª±c JWT token. Gi·∫£ s·ª≠ ch√∫ng ta mu·ªën t·∫°o JWT token t·ª´ th√¥ng tin user_id=123, khi ƒë√≥ ph·∫ßn payload s·∫Ω l√†: ·ªû ph·∫ßn header, ch√∫ng ta s·∫Ω s·ª≠ d·ª•ng thu·∫≠t to√°n HS256 ƒë·ªÉ m√£ h√≥a JWT token. N√™n payload s·∫Ω c√≥ d·∫°ng nh∆∞ sau: ƒê·ªÉ t·∫°o JWT token, ch√∫ng ta c·∫ßn m√£ h√≥a Header v√† Payload b·∫±ng Base64Url. Sau ƒë√≥, ch√∫ng ta s·∫Ω t·∫°o ch·ªØ k√Ω b·∫±ng c√°ch s·ª≠ d·ª•ng thu·∫≠t to√°n HMACSHA256 v·ªõi kh√≥a b√≠ m·∫≠t (secret key) v√† k·∫øt h·ª£p Header v√† Payload. ƒê·∫ßu ti√™n ch√∫ng ta c·∫ßn vi·∫øt 1 h√†m ƒë·ªÉ m√£ h√≥a Base64Url: ·ªû ƒë√¢y, v√¨ ch√∫ng ta s·ª≠ d·ª•ng NodeJs n√™n c√≥ th·ªÉ s·ª≠ d·ª•ng Buffer ƒë·ªÉ m√£ h√≥a Base64Url. N·∫øu b·∫°n ƒëang l√†m vi·ªác v·ªõi JavaScript tr√™n tr√¨nh duy·ªát, b·∫°n c√≥ th·ªÉ s·ª≠ d·ª•ng btoa() ƒë·ªÉ m√£ h√≥a Base64Url. Khi mu·ªën gi·∫£i m√£, b·∫°n c√≥ th·ªÉ s·ª≠ d·ª•ng atob(). H√†m n√†y l√† h√†m c√≥ s·∫µn trong tr√¨nh duy·ªát. Ti·∫øp theo, ch√∫ng ta s·∫Ω tri·ªÉn khai h√†m t·∫°o JWT token. Trong Node.js, ch√∫ng ta c√≥ th·ªÉ d·ªÖ d√†ng th·ª±c hi·ªán ƒëi·ªÅu n√†y b·∫±ng c√°ch d√πng th∆∞ vi·ªán t√≠ch h·ª£p s·∫µn l√† crypto, c·ª• th·ªÉ l√† h√†m createHmac. H√†m n√†y s·∫Ω gi√∫p ch√∫ng ta t·∫°o ra ch·ªØ k√Ω (signature) t·ª´ chu·ªói ƒë√£ m√£ h√≥a g·ªìm Header v√† Payload, k·∫øt h·ª£p v·ªõi secret key ƒë·ªÉ ƒë·∫£m b·∫£o t√≠nh to√†n v·∫πn v√† x√°c th·ª±c c·ªßa token. Full code m√£ h√≥a JWT token s·∫Ω nh∆∞ sau: Nh∆∞ v·∫≠y ch√∫ng ta ƒë√£ c√≥ h√†m createJWT ƒë·ªÉ t·∫°o JWT token. H√†m n√†y s·∫Ω nh·∫≠n v√†o 2 tham s·ªë l√† payload v√† secret. payload l√† th√¥ng tin m√† ch√∫ng ta mu·ªën m√£ h√≥a v√† truy·ªÅn t·∫£i, c√≤n secret l√† kh√≥a b√≠ m·∫≠t m√† ch√∫ng ta s·∫Ω s·ª≠ d·ª•ng ƒë·ªÉ t·∫°o ch·ªØ k√Ω cho token. ƒê·ªëi v·ªõi JWT token, ch√∫ng ta c√≥ th·ªÉ s·ª≠ d·ª•ng b·∫•t k·ª≥ chu·ªói n√†o l√†m kh√≥a b√≠ m·∫≠t. Tuy nhi√™n, ƒë·ªÉ ƒë·∫£m b·∫£o t√≠nh b·∫£o m·∫≠t, ch√∫ng ta n√™n s·ª≠ d·ª•ng m·ªôt chu·ªói ng·∫´u nhi√™n v√† ƒë·ªß d√†i. V√¨ khi s·ª≠ d·ª•ng thu·∫≠t to√°n HMACSHA256, n·∫øu k·∫ª t·∫•n c√¥ng bi·∫øt ƒë∆∞·ª£c kh√≥a b√≠ m·∫≠t, h·ªç c√≥ th·ªÉ t·∫°o ra token gi·∫£ m·∫°o v√† truy c·∫≠p v√†o h·ªá th·ªëng c·ªßa b·∫°n. C√≥ th·ªÉ s·ª≠ d·ª•ng trang web randomkeygen.com ƒë·ªÉ t·∫°o ra m·ªôt chu·ªói ng·∫´u nhi√™n v√† ƒë·ªß d√†i l√†m kh√≥a b√≠ m·∫≠t.",{"id":569,"title":260,"titles":570,"content":571,"level":355},"/blog/jwt#_4-x√°c-th·ª±c-jwt-token",[],"Token JWT g·ªìm ba ph·∫ßn: Header, Payload v√† Signature, ƒë∆∞·ª£c n·ªëi v·ªõi nhau b·∫±ng d·∫•u ch·∫•m (.). Qu√° tr√¨nh x√°c th·ª±c di·ªÖn ra nh∆∞ sau: T√°ch token th√†nh ba ph·∫ßn: Header, Payload v√† Signature.T·∫°o l·∫°i ch·ªØ k√Ω b·∫±ng c√°ch k·∫øt h·ª£p Header v√† Payload ƒë√£ m√£ h√≥a b·∫±ng Base64Url, sau ƒë√≥ s·ª≠ d·ª•ng c√πng thu·∫≠t to√°n v√† kh√≥a b√≠ m·∫≠t (secret key) ƒë√£ ƒë∆∞·ª£c d√πng khi t·∫°o token ban ƒë·∫ßu.So s√°nh ch·ªØ k√Ω m·ªõi t·∫°o v·ªõi ch·ªØ k√Ω ban ƒë·∫ßu trong token:\nN·∫øu hai ch·ªØ k√Ω gi·ªëng nhau, token ƒë∆∞·ª£c x√°c nh·∫≠n l√† h·ª£p l·ªá (kh√¥ng b·ªã ch·ªânh s·ª≠a).N·∫øu kh√°c nhau, token ƒë√£ b·ªã thay ƒë·ªïi ho·∫∑c kh√¥ng h·ª£p l·ªá. Ngo√†i ra, ƒë·ªÉ ki·ªÉm tra xem token c√≥ h·∫øt h·∫°n hay ch∆∞a, b·∫°n c√≥ th·ªÉ th√™m tr∆∞·ªùng exp (expiration) v√†o Payload. Tr∆∞·ªùng n√†y l∆∞u th·ªùi gian h·∫øt h·∫°n d∆∞·ªõi d·∫°ng timestamp (s·ªë gi√¢y k·ªÉ t·ª´ ng√†y 1/1/1970). Khi x√°c th·ª±c, ch·ªâ c·∫ßn so s√°nh gi√° tr·ªã exp v·ªõi th·ªùi gian hi·ªán t·∫°i ƒë·ªÉ bi·∫øt token c√≤n hi·ªáu l·ª±c hay kh√¥ng.",{"id":573,"title":296,"titles":574,"content":575,"level":355},"/blog/jwt#_5-k·∫øt-lu·∫≠n",[],"JWT l√† m·ªôt c√¥ng c·ª• m·∫°nh m·∫Ω ƒë·ªÉ x√°c th·ª±c v√† ph√¢n quy·ªÅn trong c√°c ·ª©ng d·ª•ng web. B·∫±ng c√°ch hi·ªÉu r√µ c√°ch ho·∫°t ƒë·ªông c·ªßa JWT, b·∫°n c√≥ th·ªÉ t·ª± t·∫°o v√† x√°c th·ª±c JWT token m√† kh√¥ng c·∫ßn ph·ª• thu·ªôc v√†o th∆∞ vi·ªán b√™n ngo√†i. Tuy nhi√™n, trong th·ª±c t·∫ø, b·∫°n n√™n s·ª≠ d·ª•ng th∆∞ vi·ªán jsonwebtoken ƒë·ªÉ ti·∫øt ki·ªám th·ªùi gian v√† c√¥ng s·ª©c. Hy v·ªçng b√†i vi·∫øt n√†y ƒë√£ gi√∫p b·∫°n hi·ªÉu r√µ h∆°n v·ªÅ JWT v√† c√°ch s·ª≠ d·ª•ng n√≥ trong ·ª©ng d·ª•ng c·ªßa m√¨nh. N·∫øu b·∫°n c√≥ b·∫•t k·ª≥ c√¢u h·ªèi n√†o, h√£y li√™n h·ªá v·ªõi m√¨nh qua c√°c k√™nh li√™n l·∫°c nh∆∞ email, facebook, zalo ho·∫∑c telegram nh√©!",{"id":577,"title":309,"titles":578,"content":579,"level":355},"/blog/jwt#_6-t√†i-li·ªáu-tham-kh·∫£o",[],"jwt.ioRFC 7519 - JSON Web Token (JWT)jsonwebtoken",{"id":581,"title":582,"titles":583,"content":584,"level":355},"/blog/use-effect-and-use-layout-effect","Ph√¢n bi·ªát useEffect v√† useLayoutEffect trong React",[],"T√¨m hi·ªÉu ƒëi·ªÉm kh√°c nhau gi·ªØa useEffect v√† useLayoutEffect trong React, gi√∫p b·∫°n s·ª≠ d·ª•ng ƒë√∫ng hook trong t·ª´ng t√¨nh hu·ªëng c·ª• th·ªÉ ƒë·ªÉ t·ªëi ∆∞u hi·ªáu nƒÉng v√† tr·∫£i nghi·ªám ng∆∞·ªùi d√πng.",{"id":586,"title":587,"titles":588,"content":589,"level":355},"/blog/use-effect-and-use-layout-effect#useeffect-v√†-uselayouteffect-trong-react","useEffect v√† useLayoutEffect trong React",[],"React cung c·∫•p hai hook m·∫°nh m·∫Ω ƒë·ªÉ x·ª≠ l√Ω hi·ªáu ·ª©ng ph·ª•: useEffect v√† useLayoutEffect. Tuy ch√∫ng c√≥ c√∫ ph√°p gi·ªëng nhau, nh∆∞ng c√°ch ch√∫ng ho·∫°t ƒë·ªông kh√°c bi·ªát v√† ·∫£nh h∆∞·ªüng tr·ª±c ti·∫øp ƒë·∫øn tr·∫£i nghi·ªám ng∆∞·ªùi d√πng c≈©ng nh∆∞ hi·ªáu su·∫•t c·ªßa ·ª©ng d·ª•ng.",{"id":591,"title":592,"titles":593,"content":333,"level":334},"/blog/use-effect-and-use-layout-effect#t√≥m-t·∫Øt-quy-tr√¨nh-th·ª±c-thi","T√≥m t·∫Øt quy tr√¨nh th·ª±c thi",[587],{"id":595,"title":596,"titles":597,"content":598,"level":599},"/blog/use-effect-and-use-layout-effect#useeffect","useEffect",[587,592],"Ch·∫°y sau khi React c·∫≠p nh·∫≠t DOM xong v√† render UI xong.Th√≠ch h·ª£p cho c√°c t√°c v·ª• kh√¥ng ·∫£nh h∆∞·ªüng tr·ª±c ti·∫øp ƒë·∫øn layout, nh∆∞ g·ªçi API, ƒëƒÉng k√Ω s·ª± ki·ªán, log, animation nh·∫π‚Ä¶ Quy tr√¨nh: C·∫≠p nh·∫≠t l·∫°i stateC·∫≠p nh·∫≠t DOM (mutated)React render l·∫°i UIClean up n·∫øu c√≥G·ªçi useEffect callback",3,{"id":601,"title":602,"titles":603,"content":604,"level":599},"/blog/use-effect-and-use-layout-effect#uselayouteffect","useLayoutEffect",[587,592],"Ch·∫°y ngay sau khi DOM ƒë∆∞·ª£c c·∫≠p nh·∫≠t, nh∆∞ng tr∆∞·ªõc khi browser v·∫Ω l·∫°i giao di·ªán (paint).D√πng khi b·∫°n c·∫ßn ƒëo l∆∞·ªùng DOM, thay ƒë·ªïi layout ho·∫∑c ngƒÉn nh·∫•p nh√°y giao di·ªán. Quy tr√¨nh: C·∫≠p nh·∫≠t l·∫°i stateC·∫≠p nh·∫≠t DOM (mutated)Clean up n·∫øu dependencies thay ƒë·ªïiG·ªçi useLayoutEffect callbackReact render l·∫°i UI Khi n√†o d√πng c√°i n√†o? T√¨nh hu·ªëngN√™n d√πngG·ªçi API, thao t√°c kh√¥ng ·∫£nh h∆∞·ªüng layoutuseEffectƒêo k√≠ch th∆∞·ªõc DOM, scroll, positionuseLayoutEffectC·∫≠p nh·∫≠t class, focus v√†o inputuseLayoutEffectHi·ªáu ·ª©ng animation nh·∫π sau renderuseEffectNgƒÉn nh√°y layout (flicker) khi hi·ªÉn th·ªã componentsuseLayoutEffectC·∫≠p nh·∫≠t DOM tr∆∞·ªõc khi browser v·∫Ω l·∫°iuseLayoutEffect",{"id":606,"title":607,"titles":608,"content":609,"level":355},"/blog/useful-npm-package","T·ªïng h·ª£p c√°c npm package h·ªØu √≠ch cho Frontend v√† Backend",[],"Danh s√°ch c√°c npm package h·ªØu √≠ch cho l·∫≠p tr√¨nh Frontend v√† Backend, ƒë∆∞·ª£c t·ªïng h·ª£p t·ª´ kinh nghi·ªám th·ª±c t·∫ø v√† c√°c chia s·∫ª trong c·ªông ƒë·ªìng.",{"id":611,"title":612,"titles":613,"content":614,"level":355},"/blog/useful-npm-package#frontend","Frontend",[],"react-query - React Query Th∆∞ vi·ªán qu·∫£n l√Ω tr·∫°ng th√°i cho React, gi√∫p x·ª≠ l√Ω c√°c y√™u c·∫ßu API v√† cache d·ªØ li·ªáu m·ªôt c√°ch d·ªÖ d√†ng.@progress/kendo-react-pdf - Th∆∞ vi·ªán t·∫°o PDF cho React, hay h∆°n c√°c th∆∞ vi·ªán kh√°c ·ªü ch·ªó h√¨nh ·∫£nh s·∫Ω ƒë∆∞·ª£c xu·∫•t ra d∆∞·ªõi ƒë·ªãnh d·∫°ng SVG, gi√∫p cho vi·ªác xu·∫•t ·∫£nh ch·∫•t l∆∞·ª£ng cao v√† n√©t h∆°n, kh√¥ng b·ªã v·ª° ·∫£nh khi zoom in.react-split-pane - Th∆∞ vi·ªán t·∫°o giao di·ªán chia t√°ch (split view) cho React, gi√∫p d·ªÖ d√†ng t·∫°o c√°c layout v·ªõi c√°c ph·∫ßn t·ª≠ c√≥ th·ªÉ k√©o v√† th·∫£.react-window - Th∆∞ vi·ªán gi√∫p t·ªëi ∆∞u h√≥a hi·ªáu su·∫•t cho b·∫£ng v√† danh s√°ch l·ªõn trong React b·∫±ng c√°ch ch·ªâ render c√°c ph·∫ßn t·ª≠ ƒëang hi·ªÉn th·ªã tr√™n UI nh·∫π v√† d·ªÖ s·ª≠ d·ª•ng.",{"id":616,"title":617,"titles":618,"content":619,"level":355},"/blog/useful-npm-package#backend","Backend",[],"Updating...",{"id":621,"title":622,"titles":623,"content":624,"level":355},"/blog/useful-npm-package#c√°c-ƒëo·∫°n-code-m·∫´u-h·ªØu-d·ª•ng","C√°c ƒëo·∫°n code m·∫´u h·ªØu d·ª•ng",[],"Code template cho custom send and listen event document",{"id":626,"title":627,"titles":628,"content":629,"level":355},"/blog/useful-script","T·ªïng h·ª£p c√°c scripts h·ªØu √≠ch",[],"Danh s√°ch c√°c scripts h·ªØu √≠ch cho l·∫≠p tr√¨nh vi√™n, gi√∫p ti·∫øt ki·ªám th·ªùi gian v√† c√¥ng s·ª©c trong qu√° tr√¨nh ph√°t tri·ªÉn ph·∫ßn m·ªÅm.",{"id":631,"title":632,"titles":633,"content":634,"level":355},"/blog/useful-script#n√©n-·∫£nh-v√†-convert-·∫£nh-sang-ƒë·ªãnh-d·∫°ng-webp","N√©n ·∫£nh v√† convert ·∫£nh sang ƒë·ªãnh d·∫°ng webp",[],"C√†i ƒë·∫∑t cwebp ƒê·ªëi v·ªõi window th√¨ c√≥ th·ªÉ xem h∆∞·ªõng d·∫´n t·∫°i: https://developers.google.com/speed/webp/download?hl=vi Script n√©n ·∫£nh Sau khi t·∫°o xong file, c·∫ßn ph·∫£i g√°n quy·ªÅn th·ª±c thi cho file script b·∫±ng l·ªánh sau: Sau ƒë√≥ c√≥ th·ªÉ ch·∫°y script ƒë·ªÉ c√≥ th·ªÉ th·ª±c hi·ªán n√©n ·∫£nh v√† chuy·ªÉn ƒë·ªïi sang ƒë·ªãnh d·∫°ng webp.",[636],{"id":637,"title":607,"body":638,"date":336,"description":609,"extension":338,"image":694,"keywords":695,"meta":696,"navigation":342,"path":606,"published":342,"seo":697,"stem":698,"tags":699,"__hash__":700},"blog/blog/useful-npm-package.md",{"type":7,"value":639,"toc":692},[640,643,675,678,682,685],[10,641,612],{"id":642},"frontend",[61,644,645,657,663,669],{},[64,646,647,650,651,656],{},[38,648,649],{},"react-query"," - ",[25,652,655],{"href":653,"rel":654},"https://react-query.tanstack.com/",[29],"React Query"," Th∆∞ vi·ªán qu·∫£n l√Ω tr·∫°ng th√°i cho React, gi√∫p x·ª≠ l√Ω c√°c y√™u c·∫ßu API v√† cache d·ªØ li·ªáu m·ªôt c√°ch d·ªÖ d√†ng.",[64,658,659,662],{},[38,660,661],{},"@progress/kendo-react-pdf"," - Th∆∞ vi·ªán t·∫°o PDF cho React, hay h∆°n c√°c th∆∞ vi·ªán kh√°c ·ªü ch·ªó h√¨nh ·∫£nh s·∫Ω ƒë∆∞·ª£c xu·∫•t ra d∆∞·ªõi ƒë·ªãnh d·∫°ng SVG, gi√∫p cho vi·ªác xu·∫•t ·∫£nh ch·∫•t l∆∞·ª£ng cao v√† n√©t h∆°n, kh√¥ng b·ªã v·ª° ·∫£nh khi zoom in.",[64,664,665,668],{},[38,666,667],{},"react-split-pane"," - Th∆∞ vi·ªán t·∫°o giao di·ªán chia t√°ch (split view) cho React, gi√∫p d·ªÖ d√†ng t·∫°o c√°c layout v·ªõi c√°c ph·∫ßn t·ª≠ c√≥ th·ªÉ k√©o v√† th·∫£.",[64,670,671,674],{},[38,672,673],{},"react-window"," - Th∆∞ vi·ªán gi√∫p t·ªëi ∆∞u h√≥a hi·ªáu su·∫•t cho b·∫£ng v√† danh s√°ch l·ªõn trong React b·∫±ng c√°ch ch·ªâ render c√°c ph·∫ßn t·ª≠ ƒëang hi·ªÉn th·ªã tr√™n UI nh·∫π v√† d·ªÖ s·ª≠ d·ª•ng.",[10,676,617],{"id":677},"backend",[61,679,680],{},[64,681,619],{},[10,683,622],{"id":684},"c√°c-ƒëo·∫°n-code-m·∫´u-h·ªØu-d·ª•ng",[61,686,687],{},[64,688,624,689],{},[102,690],{":files":691},"[{\"title\":\"javascript\",\"language\":\"javascript\",\"content\":\"export const sendEvent = (eventName, detail) => {\\n  document.dispatchEvent(new CustomEvent(eventName, { detail }));\\n}\\nexport const listenEvent = (eventName, callback, context = document) => {\\n  context.addEventListener(eventName, callback);\\n  return () => context.removeEventListener(eventName, callback);\\n}\\n\"}]",{"title":333,"searchDepth":334,"depth":334,"links":693},[],"/images/blog/useful-npm-package/banner.webp","npm, package, frontend, backend",{},{"title":607,"description":609},"blog/useful-npm-package",[347],"3WcFSlvMJI3UivaSkcCnPhkOghwUynB93HX-3qAii7M",[702,866,1332,1521,1626,1841,2033,2078],{"id":703,"title":352,"body":704,"date":856,"description":857,"extension":338,"image":858,"keywords":859,"meta":860,"navigation":342,"path":351,"published":342,"seo":861,"stem":862,"tags":863,"__hash__":865},"blog/blog/ansible.md",{"type":7,"value":705,"toc":854},[706,711,714,717,720,723,726,729,732,734,737,740,743,753,755,758,760,763,765,768,775,782,785,792,795,797,800,803,806,811,814,816,819,842,844,846,851],[15,707,708],{},[88,709,710],{},"H∆∞·ªõng d·∫´n chi ti·∫øt v·ªÅ c√†i ƒë·∫∑t v√† tri·ªÉn khai Ansible",[15,712,713],{},"Ansible l√† m·ªôt c√¥ng c·ª• t·ª± ƒë·ªông h√≥a m·∫°nh m·∫Ω, gi√∫p qu·∫£n l√Ω c·∫•u h√¨nh, tri·ªÉn khai ·ª©ng d·ª•ng v√† ƒëi·ªÅu ph·ªëi h·ªá th·ªëng m·ªôt c√°ch d·ªÖ d√†ng. Trong b√†i vi·∫øt n√†y, ch√∫ng ta s·∫Ω t√¨m hi·ªÉu c√°ch c√†i ƒë·∫∑t, c·∫•u h√¨nh v√† s·ª≠ d·ª•ng Ansible th√¥ng qua c√°c v√≠ d·ª• th·ª±c t·∫ø.",[715,716],"hr",{},[10,718,358],{"id":719},"Ô∏è-c√†i-ƒë·∫∑t-ansible",[15,721,722],{},"H∆∞·ªõng d·∫´n c√†i ƒë·∫∑t Ansible tr√™n Ubuntu:",[102,724],{":files":725},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"sudo apt update -y\\nsudo apt install software-properties-common -y\\nsudo apt-add-repository --yes --update ppa:ansible/ansible\\nsudo apt install ansible -y\\n\"}]",[15,727,728],{},"Sau khi c√†i ƒë·∫∑t, b·∫°n c√≥ th·ªÉ ki·ªÉm tra phi√™n b·∫£n Ansible:",[102,730],{":files":731},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"ansible --version\"}]",[715,733],{},[10,735,363],{"id":736},"c·∫•u-h√¨nh-ssh",[15,738,739],{},"ƒê·ªÉ Ansible c√≥ th·ªÉ k·∫øt n·ªëi ƒë·∫øn c√°c m√°y ch·ªß t·ª´ xa, b·∫°n c·∫ßn c·∫•u h√¨nh SSH. D∆∞·ªõi ƒë√¢y l√† c√°ch sao ch√©p SSH key ƒë·∫øn m√°y ch·ªß kh√°c:",[102,741],{":files":742},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"ssh-copy-id -i ~/.ssh/id_rsa.pub vinhtieng@123.3123.12\"}]",[15,744,745,748,749,752],{},[88,746,747],{},"L∆∞u √Ω:"," Thay ",[38,750,751],{},"vinhtieng@123.3123.12"," b·∫±ng t√™n ng∆∞·ªùi d√πng v√† ƒë·ªãa ch·ªâ IP c·ªßa m√°y ch·ªß t·ª´ xa.",[715,754],{},[10,756,368],{"id":757},"hosts-inventory",[15,759,370],{},[102,761],{":files":762},"[{\"title\":\"inventory\",\"language\":\"ini\",\"content\":\"[webservers]\\nweb1.example.com\\nweb2.example.com\\n\\n[databases]\\ndb1.example.com\\n\\n[webservers:vars]\\nansible_user=your_ssh_user\\nansible_ssh_private_key_file=/path/to/private/key\\n\\n[webservers1]\\nweb1.example.com ansible_user=user1 ansible_ssh_private_key_file=/path/to/key1\\nweb2.example.com ansible_user=user2 ansible_ssh_private_key_file=/path/to/key2\\n\"}]",[715,764],{},[10,766,373],{"id":767},"ki·ªÉm-tra-k·∫øt-n·ªëi-ping",[15,769,770,771,774],{},"B·∫°n c√≥ th·ªÉ ki·ªÉm tra k·∫øt n·ªëi ƒë·∫øn c√°c m√°y ch·ªß b·∫±ng l·ªánh ",[38,772,773],{},"ping",":",[265,776,777],{},[64,778,779],{},[88,780,781],{},"Ping v·ªõi file hosts m·∫∑c ƒë·ªãnh:",[102,783],{":files":784},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"ansible -m ping all\"}]",[265,786,787],{"start":334},[64,788,789],{},[88,790,791],{},"Ping v·ªõi file inventory t√πy ch·ªânh:",[102,793],{":files":794},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"ansible -i my_hosts all -m ping\"}]",[715,796],{},[10,798,378],{"id":799},"playbook-task-module",[15,801,802],{},"Playbook l√† n∆°i b·∫°n ƒë·ªãnh nghƒ©a c√°c t√°c v·ª• (tasks) c·∫ßn th·ª±c hi·ªán tr√™n c√°c m√°y ch·ªß. D∆∞·ªõi ƒë√¢y l√† c√°ch ch·∫°y m·ªôt playbook:",[102,804],{":files":805},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"ansible-playbook my_playbook.yml -i inventory_file\"}]",[15,807,808],{},[88,809,810],{},"V√≠ d·ª• v·ªÅ Playbook ƒë∆°n gi·∫£n:",[102,812],{":files":813},"[{\"title\":\"my_playbook.yml\",\"language\":\"yaml\",\"content\":\"---\\n- name: C√†i ƒë·∫∑t v√† kh·ªüi ƒë·ªông Apache\\n  hosts: webservers\\n  become: yes\\n  tasks:\\n    - name: C√†i ƒë·∫∑t Apache\\n      apt:\\n        name: apache2\\n        state: present\\n    - name: ƒê·∫£m b·∫£o Apache ƒëang ch·∫°y\\n      service:\\n        name: apache2\\n        state: started\\n\"}]",[715,815],{},[10,817,383],{"id":818},"t√†i-li·ªáu-tham-kh·∫£o",[61,820,821,828,835],{},[64,822,823],{},[25,824,827],{"href":825,"rel":826},"https://docs.ansible.com/",[29],"Ansible Documentation",[64,829,830],{},[25,831,834],{"href":832,"rel":833},"https://galaxy.ansible.com/",[29],"Ansible Galaxy",[64,836,837],{},[25,838,841],{"href":839,"rel":840},"https://docs.ansible.com/ansible/latest/user_guide/playbooks.html",[29],"Ansible Playbook Guide",[715,843],{},[83,845],{},[15,847,848],{},[88,849,850],{},"T√≥m l·∫°i:",[15,852,853],{},"Ansible l√† c√¥ng c·ª• m·∫°nh m·∫Ω gi√∫p t·ª± ƒë·ªông h√≥a c√°c t√°c v·ª• qu·∫£n tr·ªã h·ªá th·ªëng. Vi·ªác n·∫Øm v·ªØng c√°ch s·ª≠ d·ª•ng Ansible s·∫Ω gi√∫p b·∫°n ti·∫øt ki·ªám th·ªùi gian v√† gi·∫£m thi·ªÉu l·ªói trong qu√° tr√¨nh qu·∫£n l√Ω h·ªá th·ªëng.",{"title":333,"searchDepth":334,"depth":334,"links":855},[],"2025-04-25T00:00:00.000Z","H∆∞·ªõng d·∫´n chi ti·∫øt v·ªÅ c√†i ƒë·∫∑t, c·∫•u h√¨nh SSH, inventory v√† s·ª≠ d·ª•ng Playbook trong Ansible.","/images/blog/ansible/banner.webp","ansible, automation, configuration management",{},{"title":352,"description":857},"blog/ansible",[864],"ansible","TDOKqPCKfBmvSL-G-wacqQdrgbcbAiBJrgMPYjtJtIc",{"id":867,"title":388,"body":868,"date":856,"description":1323,"extension":338,"image":1324,"keywords":1325,"meta":1326,"navigation":342,"path":387,"published":342,"seo":1327,"stem":1328,"tags":1329,"__hash__":1331},"blog/blog/basic-nginx.md",{"type":7,"value":869,"toc":1321},[870,875,880,883,886,888,891,894,897,900,903,909,912,915,918,921,924,927,933,936,947,950,953,956,970,973,978,981,984,998,1001,1006,1038,1041,1044,1047,1050,1053,1056,1063,1074,1081,1092,1095,1106,1109,1112,1115,1118,1121,1124,1138,1141,1143,1146,1149,1152,1178,1181,1186,1189,1192,1195,1197,1200,1202,1205,1207,1210,1212,1215,1217,1220,1222,1225,1227,1230,1233,1236,1239,1242,1244,1247,1250,1253,1256,1259,1262,1265,1267,1270,1272,1275,1277,1279,1310,1312,1314,1318],[15,871,872],{},[88,873,874],{},"Gi·ªõi thi·ªáu v·ªÅ Nginx",[51,876,877],{"type":53},[15,878,879],{},"nginx (\"engine x\") is an HTTP web server, reverse proxy, content cache, load balancer, TCP/UDP proxy server, and mail proxy server. Originally written by Igor Sysoev and distributed under the 2-clause BSD License. Enterprise distributions, commercial support and training are available from F5, Inc.",[15,881,882],{},"Nginx l√† m·ªôt web server, ph·∫ßn m·ªÅm ch·∫°y tr√™n m√°y ch·ªß ƒë·ªÉ nh·∫≠n v√† x·ª≠ l√Ω c√°c request (y√™u c·∫ßu) t·ª´ tr√¨nh duy·ªát ho·∫∑c client (nh∆∞ API request).",[15,884,885],{},"Ban ƒë·∫ßu, Nginx ƒë∆∞·ª£c t·∫°o ra ƒë·ªÉ x·ª≠ l√Ω nhi·ªÅu k·∫øt n·ªëi c√πng l√∫c v·ªõi hi·ªáu nƒÉng cao, v√† ng√†y nay n√≥ c√≤n ƒë∆∞·ª£c d√πng nh∆∞:\n‚Ä¢\tWeb Server (m√°y ch·ªß web)\n‚Ä¢\tReverse Proxy (proxy ng∆∞·ª£c)\n‚Ä¢\tLoad Balancer (c√¢n b·∫±ng t·∫£i)\n‚Ä¢\tCache server (b·ªô nh·ªõ ƒë·ªám)\n‚Ä¢\tAPI Gateway (·ªü m·ª©c c∆° b·∫£n)",[715,887],{},[10,889,393],{"id":890},"c√†i-ƒë·∫∑t-nginx",[15,892,893],{},"H∆∞·ªõng d·∫´n c√†i ƒë·∫∑t Nginx tr√™n Ubuntu:",[102,895],{":files":896},"[{\"title\":\"bash\",\"language\":\"nginx\",\"content\":\"sudo apt update\\nsudo apt install nginx\\n\"}]",[15,898,899],{},"Sau khi c√†i ƒë·∫∑t, b·∫°n c√≥ th·ªÉ ki·ªÉm tra tr·∫°ng th√°i Nginx:",[102,901],{":files":902},"[{\"title\":\"bash\",\"language\":\"nginx\",\"content\":\"sudo systemctl status nginx\"}]",[15,904,905,908],{},[88,906,907],{},"Ki·ªÉm tra t∆∞·ªùng l·ª≠a:","\nƒê·ªÉ ki·ªÉm tra c√°c c·∫•u h√¨nh ƒëang ƒë∆∞·ª£c ch·∫°y th√¨ ch·∫°y l·ªánh",[102,910],{":files":911},"[{\"title\":\"bash\",\"language\":\"nginx\",\"content\":\"sudo ufw app list\"}]",[15,913,914],{},"K·∫øt qu·∫£ hi·ªán ra ·ªü terminal s·∫Ω d·∫°ng nh∆∞ sau:",[102,916],{":files":917},"[{\"title\":\"bash\",\"language\":\"nginx\",\"content\":\"Available applications:\\nNginx Full\\nNginx HTTP\\nNginx HTTPS\\nOpenSSH\\n\"}]",[15,919,920],{},"Sau khi c√†i ƒë·∫∑t Nginx, b·∫°n n√™n ƒë·∫£m b·∫£o r·∫±ng t∆∞·ªùng l·ª≠a (firewall) cho ph√©p l∆∞u l∆∞·ª£ng HTTP v√† HTTPS ƒë·ªÉ m√°y ch·ªß c√≥ th·ªÉ ph·ª•c v·ª• n·ªôi dung web.",[102,922],{":files":923},"[{\"title\":\"bash\",\"language\":\"nginx\",\"content\":\"sudo ufw allow 'Nginx Full'\\nsudo ufw status\\n\"}]",[15,925,926],{},"L·ªánh sudo ufw allow 'Nginx Full' s·∫Ω m·ªü c·∫£ hai c·ªïng 80 (HTTP) v√† 443 (HTTPS).\nSau ƒë√≥, d√πng sudo ufw status ƒë·ªÉ x√°c nh·∫≠n r·∫±ng c√°c c·ªïng n√†y ƒë√£ ƒë∆∞·ª£c m·ªü.",[51,928,930],{"type":929},"warning",[15,931,932],{},"N·∫øu b·∫°n ch∆∞a b·∫≠t ufw (Uncomplicated Firewall), b·∫°n c√≥ th·ªÉ b·∫≠t b·∫±ng l·ªánh sudo ufw enable. Tuy nhi√™n, h√£y ƒë·∫£m b·∫£o c·∫•u h√¨nh ch√≠nh x√°c ƒë·ªÉ kh√¥ng b·ªã kh√≥a SSH.",[15,934,935],{},"Ki·ªÉm tra ho·∫°t ƒë·ªông c·ªßa Nginx:",[15,937,938,939,942,943,946],{},"M·ªü tr√¨nh duy·ªát v√† truy c·∫≠p ƒë·ªãa ch·ªâ:\nüëâ ",[38,940,941],{},"http://\u003Cƒë·ªãa_ch·ªâ_IP_c·ªßa_b·∫°n>"," ho·∫∑c ",[38,944,945],{},"http://localhost"," n·∫øu ki·ªÉm tra c·ª•c b·ªô.",[15,948,949],{},"B·∫°n s·∫Ω th·∫•y trang m·∫∑c ƒë·ªãnh ‚ÄúWelcome to nginx!‚Äù n·∫øu m·ªçi th·ª© ho·∫°t ƒë·ªông ƒë√∫ng c√°ch.",[10,951,398],{"id":952},"Ô∏è-c·∫•u-h√¨nh-default-host-trong-nginx",[15,954,955],{},"Tr√™n Ubuntu, file c·∫•u h√¨nh c·ªßa Nginx th∆∞·ªùng ƒë∆∞·ª£c l∆∞u t·∫°i c√°c v·ªã tr√≠ sau:",[61,957,958,964],{},[64,959,960,963],{},[38,961,962],{},"/etc/nginx/sites-available/default"," (N·∫øu s·ª≠ d·ª•ng th∆∞ m·ª•c sites-available v√† sites-enabled).",[64,965,966,969],{},[38,967,968],{},"/etc/nginx/conf.d/default.conf"," (Th√¥ng d·ª•ng cho c√°c c·∫•u h√¨nh ƒë∆°n gi·∫£n).",[15,971,972],{},"M·∫∑c ƒë·ªãnh, khi c√†i ƒë·∫∑t Nginx, s·∫Ω c√≥ m·ªôt file c·∫•u h√¨nh default trong th∆∞ m·ª•c /etc/nginx/sites-available/ v·ªõi m·ªôt s·ªë c·∫•u h√¨nh c∆° b·∫£n. B·∫°n c√≥ th·ªÉ s·ª≠a file n√†y ƒë·ªÉ c·∫•u h√¨nh server block cho website c·ªßa m√¨nh.",[15,974,975],{},[88,976,977],{},"C·∫•u h√¨nh Default Host",[15,979,980],{},"M·ªü file c·∫•u h√¨nh Nginx m·∫∑c ƒë·ªãnh:",[102,982],{":files":983},"[{\"title\":\"default.conf\",\"language\":\"nginx\",\"content\":\"sudo nano /etc/nginx/sites-available/default\"}]",[15,985,986,987,990,991,994,995,774],{},"M·∫∑c ƒë·ªãnh, Nginx s·∫Ω ch·ªçn block ƒë·∫ßu ti√™n khi kh√¥ng t√¨m th·∫•y ",[38,988,989],{},"server_name"," t∆∞∆°ng ·ª©ng. ƒê·ªÉ c·∫•u h√¨nh r√µ r√†ng host m·∫∑c ƒë·ªãnh, b·∫°n th√™m ",[38,992,993],{},"default_server"," v√†o d√≤ng ",[38,996,997],{},"listen",[102,999],{":files":1000},"[{\"title\":\"default.conf\",\"language\":\"nginx\",\"content\":\"server {\\n    listen 80 default_server;\\n    server_name _;\\n    root /var/www/html;\\n    index index.html index.htm;\\n\\n    location / {\\n        try_files $uri $uri/ =404;\\n    }\\n}\\n\"}]",[15,1002,1003],{},[88,1004,1005],{},"Ghi ch√∫:",[61,1007,1008,1014,1020,1026,1032],{},[64,1009,1010,1013],{},[38,1011,1012],{},"listen 80 default_server;",": C·∫•u h√¨nh Nginx l·∫Øng nghe c·ªïng 80 (HTTP) v√† ƒë√°nh d·∫•u ƒë√¢y l√† default_server (server m·∫∑c ƒë·ªãnh cho c√°c y√™u c·∫ßu kh√¥ng kh·ªõp v·ªõi server block kh√°c).",[64,1015,1016,1019],{},[38,1017,1018],{},"root /var/www/html;",": ƒê∆∞·ªùng d·∫´n t·ªõi th∆∞ m·ª•c ch·ª©a c√°c t·ªáp tin c·ªßa website. B·∫°n c√≥ th·ªÉ thay ƒë·ªïi ƒë∆∞·ªùng d·∫´n n√†y th√†nh th∆∞ m·ª•c c·ªßa website b·∫°n mu·ªën ph·ª•c v·ª•.",[64,1021,1022,1025],{},[38,1023,1024],{},"server_name _;",": Ch·ªâ th·ªã n√†y cho ph√©p server ch·∫•p nh·∫≠n t·∫•t c·∫£ c√°c y√™u c·∫ßu kh√¥ng kh·ªõp v·ªõi server block kh√°c. N·∫øu b·∫°n c√≥ t√™n mi·ªÅn c·ª• th·ªÉ, h√£y thay th·∫ø d·∫•u g·∫°ch d∆∞·ªõi (_) b·∫±ng t√™n mi·ªÅn c·ªßa b·∫°n.",[64,1027,1028,1031],{},[38,1029,1030],{},"location /",": ƒê√¢y l√† ph·∫ßn c·∫•u h√¨nh ƒë·ªãnh tuy·∫øn cho c√°c y√™u c·∫ßu ƒë·∫øn. C·∫•u h√¨nh n√†y gi√∫p Nginx t√¨m ki·∫øm c√°c t·ªáp tin khi ng∆∞·ªùi d√πng truy c·∫≠p v√†o website.",[64,1033,1034,1037],{},[38,1035,1036],{},"try_files $uri $uri/ =404;",": N·∫øu y√™u c·∫ßu kh√¥ng tr√πng kh·ªõp v·ªõi t·ªáp tin ho·∫∑c th∆∞ m·ª•c, s·∫Ω tr·∫£ v·ªÅ l·ªói 404.",[15,1039,1040],{},"Sau khi ch·ªânh s·ª≠a xong, b·∫°n c·∫ßn ki·ªÉm tra xem c·∫•u h√¨nh c√≥ ch√≠nh x√°c kh√¥ng:",[102,1042],{":files":1043},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"sudo nginx -t\"}]",[15,1045,1046],{},"N·∫øu kh√¥ng c√≥ l·ªói n√†o, b·∫°n c√≥ th·ªÉ kh·ªüi ƒë·ªông l·∫°i Nginx ƒë·ªÉ √°p d·ª•ng c·∫•u h√¨nh m·ªõi:",[102,1048],{":files":1049},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"sudo systemctl restart nginx\"}]",[15,1051,1052],{},"Gi·ªõi thi·ªáu v·ªÅ sites-available v√† sites-enabled",[15,1054,1055],{},"Trong Nginx, th∆∞ m·ª•c sites-available v√† sites-enabled l√† m·ªôt c∆° ch·∫ø ƒë·ªÉ qu·∫£n l√Ω c√°c website (virtual hosts) m√† Nginx c√≥ th·ªÉ ph·ª•c v·ª•. C·∫•u tr√∫c n√†y gi√∫p d·ªÖ d√†ng b·∫≠t/t·∫Øt c√°c website m√† kh√¥ng c·∫ßn ph·∫£i x√≥a ho·∫∑c thay ƒë·ªïi c·∫•u h√¨nh tr·ª±c ti·∫øp.",[265,1057,1058],{},[64,1059,1060,774],{},[38,1061,1062],{},"sites-available",[61,1064,1065,1068,1071],{},[64,1066,1067],{},"ƒê√¢y l√† n∆°i b·∫°n t·∫°o v√† l∆∞u tr·ªØ t·∫•t c·∫£ c√°c file c·∫•u h√¨nh c·ªßa c√°c website ho·∫∑c ·ª©ng d·ª•ng m√† b·∫°n mu·ªën Nginx ph·ª•c v·ª•.",[64,1069,1070],{},"M·ªói file c·∫•u h√¨nh trong sites-available ƒë·∫°i di·ªán cho m·ªôt website ho·∫∑c ·ª©ng d·ª•ng ri√™ng bi·ªát.",[64,1072,1073],{},"V√≠ d·ª•: /etc/nginx/sites-available/example.com l√† c·∫•u h√¨nh cho website example.com.",[265,1075,1076],{"start":334},[64,1077,1078,774],{},[38,1079,1080],{},"sites-enabled",[61,1082,1083,1086,1089],{},[64,1084,1085],{},"ƒê√¢y l√† n∆°i ch·ª©a c√°c li√™n k·∫øt t∆∞·ª£ng tr∆∞ng (symlink) ƒë·∫øn c√°c file c·∫•u h√¨nh trong sites-available m√† b·∫°n mu·ªën Nginx th·ª±c thi.",[64,1087,1088],{},"C√°c li√™n k·∫øt n√†y cho ph√©p Nginx bi·∫øt ƒë∆∞·ª£c website n√†o s·∫Ω ƒë∆∞·ª£c k√≠ch ho·∫°t.",[64,1090,1091],{},"B·∫°n kh√¥ng n√™n tr·ª±c ti·∫øp ch·ªânh s·ª≠a c√°c file trong sites-enabled. Thay v√†o ƒë√≥, b·∫°n t·∫°o symlink t·ª´ sites-available.",[15,1093,1094],{},"C√°ch th·ª©c ho·∫°t ƒë·ªông:",[61,1096,1097,1100],{},[64,1098,1099],{},"Khi b·∫°n t·∫°o m·ªôt file c·∫•u h√¨nh trong sites-available, b·∫°n c√≥ th·ªÉ k√≠ch ho·∫°t n√≥ b·∫±ng c√°ch t·∫°o m·ªôt symlink ƒë·∫øn file ƒë√≥ trong th∆∞ m·ª•c sites-enabled.",[64,1101,1102,1103,183],{},"ƒê·ªÉ t·∫°o symlink, s·ª≠ d·ª•ng l·ªánh ",[38,1104,1105],{},"ln -s",[15,1107,1108],{},"V√≠ d·ª•, n·∫øu b·∫°n c√≥ c·∫•u h√¨nh example.com trong sites-available, b·∫°n c√≥ th·ªÉ t·∫°o symlink v√†o sites-enabled nh∆∞ sau:",[102,1110],{":files":1111},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"sudo ln -s /etc/nginx/sites-available/example.com /etc/nginx/sites-enabled/\"}]",[10,1113,403],{"id":1114},"c·∫•u-h√¨nh-deploy-page-tƒ©nh",[15,1116,1117],{},"ƒê·ªÉ ph·ª•c v·ª• m·ªôt trang web tƒ©nh v·ªõi Nginx, b·∫°n c·∫ßn c·∫•u h√¨nh server block ƒë·ªÉ tr·ªè ƒë·∫øn th∆∞ m·ª•c ch·ª©a c√°c t·ªáp HTML, CSS, JavaScript v√† c√°c t√†i nguy√™n kh√°c c·ªßa trang web.",[102,1119],{":files":1120},"[{\"title\":\"static-site.conf\",\"language\":\"nginx\",\"content\":\"server {\\n    listen 80 default_server;\\n    server_name _;\\n    root /var/www/my_static_site;\\n    index index.html index.htm;\\n\\n    location / {\\n        try_files $uri $uri/ =404;\\n    }\\n}\\n\"}]",[15,1122,1123],{},"Trong ƒë√≥:",[61,1125,1126,1132],{},[64,1127,1128,1131],{},[38,1129,1130],{},"root /var/www/my_static_site;",": ƒê∆∞·ªùng d·∫´n t·ªõi th∆∞ m·ª•c ch·ª©a c√°c t·ªáp tin c·ªßa trang web tƒ©nh. H√£y thay ƒë·ªïi ƒë∆∞·ªùng d·∫´n n√†y th√†nh th∆∞ m·ª•c th·ª±c t·∫ø c·ªßa b·∫°n.",[64,1133,1134,1137],{},[38,1135,1136],{},"index index.html index.htm;",": X√°c ƒë·ªãnh c√°c t·ªáp tin m·∫∑c ƒë·ªãnh khi truy c·∫≠p v√†o th∆∞ m·ª•c g·ªëc.",[10,1139,408],{"id":1140},"c·∫•u-h√¨nh-revert-proxy",[15,1142,410],{},[102,1144],{":files":1145},"[{\"title\":\"reverse-proxy.conf\",\"language\":\"nginx\",\"content\":\"server {\\n    listen 80;\\n    server_name example.com;\\n\\n    location / {\\n        proxy_pass http://backend;\\n        proxy_set_header Host $host;\\n        proxy_set_header X-Real-IP $remote_addr;\\n        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\\n        proxy_set_header X-Forwarded-Proto $scheme;\\n    }\\n}\\n\"}]",[10,1147,413],{"id":1148},"load-balancer-trong-nginx",[15,1150,1151],{},"Nginx h·ªó tr·ª£ c·∫•u h√¨nh c√¢n b·∫±ng t·∫£i v·ªõi nhi·ªÅu thu·∫≠t to√°n l·ª±a ch·ªçn backend:",[61,1153,1154,1160,1166,1172],{},[64,1155,1156,1159],{},[38,1157,1158],{},"round-robin",": M·∫∑c ƒë·ªãnh, ph√¢n ph·ªëi ƒë·ªÅu cho c√°c request.",[64,1161,1162,1165],{},[38,1163,1164],{},"least_conn",": Ch·ªçn server √≠t k·∫øt n·ªëi nh·∫•t.",[64,1167,1168,1171],{},[38,1169,1170],{},"ip_hash",": Duy tr√¨ session cho client.",[64,1173,1174,1177],{},[38,1175,1176],{},"least_time",": ch·ªçn server c√≥ th·ªùi gian ph·∫£n h·ªìi √≠t nh·∫•t",[15,1179,1180],{},"C√≥ th·ªÉ th√™m tr·ªçng s·ªë cho server b·∫±ng c√°ch th√™m s·ªë sau ip:port",[61,1182,1183],{},[64,1184,1185],{},"Ex: server 192.168.1.0:8000 weight=3;",[102,1187],{":files":1188},"[{\"title\":\"upstream.conf\",\"language\":\"nginx\",\"content\":\"upstream myapp1 {\\n    ip_hash;\\n    server 192.168.1.10:8000;\\n    server 192.168.2.10:8000;\\n    # server 192.168.1.10:8000 weight=3;\\n}\\n\"}]",[15,1190,1191],{},"C·∫•u h√¨nh server block proxy ƒë·∫øn upstream:",[102,1193],{":files":1194},"[{\"title\":\"proxy.conf\",\"language\":\"nginx\",\"content\":\"server {\\n  listen 80 default_server;\\n  server_name _;\\n  root /var/www/html;\\n  index index.html index.htm;\\n\\n  location / {\\n      proxy_pass http://myapp1;\\n      proxy_set_header Host $host;\\n      proxy_set_header X-Real-IP $remote_addr;\\n      proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\\n      proxy_set_header X-Forwarded-Proto $scheme;\\n  }\\n}\\n\"}]",[715,1196],{},[10,1198,418],{"id":1199},"gzip-compression",[15,1201,420],{},[102,1203],{":files":1204},"[{\"title\":\"gzip.conf\",\"language\":\"nginx\",\"content\":\"gzip on;\\ngzip_disable \\\"msie6\\\";\\ngzip_vary on;\\ngzip_proxied any;\\ngzip_comp_level 6;\\ngzip_types text/plain text/css application/json application/javascript text/xml application/xml application/xml+rss text/javascript;\\n\"}]",[715,1206],{},[10,1208,423],{"id":1209},"k√≠ch-ho·∫°t-http2",[15,1211,425],{},[102,1213],{":files":1214},"[{\"title\":\"http2.conf\",\"language\":\"nginx\",\"content\":\"listen 443 ssl http2;\\n\"}]",[715,1216],{},[10,1218,428],{"id":1219},"rate-limiting",[15,1221,430],{},[102,1223],{":files":1224},"[{\"title\":\"rate-limiting.conf\",\"language\":\"nginx\",\"content\":\"limit_req_zone $binary_remote_addr zone=mylimit:10m rate=1r/s;\\n\\nlocation /api/ {\\n    limit_req zone=mylimit burst=5;\\n}\\n\"}]",[715,1226],{},[10,1228,433],{"id":1229},"redirect-v√†-rewrites",[15,1231,1232],{},"Chuy·ªÉn h∆∞·ªõng to√†n b·ªô traffic HTTP sang HTTPS:",[102,1234],{":files":1235},"[{\"title\":\"redirect.conf\",\"language\":\"nginx\",\"content\":\"server {\\n    listen 80;\\n    server_name example.com;\\n    return 301 https://$host$request_uri;\\n}\\nserver {\\n    listen 443 ssl;\\n    server_name example.com;\\n    ssl_certificate /path/to/cert.pem;\\n    ssl_certificate_key /path/to/key.pem;\\n}\\n\"}]",[15,1237,1238],{},"Vi·∫øt l·∫°i URL cho SPA:",[102,1240],{":files":1241},"[{\"title\":\"rewrite.conf\",\"language\":\"nginx\",\"content\":\"location /api/ {\\n    rewrite ^/api/(.*)$ /$1 break;\\n}\\n\"}]",[715,1243],{},[10,1245,438],{"id":1246},"hardening-security",[15,1248,1249],{},"B·∫£o v·ªá server b·∫±ng c√°ch t·ª´ ch·ªëi truy c·∫≠p file nh·∫°y c·∫£m:",[102,1251],{":files":1252},"[{\"title\":\"deny.conf\",\"language\":\"nginx\",\"content\":\"location ~* \\\\\\\\.(git|env|bak|log)$ {\\n  deny all;\\n}\\n\"}]",[15,1254,1255],{},"·∫®n th√¥ng tin server:",[102,1257],{":files":1258},"[{\"title\":\"security.conf\",\"language\":\"nginx\",\"content\":\"server_tokens off;\\n\"}]",[15,1260,1261],{},"Ch·ªëng clickjacking v√† XSS:",[102,1263],{":files":1264},"[{\"title\":\"headers.conf\",\"language\":\"nginx\",\"content\":\"add_header X-Content-Security-Policy \\\"default-src 'self'\\\";\\nadd_header X-Frame-Options \\\"DENY\\\";\\nadd_header X-XSS-Protection \\\"1; mode=block\\\";\\nadd_header Referrer-Policy \\\"no-referrer\\\";\\n\"}]",[715,1266],{},[10,1268,443],{"id":1269},"logging-n√¢ng-cao",[15,1271,445],{},[102,1273],{":files":1274},"[{\"title\":\"logging.conf\",\"language\":\"nginx\",\"content\":\"log_format main '$remote_addr - $remote_user [$time_local] \\\"$request\\\" '\\n               '$status $body_bytes_sent \\\"$http_referer\\\" '\\n               '\\\"$http_user_agent\\\" \\\"$http_x_forwarded_for\\\"';\\naccess_log /var/log/nginx/access.log main;\\n\"}]",[715,1276],{},[10,1278,383],{"id":818},[61,1280,1281,1289,1296,1303],{},[64,1282,1283],{},[25,1284,1288],{":target":1285,"href":1286,"rel":1287},"_blank","https://nginx.org/en/docs/",[29],"Nginx Documentation",[64,1290,1291],{},[25,1292,1295],{":target":1285,"href":1293,"rel":1294},"https://docs.nginx.com/nginx/admin-guide/load-balancer/http-load-balancer/",[29],"Nginx Load Balancing Guide",[64,1297,1298],{},[25,1299,1302],{":target":1285,"href":1300,"rel":1301},"https://www.php.net/manual/en/install.fpm.configuration.php",[29],"Nginx + PHP-FPM Setup",[64,1304,1305],{},[25,1306,1309],{":target":1285,"href":1307,"rel":1308},"https://owasp.org/www-project-secure-headers/",[29],"OWASP Nginx Hardening Guide",[715,1311],{},[83,1313],{},[15,1315,1316],{},[88,1317,850],{},[15,1319,1320],{},"Nginx l√† c√¥ng c·ª• c·ª±c k·ª≥ m·∫°nh m·∫Ω v√† linh ho·∫°t, kh√¥ng ch·ªâ gi·ªõi h·∫°n ·ªü web server m√† c√≤n l√† reverse proxy, caching layer, v√† load balancer. Vi·ªác n·∫Øm v·ªØng v√† khai th√°c t·ªët c√°c t√≠nh nƒÉng s·∫Ω gi√∫p h·ªá th·ªëng c·ªßa b·∫°n hi·ªáu su·∫•t cao, b·∫£o m·∫≠t v√† d·ªÖ m·ªü r·ªông.",{"title":333,"searchDepth":334,"depth":334,"links":1322},[],"H∆∞·ªõng d·∫´n chi ti·∫øt v·ªÅ c·∫•u h√¨nh v√† tri·ªÉn khai Nginx nh∆∞ web server, reverse proxy, load balancer, v√† c√°c thi·∫øt l·∫≠p n√¢ng cao.","/images/blog/basic-nginx/banner.webp","nginx, c·∫•u h√¨nh, load balancer",{},{"title":388,"description":1323},"blog/basic-nginx",[1330],"nginx","TD5hnNlhMFCWWA0CxMj845uztymqmFDXVyZdRnUCuN4",{"id":1333,"title":452,"body":1334,"date":856,"description":1512,"extension":338,"image":1513,"keywords":1514,"meta":1515,"navigation":342,"path":451,"published":342,"seo":1516,"stem":1517,"tags":1518,"__hash__":1520},"blog/blog/basic-redis.md",{"type":7,"value":1335,"toc":1498},[1336,1340,1343,1346,1357,1359,1362,1364,1368,1370,1373,1376,1378,1381,1384,1386,1389,1392,1394,1397,1400,1402,1405,1408,1411,1414,1417,1420,1423,1426,1429,1431,1434,1437,1439,1442,1445,1452,1455,1458,1460,1463,1466,1468,1471,1473,1476,1481,1484],[15,1337,1338],{},[88,1339,452],{},[15,1341,1342],{},"Redis l√† m·ªôt kho d·ªØ li·ªáu key-value trong b·ªô nh·ªõ, m√£ ngu·ªìn m·ªü, n·ªïi ti·∫øng v·ªõi hi·ªáu su·∫•t v√† t√≠nh linh ho·∫°t. Redis h·ªó tr·ª£ nhi·ªÅu ki·ªÉu d·ªØ li·ªáu, ph√π h·ª£p cho vi·ªác s·ª≠ d·ª•ng b·ªô nh·ªõ ƒë·ªám, ·ª©ng d·ª•ng th·ªùi gian th·ª±c, h·ªá th·ªëng pub/sub, v√† nhi·ªÅu h∆°n n·ªØa.",[15,1344,1345],{},"Trong h∆∞·ªõng d·∫´n n√†y, ch√∫ng ta s·∫Ω t√¨m hi·ªÉu:",[61,1347,1348,1351,1354],{},[64,1349,1350],{},"C√°c ki·ªÉu d·ªØ li·ªáu trong Redis",[64,1352,1353],{},"C√°c l·ªánh ph·ªï bi·∫øn c·ªßa Redis",[64,1355,1356],{},"C√°ch t√≠ch h·ª£p Redis v√†o d·ª± √°n Node.js",[715,1358],{},[10,1360,457],{"id":1361},"c√°c-ki·ªÉu-d·ªØ-li·ªáu-l·ªánh-redis",[15,1363,459],{},[1365,1366,462],"h2",{"id":1367},"_1-chu·ªói-strings",[15,1369,464],{},[102,1371],{":files":1372},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"SET name \\\"Jay\\\"\\nGET name\\nINCR counter\\n\"}]",[1365,1374,467],{"id":1375},"_2-danh-s√°ch-lists",[15,1377,469],{},[102,1379],{":files":1380},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"LPUSH mylist \\\"apple\\\"\\nRPUSH mylist \\\"banana\\\"\\nLRANGE mylist 0 -1\\n\"}]",[1365,1382,472],{"id":1383},"_3-t·∫≠p-h·ª£p-sets",[15,1385,474],{},[102,1387],{":files":1388},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"SADD myset \\\"apple\\\"\\nSADD myset \\\"banana\\\"\\nSADD myset \\\"apple\\\" # Tr√πng l·∫∑p, s·∫Ω kh√¥ng ƒë∆∞·ª£c th√™m\\nSMEMBERS myset\\n\"}]",[1365,1390,477],{"id":1391},"_4-bƒÉm-hashes",[15,1393,479],{},[102,1395],{":files":1396},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"HSET user:1000 name \\\"Jay\\\" age 30\\nHGETALL user:1000\\n\"}]",[1365,1398,482],{"id":1399},"_5-t·∫≠p-h·ª£p-c√≥-th·ª©-t·ª±-sorted-sets",[15,1401,484],{},[102,1403],{":files":1404},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"ZADD mysortedset 1 \\\"apple\\\"\\nZADD mysortedset 2 \\\"banana\\\"\\nZRANGE mysortedset 0 -1\\n\"}]",[1365,1406,487],{"id":1407},"_6-bitmaps-hyperloglogs-streams",[15,1409,1410],{},"ƒê√¢y l√† c√°c c·∫•u tr√∫c n√¢ng cao h∆°n:\nBitmaps ƒë∆∞·ª£c s·ª≠ d·ª•ng cho c√°c thao t√°c c·∫•p bit, cho ph√©p b·∫°n thao t√°c c√°c bit ri√™ng l·∫ª trong m·ªôt chu·ªói.",[102,1412],{":files":1413},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"SETBIT mybitmap 0 1\\nSETBIT mybitmap 1 1\\nBITCOUNT mybitmap\\n\"}]",[15,1415,1416],{},"HyperLogLogs ƒë∆∞·ª£c s·ª≠ d·ª•ng ƒë·ªÉ ∆∞·ªõc t√≠nh s·ªë l∆∞·ª£ng ph·∫ßn t·ª≠ duy nh·∫•t trong m·ªôt t·∫≠p h·ª£p, r·∫•t h·ªØu √≠ch cho c√°c tr∆∞·ªùng h·ª£p nh∆∞ theo d√µi s·ªë l∆∞·ª£ng kh√°ch truy c·∫≠p duy nh·∫•t.",[102,1418],{":files":1419},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"PFADD myhll \\\"apple\\\" \\\"banana\\\" \\\"orange\\\"\\nPFCOUNT myhll\\n\"}]",[15,1421,1422],{},"Streams ƒë∆∞·ª£c thi·∫øt k·∫ø cho c√°c ƒë∆∞·ªùng d·∫´n d·ªØ li·ªáu th·ªùi gian th·ª±c v√† ngu·ªìn s·ª± ki·ªán, cho ph√©p b·∫°n th√™m v√† truy v·∫•n d·ªØ li·ªáu theo chu·ªói th·ªùi gian.",[102,1424],{":files":1425},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"XADD mystream * name \\\"Jay\\\" age 30\\nXRANGE mystream - +\\n\"}]",[10,1427,492],{"id":1428},"t√≠ch-h·ª£p-redis-v·ªõi-nodejs",[15,1430,494],{},[1365,1432,497],{"id":1433},"_1-c√†i-ƒë·∫∑t-redis-v√†-ioredis",[102,1435],{":files":1436},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"npm install ioredis\\n# ho·∫∑c\\nyarn add ioredis\\n\"}]",[15,1438,499],{},[102,1440],{":files":1441},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"docker run -d -p 6379:6379 redis\\n\"}]",[1365,1443,502],{"id":1444},"_2-thi·∫øt-l·∫≠p-c∆°-b·∫£n",[15,1446,1447,1448,1451],{},"T·∫°o m·ªôt t·ªáp c√≥ t√™n ",[38,1449,1450],{},"redis.js"," v√† th√™m ƒëo·∫°n m√£ sau:",[102,1453],{":files":1454},"[{\"title\":\"redis.js\",\"language\":\"javascript\",\"content\":\"// redis.ts\\nimport Redis from 'ioredis';\\n\\nconst redis = new Redis({\\n  host: '127.0.0.1',\\n  port: 6379,\\n  // password: 'm·∫≠t_kh·∫©u_n·∫øu_c√≥'\\n});\\n\\nexport default redis;\\n\"}]",[1365,1456,507],{"id":1457},"_3-s·ª≠-d·ª•ng-redis-trong-·ª©ng-d·ª•ng",[15,1459,509],{},[102,1461],{":files":1462},"[{\"title\":\"example.js\",\"language\":\"javascript\",\"content\":\"// example.ts\\nimport redis from './redis';\\n\\n// Chu·ªói\\nawait redis.set('greeting', 'Hello Redis');\\nconst greeting = await redis.get('greeting');\\nconsole.log(greeting); // Hello Redis\\n\\n// Danh s√°ch\\nawait redis.lpush('queue', 'task1');\\nconst task = await redis.rpop('queue');\\nconsole.log(task); // task1\\n\\n// BƒÉm\\nawait redis.hset('user:1', { name: 'Jay', role: 'admin' });\\nconst user = await redis.hgetall('user:1');\\nconsole.log(user); // { name: 'Jay', role: 'admin' }\\n\\n// T·∫≠p h·ª£p c√≥ th·ª© t·ª±\\nawait redis.zadd('scores', 100, 'Jay');\\nconst scores = await redis.zrange('scores', 0, -1, 'WITHSCORES');\\nconsole.log(scores);\\n\\n// Pub/Sub\\nredis.subscribe('news');\\nredis.on('message', (channel, message) => {\\n  console.log(`Nh·∫≠n tin nh·∫Øn t·ª´ ${channel}: ${message}`);\\n});\\n\\nconst publisher = new Redis();\\npublisher.publish('news', 'Tin n√≥ng!');\\n\"}]",[1365,1464,512],{"id":1465},"_4-v√≠-d·ª•-v·ªÅ-b·ªô-nh·ªõ-ƒë·ªám",[15,1467,514],{},[102,1469],{":files":1470},"[{\"title\":\"cache.js\",\"language\":\"javascript\",\"content\":\"import redis from './redis';\\n\\nasync function getUserData(userId) {\\n  const cacheKey = `user:${userId}`;\\n  const cachedData = await redis.get(cacheKey);\\n\\n  if (cachedData) {\\n    return JSON.parse(cachedData);\\n  }\\n\\n  // M√¥ ph·ªèng truy v·∫•n c∆° s·ªü d·ªØ li·ªáu\\n  const userData = await queryDatabase(userId);\\n  await redis.set(cacheKey, JSON.stringify(userData), 'EX', 3600); // L∆∞u v√†o b·ªô nh·ªõ ƒë·ªám trong 1 gi·ªù\\n  return userData;\\n}\\n\\nasync function queryDatabase(userId) {\\n  // M√¥ ph·ªèng truy v·∫•n c∆° s·ªü d·ªØ li·ªáu\\n  return { id: userId, name: 'Jay', age: 30 };\\n}\\n\"}]",[1365,1472,517],{"id":295},[15,1474,1475],{},"Redis l√† m·ªôt c√¥ng c·ª• m·∫°nh m·∫Ω cho b·ªô nh·ªõ ƒë·ªám v√† c√°c ·ª©ng d·ª•ng th·ªùi gian th·ª±c. B·∫±ng c√°ch t√≠ch h·ª£p Redis v√†o c√°c d·ª± √°n Node.js, b·∫°n c√≥ th·ªÉ c·∫£i thi·ªán ƒë√°ng k·ªÉ hi·ªáu su·∫•t v√† kh·∫£ nƒÉng m·ªü r·ªông. H∆∞·ªõng d·∫´n n√†y ƒë√£ bao qu√°t c√°c kh√°i ni·ªám c∆° b·∫£n v·ªÅ ki·ªÉu d·ªØ li·ªáu, l·ªánh, v√† c√°ch s·ª≠ d·ª•ng Redis trong ·ª©ng d·ª•ng Node.js.\nH√£y kh√°m ph√° th√™m c√°c t√≠nh nƒÉng n√¢ng cao nh∆∞ giao d·ªãch, scripting Lua, v√† clustering khi b·∫°n ƒë√£ quen thu·ªôc h∆°n v·ªõi Redis.\nRedis l√† m·ªôt c√¥ng c·ª• ƒëa nƒÉng c√≥ th·ªÉ n√¢ng cao ƒë√°ng k·ªÉ ·ª©ng d·ª•ng c·ªßa b·∫°n.",[15,1477,1478],{},[88,1479,1480],{},"Happy Coding",[1365,1482,522],{"id":1483},"_6-t√†i-nguy√™n-tham-kh·∫£o",[61,1485,1486,1492],{},[64,1487,1488],{},[25,1489,1491],{"href":1490,"target":1285},"https://redis.io/documentation","T√†i li·ªáu Redis",[64,1493,1494],{},[25,1495,1497],{"href":1496,"target":1285},"https://github.com/redis/ioredis","T√†i li·ªáu ioredis",{"title":333,"searchDepth":334,"depth":334,"links":1499},[1500,1501,1502,1503,1504,1505,1506,1507,1508,1509,1510,1511],{"id":1367,"depth":334,"text":462},{"id":1375,"depth":334,"text":467},{"id":1383,"depth":334,"text":472},{"id":1391,"depth":334,"text":477},{"id":1399,"depth":334,"text":482},{"id":1407,"depth":334,"text":487},{"id":1433,"depth":334,"text":497},{"id":1444,"depth":334,"text":502},{"id":1457,"depth":334,"text":507},{"id":1465,"depth":334,"text":512},{"id":295,"depth":334,"text":517},{"id":1483,"depth":334,"text":522},"T√¨m hi·ªÉu c√°c kh√°i ni·ªám c∆° b·∫£n v·ªÅ Redis bao g·ªìm c√°c ki·ªÉu d·ªØ li·ªáu v√† ph∆∞∆°ng th·ª©c, c≈©ng nh∆∞ c√°ch t√≠ch h·ª£p Redis v√†o ·ª©ng d·ª•ng Node.js ƒë·ªÉ s·ª≠ d·ª•ng b·ªô nh·ªõ ƒë·ªám v√† c√°c t√≠nh nƒÉng th·ªùi gian th·ª±c.","/images/blog/basic-redis/banner.webp","redis, nodejs, cache, in-memory database",{},{"title":452,"description":1512},"blog/basic-redis",[1519],"redis","3d0XvNroUY6-txkS2aldMngWhf075Own2Hqsb5sjDmM",{"id":1522,"title":527,"body":1523,"date":856,"description":1617,"extension":338,"image":1618,"keywords":1619,"meta":1620,"navigation":342,"path":526,"published":342,"seo":1621,"stem":1622,"tags":1623,"__hash__":1625},"blog/blog/common-docker-file.md",{"type":7,"value":1524,"toc":1610},[1525,1529,1532,1537,1542,1545,1548,1551,1558,1561,1564,1567,1572,1575,1578,1590,1593,1596,1599,1602],[15,1526,1527],{},[88,1528,527],{},[15,1530,1531],{},"Docker l√† m·ªôt c√¥ng c·ª• ·∫£o h√≥a nh·∫π gi√∫p ph√°t tri·ªÉn, tri·ªÉn khai v√† ch·∫°y ·ª©ng d·ª•ng trong c√°c container. N√≥ cho ph√©p b·∫°n ƒë√≥ng g√≥i ·ª©ng d·ª•ng v√† t·∫•t c·∫£ c√°c ph·ª• thu·ªôc c·ªßa n√≥ v√†o m·ªôt container duy nh·∫•t, gi√∫p d·ªÖ d√†ng tri·ªÉn khai tr√™n b·∫•t k·ª≥ m√¥i tr∆∞·ªùng n√†o m√† kh√¥ng c·∫ßn lo l·∫Øng v·ªÅ s·ª± kh√°c bi·ªát gi·ªØa c√°c m√¥i tr∆∞·ªùng.",[51,1533,1534],{"type":53},[15,1535,1536],{},"ƒê√¢y l√† m·ªôt s·ªë Dockerfile cho c√°c d·ª± √°n th∆∞·ªùng g·∫∑p, b·∫°n c√≥ th·ªÉ tham kh·∫£o v√† ƒëi·ªÅu ch·ªânh theo nhu c·∫ßu c·ªßa m√¨nh.",[15,1538,1539,1540],{},"N·ªôi dung b√†i vi·∫øt ƒë∆∞·ª£c t·ªïng h·ª£p v√† t√≠ch g√≥p t·ª´ nhi·ªÅu ngu·ªìn kh√°c nhau, bao g·ªìm c·∫£ c√°c d·ª± √°n th·ª±c t·∫ø m√† m√¨nh ƒë√£ l√†m.\n",[83,1541],{},[1365,1543,532],{"id":1544},"dockerfile-cho-nodejs",[15,1546,1547],{},"Dockerfile cho Node.js r·∫•t quan tr·ªçng khi tri·ªÉn khai ·ª©ng d·ª•ng JavaScript ph√≠a server. ƒê√¢y l√† m·ªôt Dockerfile ƒë√£ ƒë∆∞·ª£c t·ªëi ∆∞u cho m·ªôt d·ª± √°n Node.js ƒëi·ªÉn h√¨nh:",[102,1549],{":files":1550},"[{\"title\":\"Dockerfile\",\"language\":\"dockerfile\",\"content\":\"FROM node:10-alpine\\n\\nRUN mkdir -p /home/node/app/node_modules && chown -R node:node /home/node/app\\nWORKDIR /home/node/app\\nCOPY package*.json ./\\nUSER node\\nRUN npm install\\nCOPY --chown=node:node . .\\n\\nEXPOSE 8080\\nCMD [ \\\"node\\\", \\\"app.js\\\" ]\\n\"}]",[15,1552,1553,1554,1557],{},"C√°ch 2, s·ª≠ d·ª•ng ",[38,1555,1556],{},"pm2",". V·ªÅ c∆° b·∫£n th√¨ c√°ch n√†y nh·∫π h∆°n kha kh√° so v·ªõi npm",[102,1559],{":files":1560},"[{\"title\":\"Dockerfile\",\"language\":\"dockerfile\",\"content\":\"# Stage 1: Build\\nFROM node:18-alpine AS build\\n\\nWORKDIR /app\\n\\nCOPY package*.json ./\\n\\nRUN npm ci --only=production\\n\\nCOPY . .\\n\\nRUN npm run build\\n\\n# Stage 2: Run\\nFROM node:18-alpine\\n\\nRUN npm install -g pm2\\n\\nWORKDIR /app\\nCOPY --from=build /app/node_modules ./node_modules\\nCOPY --from=build /app .\\n\\nENV NODE_ENV=production\\nENV PORT=3000\\n\\nEXPOSE 3000\\nCMD [\\\"pm2-runtime\\\", \\\"start\\\", \\\"server.js\\\"]\\n\"}]",[1365,1562,537],{"id":1563},"dockerfile-reactjs",[15,1565,1566],{},"C√≥ th·ªÉ s·ª≠ d·ª•ng Dockerfile n√†y cho c√°c d·ª± √°n nh∆∞ Vue, Angular,...",[15,1568,1569,1571],{},[88,1570,747],{}," ·ªü ƒë√¢y th∆∞ m·ª•c ch·ª©a nginx/nginx.conf ƒë·∫∑t c√πng c·∫•p v·ªõi Dockerfile",[102,1573],{":files":1574},"[{\"title\":\"Dockerfile\",\"language\":\"dockerfile\",\"content\":\"## build stage ##\\nFROM node:18.18-alpine as build\\nWORKDIR /app\\nCOPY . .\\nRUN npm install\\nRUN npm run build\\n\\n## run stage ##\\nFROM nginx:alpine\\nRUN mkdir /run\\nCOPY --from=build /app/build /run\\nCOPY nginx.conf /etc/nginx/nginx.conf\\n\"},{\"title\":\"nginx.conf\",\"language\":\"nginx\",\"content\":\"user  nginx;\\nworker_processes  1;\\nerror_log  /var/log/nginx/error.log warn;\\npid        /var/run/nginx.pid;\\nevents {\\n  worker_connections  1024;\\n}\\nhttp {\\n  include       /etc/nginx/mime.types;\\n  default_type  application/octet-stream;\\n  log_format  main  '$remote_addr - $remote_user [$time_local] \\\"$request\\\" '\\n                    '$status $body_bytes_sent \\\"$http_referer\\\" '\\n                    '\\\"$http_user_agent\\\" \\\"$http_x_forwarded_for\\\"';\\n  access_log  /var/log/nginx/access.log  main;\\n  sendfile        on;\\n  keepalive_timeout  65;\\n  server {\\n    listen       80;\\n    server_name  webclient;\\n    location / {\\n      root   /run;\\n      index  index.html;\\n      try_files $uri $uri/ /index.html;\\n    }\\n    error_page   500 502 503 504  /50x.html;\\n    location = /50x.html {\\n      root   /usr/share/nginx/html;\\n    }\\n  }\\n}\\n\"}]",[1365,1576,542],{"id":1577},"dockerfile-cho-php-v·ªõi-laravel",[15,1579,1580,1582,1583,45,1586,1589],{},[88,1581,747],{}," th∆∞ m·ª•c ",[88,1584,1585],{},"conf/nginx.conf",[88,1587,1588],{},"conf/supervisord.conf"," c√πng c·∫•p v·ªõi Dockerfile",[102,1591],{":files":1592},"[{\"title\":\"Dockerfile\",\"language\":\"dockerfile\",\"content\":\"# Stage 1: Composer Dependencies\\nFROM composer:2 AS composer\\n\\nWORKDIR /app\\nCOPY composer.json composer.lock ./\\n\\nRUN composer install --no-dev --optimize-autoloader --no-interaction\\n\\n# Stage 2: Build\\nFROM php:8.2-fpm-alpine AS php\\n\\nWORKDIR /var/www/html\\nCOPY --from=composer /app/vendor ./vendor\\nCOPY . .\\n\\nRUN apk add --no-cache \\\\\\n        libzip-dev \\\\\\n        libpng-dev \\\\\\n        libjpeg-turbo-dev \\\\\\n        freetype-dev \\\\\\n        && docker-php-ext-configure gd --with-freetype --with-jpeg \\\\\\n        && docker-php-ext-install -j$(nproc) gd pdo_mysql zip opcache\\n\\nRUN { \\\\\\n        echo 'opcache.enable=1'; \\\\\\n        echo 'opcache.revalidate_freq=0'; \\\\\\n        echo 'opcache.validate_timestamps=1'; \\\\\\n        echo 'opcache.max_accelerated_files=10000'; \\\\\\n        echo 'opcache.memory_consumption=192'; \\\\\\n        echo 'opcache.max_wasted_percentage=10'; \\\\\\n        echo 'opcache.interned_strings_buffer=16'; \\\\\\n        echo 'opcache.fast_shutdown=1'; \\\\\\n    } > /usr/local/etc/php/conf.d/opcache-recommended.ini\\n\\nRUN chown -R www-data:www-data /var/www/html/storage /var/www/html/bootstrap/cache\\n\\n# Stage 3: Nginx v√† Supervisord\\nFROM nginx:alpine AS nginx\\n\\nWORKDIR /var/www/html\\nCOPY --from=php /var/www/html /var/www/html\\nCOPY conf/nginx.conf /etc/nginx/conf.d/default.conf\\n\\nRUN apk add --no-cache supervisor\\n\\nCOPY conf/supervisord.conf /etc/supervisor/conf.d/supervisord.conf\\n\\nEXPOSE 80\\nCMD [\\\"supervisord\\\", \\\"-c\\\", \\\"/etc/supervisor/conf.d/supervisord.conf\\\"]\\n\"},{\"title\":\"nginx.conf\",\"language\":\"nginx\",\"content\":\"server {\\n  listen 80;\\n  server_name localhost;\\n\\n  root /var/www/html/public;\\n  index index.php index.html index.htm;\\n\\n  location / {\\n      try_files $uri $uri/ /index.php?$query_string;\\n  }\\n\\n  location ~ \\\\.php$ {\\n      include fastcgi_params;\\n      fastcgi_pass 127.0.0.1:9000;\\n      fastcgi_index index.php;\\n      fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;\\n  }\\n\\n  location ~ /\\\\.ht {\\n      deny all;\\n  }\\n\\n  error_log /var/log/nginx/error.log;\\n  access_log /var/log/nginx/access.log;\\n}\\n\"},{\"title\":\"conf/supervisord.conf\",\"language\":\"ini\",\"content\":\"[supervisord]\\nnodaemon=true\\n\\n[program:php-fpm]\\ncommand=php-fpm\\nautostart=true\\nautorestart=true\\nstderr_logfile=/var/log/php-fpm.err.log\\nstdout_logfile=/var/log/php-fpm.out.log\\n\\n[program:nginx]\\ncommand=nginx -g \\\"daemon off;\\\"\\nautostart=true\\nautorestart=true\\nstderr_logfile=/var/log/nginx.err.log\\nstdout_logfile=/var/log/nginx.out.log\\n\"}]",[1365,1594,547],{"id":1595},"dockerfile-cho-nextjs",[102,1597],{":files":1598},"[{\"title\":\"Dockerfile\",\"language\":\"dockerfile\",\"content\":\"FROM node:18-alpine AS base\\n\\nFROM base AS deps\\nRUN apk add --no-cache libc6-compat\\nWORKDIR /app\\n\\nCOPY package.json yarn.lock* package-lock.json* pnpm-lock.yaml* ./\\nRUN npm install\\nFROM base AS builder\\nWORKDIR /app\\nCOPY --from=deps /app/node_modules ./node_modules\\nCOPY . .\\nRUN npm run build\\n\\n\\nFROM base AS runner\\nWORKDIR /app\\n\\nENV NODE_ENV production\\n\\nRUN addgroup --system --gid 1001 nodejs\\nRUN adduser --system --uid 1001 nextjs\\n\\nCOPY --from=builder /app/public ./public\\n\\nRUN mkdir .next\\nRUN chown nextjs:nodejs .next\\n\\nCOPY --from=builder --chown=nextjs:nodejs /app/.next/standalone ./\\nCOPY --from=builder --chown=nextjs:nodejs /app/.next/static ./.next/static\\n\\nUSER nextjs\\n\\nEXPOSE 3000\\n\\nENV PORT 3000\\nENV HOSTNAME \\\"0.0.0.0\\\"\\n\\nCMD [\\\"node\\\", \\\"server.js\\\"]\\n\"}]",[1365,1600,551],{"id":1601},"tham-kh·∫£o",[15,1603,1604,1605],{},"M·ªôt s·ªë Dockerfile ƒë∆∞·ª£c tham kh·∫£o t·ª´ ",[25,1606,1609],{":target":1285,"href":1607,"rel":1608},"https://elroydevops.tech/mau-dockerfile-cac-du-an/",[29],"Devops Edu",{"title":333,"searchDepth":334,"depth":334,"links":1611},[1612,1613,1614,1615,1616],{"id":1544,"depth":334,"text":532},{"id":1563,"depth":334,"text":537},{"id":1577,"depth":334,"text":542},{"id":1595,"depth":334,"text":547},{"id":1601,"depth":334,"text":551},"T√¨m hi·ªÉu v·ªÅ Docker v√† kh√°m ph√° c√°c Dockerfile ph·ªï bi·∫øn cho nhi·ªÅu d·ª± √°n nh∆∞ Node.js, PHP v·ªõi Laravel, React, Vue, Nuxt v√† Next.js. Kh√°m ph√° c√°c k·ªπ thu·∫≠t t·ªëi ∆∞u v√† th·ª±c h√†nh t·ªët nh·∫•t.","/images/blog/common-docker-file/banner.webp","docker, dockerfile, file docker m·∫´u, dockerfile cho nodejs, dockerfile cho php, dockerfile cho react, dockerfile cho vue, dockerfile cho nuxt, dockerfile cho next",{},{"title":527,"description":1617},"blog/common-docker-file",[1624],"docker","CUzxmfILXnmQZUL9yB6i6Ie749cZRj4kA_32hthALuQ",{"id":4,"title":5,"body":1627,"date":336,"description":337,"extension":338,"image":339,"keywords":340,"meta":1838,"navigation":342,"path":343,"published":342,"seo":1839,"stem":345,"tags":1840,"__hash__":348},{"type":7,"value":1628,"toc":1836},[1629,1631,1633,1640,1642,1650,1654,1656,1670,1672,1676,1682,1684,1686,1692,1702,1704,1706,1718,1720,1724,1726,1728,1730,1732,1742,1744,1746,1754,1760,1762,1764,1776,1780,1785,1787,1789,1803,1805,1807,1809,1811,1815,1817,1819],[10,1630,13],{"id":12},[15,1632,17],{},[15,1634,1635],{},[21,1636,23,1637],{},[25,1638,27],{"href":27,"rel":1639},[29],[10,1641,33],{"id":32},[15,1643,36,1644,41,1646,45,1648,49],{},[38,1645,40],{},[38,1647,44],{},[38,1649,48],{},[51,1651,1652],{"type":53},[15,1653,56],{},[15,1655,59],{},[61,1657,1658,1662,1666],{},[64,1659,66,1660],{},[38,1661,69],{},[64,1663,72,1664],{},[38,1665,75],{},[64,1667,78,1668],{},[38,1669,81],{},[83,1671],{},[15,1673,1674],{},[88,1675,90],{},[61,1677,1678],{},[64,1679,1680,97],{},[88,1681,40],{},[15,1683,100],{},[102,1685],{":files":104},[61,1687,1688],{},[64,1689,1690,111],{},[88,1691,44],{},[51,1693,1694],{"type":53},[15,1695,116,1696,41,1698,41,1700,126],{},[38,1697,119],{},[38,1699,122],{},[38,1701,125],{},[15,1703,129],{},[102,1705],{":files":132},[61,1707,1708],{},[64,1709,1710,139,1712,45,1714,144,1716],{},[88,1711,48],{},[38,1713,40],{},[38,1715,44],{},[102,1717],{":files":147},[10,1719,151],{"id":150},[15,1721,154,1722,158],{},[38,1723,157],{},[15,1725,161],{},[102,1727],{":files":164},[15,1729,167],{},[102,1731],{":files":170},[15,1733,173,1734,45,1736,178,1738,45,1740,183],{},[38,1735,40],{},[38,1737,44],{},[38,1739,40],{},[38,1741,44],{},[15,1743,186],{},[102,1745],{":files":189},[15,1747,192,1748,196,1750,200,1752,204],{},[38,1749,195],{},[38,1751,199],{},[38,1753,203],{},[15,1755,207,1756,211,1758,215],{},[38,1757,210],{},[38,1759,214],{},[15,1761,218],{},[102,1763],{":files":221},[15,1765,224,1766,228,1768,45,1770,235,1772,238,1774,241],{},[38,1767,227],{},[38,1769,231],{},[38,1771,234],{},[38,1773,231],{},[38,1775,234],{},[51,1777,1778],{"type":244},[15,1779,247],{},[15,1781,250,1782,256],{},[25,1783,255],{"href":253,"rel":1784},[29],[10,1786,260],{"id":259},[15,1788,263],{},[265,1790,1791,1793,1795],{},[64,1792,269],{},[64,1794,272],{},[64,1796,275,1797],{},[61,1798,1799,1801],{},[64,1800,280],{},[64,1802,283],{},[102,1804],{":files":286},[15,1806,289],{},[102,1808],{":files":292},[10,1810,296],{"id":295},[15,1812,299,1813,302],{},[38,1814,157],{},[15,1816,305],{},[10,1818,309],{"id":308},[61,1820,1821,1826,1831],{},[64,1822,1823],{},[25,1824,318],{"href":316,"rel":1825},[29],[64,1827,1828],{},[25,1829,325],{"href":323,"rel":1830},[29],[64,1832,1833],{},[25,1834,157],{"href":330,"rel":1835},[29],{"title":333,"searchDepth":334,"depth":334,"links":1837},[],{},{"title":5,"description":337},[347],{"id":1842,"title":582,"body":1843,"date":2023,"description":584,"extension":338,"image":2024,"keywords":2025,"meta":2026,"navigation":342,"path":581,"published":342,"seo":2027,"stem":2028,"tags":2029,"__hash__":2032},"blog/blog/use-effect-and-use-layout-effect.md",{"type":7,"value":1844,"toc":2017},[1845,1848,1856,1858,1861,1867,1882,1887,1904,1909,1920,1924,1938,1943],[10,1846,587],{"id":1847},"useeffect-v√†-uselayouteffect-trong-react",[15,1849,1850,1851,45,1853,1855],{},"React cung c·∫•p hai hook m·∫°nh m·∫Ω ƒë·ªÉ x·ª≠ l√Ω hi·ªáu ·ª©ng ph·ª•: ",[38,1852,596],{},[38,1854,602],{},". Tuy ch√∫ng c√≥ c√∫ ph√°p gi·ªëng nhau, nh∆∞ng c√°ch ch√∫ng ho·∫°t ƒë·ªông kh√°c bi·ªát v√† ·∫£nh h∆∞·ªüng tr·ª±c ti·∫øp ƒë·∫øn tr·∫£i nghi·ªám ng∆∞·ªùi d√πng c≈©ng nh∆∞ hi·ªáu su·∫•t c·ªßa ·ª©ng d·ª•ng.",[715,1857],{},[1365,1859,592],{"id":1860},"t√≥m-t·∫Øt-quy-tr√¨nh-th·ª±c-thi",[1862,1863,1865],"h3",{"id":1864},"useeffect",[38,1866,596],{},[61,1868,1869,1875],{},[64,1870,1871,1872,183],{},"Ch·∫°y ",[88,1873,1874],{},"sau khi React c·∫≠p nh·∫≠t DOM xong v√† render UI xong",[64,1876,1877,1878,1881],{},"Th√≠ch h·ª£p cho c√°c ",[88,1879,1880],{},"t√°c v·ª• kh√¥ng ·∫£nh h∆∞·ªüng tr·ª±c ti·∫øp ƒë·∫øn layout",", nh∆∞ g·ªçi API, ƒëƒÉng k√Ω s·ª± ki·ªán, log, animation nh·∫π‚Ä¶",[15,1883,1884],{},[88,1885,1886],{},"Quy tr√¨nh:",[265,1888,1889,1892,1895,1898,1901],{},[64,1890,1891],{},"C·∫≠p nh·∫≠t l·∫°i state",[64,1893,1894],{},"C·∫≠p nh·∫≠t DOM (mutated)",[64,1896,1897],{},"React render l·∫°i UI",[64,1899,1900],{},"Clean up n·∫øu c√≥",[64,1902,1903],{},"G·ªçi useEffect callback",[1862,1905,1907],{"id":1906},"uselayouteffect",[38,1908,602],{},[61,1910,1911,1917],{},[64,1912,1913,1914,183],{},"Ch·∫°y ngay sau khi DOM ƒë∆∞·ª£c c·∫≠p nh·∫≠t, nh∆∞ng ",[88,1915,1916],{},"tr∆∞·ªõc khi browser v·∫Ω l·∫°i giao di·ªán (paint)",[64,1918,1919],{},"D√πng khi b·∫°n c·∫ßn ƒëo l∆∞·ªùng DOM, thay ƒë·ªïi layout ho·∫∑c ngƒÉn nh·∫•p nh√°y giao di·ªán.",[15,1921,1922],{},[88,1923,1886],{},[265,1925,1926,1928,1930,1933,1936],{},[64,1927,1891],{},[64,1929,1894],{},[64,1931,1932],{},"Clean up n·∫øu dependencies thay ƒë·ªïi",[64,1934,1935],{},"G·ªçi useLayoutEffect callback",[64,1937,1897],{},[15,1939,1940],{},[88,1941,1942],{},"Khi n√†o d√πng c√°i n√†o?",[1944,1945,1946,1959],"table",{},[1947,1948,1949],"thead",{},[1950,1951,1952,1956],"tr",{},[1953,1954,1955],"th",{},"T√¨nh hu·ªëng",[1953,1957,1958],{},"N√™n d√πng",[1960,1961,1962,1972,1981,1990,1999,2008],"tbody",{},[1950,1963,1964,1968],{},[1965,1966,1967],"td",{},"G·ªçi API, thao t√°c kh√¥ng ·∫£nh h∆∞·ªüng layout",[1965,1969,1970],{},[38,1971,596],{},[1950,1973,1974,1977],{},[1965,1975,1976],{},"ƒêo k√≠ch th∆∞·ªõc DOM, scroll, position",[1965,1978,1979],{},[38,1980,602],{},[1950,1982,1983,1986],{},[1965,1984,1985],{},"C·∫≠p nh·∫≠t class, focus v√†o input",[1965,1987,1988],{},[38,1989,602],{},[1950,1991,1992,1995],{},[1965,1993,1994],{},"Hi·ªáu ·ª©ng animation nh·∫π sau render",[1965,1996,1997],{},[38,1998,596],{},[1950,2000,2001,2004],{},[1965,2002,2003],{},"NgƒÉn nh√°y layout (flicker) khi hi·ªÉn th·ªã components",[1965,2005,2006],{},[38,2007,602],{},[1950,2009,2010,2013],{},[1965,2011,2012],{},"C·∫≠p nh·∫≠t DOM tr∆∞·ªõc khi browser v·∫Ω l·∫°i",[1965,2014,2015],{},[38,2016,602],{},{"title":333,"searchDepth":334,"depth":334,"links":2018},[2019],{"id":1860,"depth":334,"text":592,"children":2020},[2021,2022],{"id":1864,"depth":599,"text":596},{"id":1906,"depth":599,"text":602},"2025-05-06T00:00:00.000Z","/images/blog/use-effect-and-use-layout-effect/banner.webp","react, useEffect, useLayoutEffect, react hooks, hi·ªáu nƒÉng react",{},{"title":582,"description":584},"blog/use-effect-and-use-layout-effect",[2030,2031],"react","hooks","HXO6Sisd7tUFKWbj14nolEED4VvAwDgBBQlMW2pMGXc",{"id":637,"title":607,"body":2034,"date":336,"description":609,"extension":338,"image":694,"keywords":695,"meta":2075,"navigation":342,"path":606,"published":342,"seo":2076,"stem":698,"tags":2077,"__hash__":700},{"type":7,"value":2035,"toc":2073},[2036,2038,2059,2061,2065,2067],[10,2037,612],{"id":642},[61,2039,2040,2047,2051,2055],{},[64,2041,2042,650,2044,656],{},[38,2043,649],{},[25,2045,655],{"href":653,"rel":2046},[29],[64,2048,2049,662],{},[38,2050,661],{},[64,2052,2053,668],{},[38,2054,667],{},[64,2056,2057,674],{},[38,2058,673],{},[10,2060,617],{"id":677},[61,2062,2063],{},[64,2064,619],{},[10,2066,622],{"id":684},[61,2068,2069],{},[64,2070,624,2071],{},[102,2072],{":files":691},{"title":333,"searchDepth":334,"depth":334,"links":2074},[],{},{"title":607,"description":609},[347],{"id":2079,"title":627,"body":2080,"date":2023,"description":629,"extension":338,"image":2122,"keywords":2123,"meta":2124,"navigation":342,"path":626,"published":342,"seo":2125,"stem":2126,"tags":2127,"__hash__":2129},"blog/blog/useful-script.md",{"type":7,"value":2081,"toc":2120},[2082,2085,2090,2097,2100,2108,2111,2114,2117],[10,2083,632],{"id":2084},"n√©n-·∫£nh-v√†-convert-·∫£nh-sang-ƒë·ªãnh-d·∫°ng-webp",[61,2086,2087],{},[64,2088,2089],{},"C√†i ƒë·∫∑t cwebp",[15,2091,2092,2093],{},"ƒê·ªëi v·ªõi window th√¨ c√≥ th·ªÉ xem h∆∞·ªõng d·∫´n t·∫°i: ",[25,2094,2095],{"href":2095,"rel":2096},"https://developers.google.com/speed/webp/download?hl=vi",[29],[102,2098],{":files":2099},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"# C√†i ƒë·∫∑t cwebp tr√™n Ubuntu\\nsudo apt-get install webp\\n# C√†i ƒë·∫∑t cwebp tr√™n MacOS\\nbrew install webp\\n\"}]",[61,2101,2102],{},[64,2103,2104,2105],{},"Script n√©n ·∫£nh",[102,2106],{":files":2107},"[{\"title\":\"compress-image.sh\",\"language\":\"bash\",\"content\":\"#!/bin/bash\\n# Ki·ªÉm tra ƒë·ªëi s·ªë ƒë·∫ßu v√†o\\nif [ -z \\\"$1\\\" ]; then\\n  echo \\\"‚ùå Vui l√≤ng cung c·∫•p ƒë∆∞·ªùng d·∫´n file ·∫£nh.\\\"\\n  echo \\\"üëâ V√≠ d·ª•: ./compress-local-image.sh ./image.png\\\"\\n  exit 1\\nfi\\n\\nINPUT=\\\"$1\\\"\\n\\n# Ki·ªÉm tra file t·ªìn t·∫°i\\nif [ ! -f \\\"$INPUT\\\" ]; then\\n  echo \\\"‚ùå File kh√¥ng t·ªìn t·∫°i: $INPUT\\\"\\n  exit 1\\nfi\\n\\n# L·∫•y t√™n file\\nBASENAME=$(basename \\\"$INPUT\\\")\\nFILENAME=\\\"${BASENAME%.*}\\\"\\nEXT=\\\"${BASENAME##*.}\\\"\\n\\n# N√©n v√† chuy·ªÉn sang WebP\\necho \\\"üîÑ ƒêang n√©n v√† chuy·ªÉn sang WebP...\\\"\\ncwebp -q 80 \\\"$INPUT\\\" -o \\\"${FILENAME}.webp\\\"\\n\\necho \\\"‚úÖ ƒê√£ t·∫°o file: ${FILENAME}.webp\\\"\\n\"}]",[15,2109,2110],{},"Sau khi t·∫°o xong file, c·∫ßn ph·∫£i g√°n quy·ªÅn th·ª±c thi cho file script b·∫±ng l·ªánh sau:",[102,2112],{":files":2113},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"chmod +x compress-image.sh\\n\"}]",[15,2115,2116],{},"Sau ƒë√≥ c√≥ th·ªÉ ch·∫°y script ƒë·ªÉ c√≥ th·ªÉ th·ª±c hi·ªán n√©n ·∫£nh v√† chuy·ªÉn ƒë·ªïi sang ƒë·ªãnh d·∫°ng webp.",[102,2118],{":files":2119},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"./compress-image.sh ./image.png\\n\"}]",{"title":333,"searchDepth":334,"depth":334,"links":2121},[],"/images/blog/useful-script/banner.webp","scripts, useful scripts",{},{"title":627,"description":629},"blog/useful-script",[2128],"scripts","p2CPfckDeoI2knSQ-ynr8rSQk_PPFQZKh6qH2TkcMP0",1763954609868]