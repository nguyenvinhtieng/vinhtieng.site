[{"data":1,"prerenderedAt":1247},["ShallowReactive",2],{"blog-common-docker-file":3,"search":125,"related-posts-common-docker-file":348,"all-post":349},{"id":4,"title":5,"body":6,"date":113,"description":114,"extension":115,"image":116,"meta":117,"navigation":118,"path":119,"published":118,"seo":120,"stem":121,"tags":122,"__hash__":124},"blog/blog/common-docker-file.md","C√°c Dockerfile Ph·ªï Bi·∫øn Cho Nhi·ªÅu D·ª± √Ån Kh√°c Nhau",{"type":7,"value":8,"toc":102},"minimal",[9,15,18,25,28,33,36,40,44,47,50,54,57,60,64,67,70,74,77,80,84,87,89,93],[10,11,12],"p",{},[13,14,5],"strong",{},[10,16,17],{},"Docker l√† m·ªôt c√¥ng c·ª• ·∫£o h√≥a nh·∫π gi√∫p ph√°t tri·ªÉn, tri·ªÉn khai v√† ch·∫°y ·ª©ng d·ª•ng trong c√°c container. N√≥ cho ph√©p b·∫°n ƒë√≥ng g√≥i ·ª©ng d·ª•ng v√† t·∫•t c·∫£ c√°c ph·ª• thu·ªôc c·ªßa n√≥ v√†o m·ªôt container duy nh·∫•t, gi√∫p d·ªÖ d√†ng tri·ªÉn khai tr√™n b·∫•t k·ª≥ m√¥i tr∆∞·ªùng n√†o m√† kh√¥ng c·∫ßn lo l·∫Øng v·ªÅ s·ª± kh√°c bi·ªát gi·ªØa c√°c m√¥i tr∆∞·ªùng.",[19,20,22],"alert",{"type":21},"info",[10,23,24],{},"ƒê√¢y l√† m·ªôt s·ªë Dockerfile cho c√°c d·ª± √°n th∆∞·ªùng g·∫∑p, b·∫°n c√≥ th·ªÉ tham kh·∫£o v√† ƒëi·ªÅu ch·ªânh theo nhu c·∫ßu c·ªßa m√¨nh.",[26,27],"br",{},[29,30,32],"h2",{"id":31},"_1-dockerfile-cho-nodejs","1. Dockerfile cho Node.js",[10,34,35],{},"Dockerfile cho Node.js r·∫•t quan tr·ªçng khi tri·ªÉn khai ·ª©ng d·ª•ng JavaScript ph√≠a server. ƒê√¢y l√† m·ªôt Dockerfile ƒë√£ ƒë∆∞·ª£c t·ªëi ∆∞u cho m·ªôt d·ª± √°n Node.js ƒëi·ªÉn h√¨nh:",[37,38],"code-block",{":files":39},"[{\"title\":\"Dockerfile\",\"language\":\"dockerfile\",\"content\":\"FROM node:18-slim\\nWORKDIR /app\\nCOPY package*.json ./\\nRUN npm install --production\\nCOPY . .\\nEXPOSE 3000\\nCMD [\\\"node\\\", \\\"index.js\\\"]\\n\"}]",[29,41,43],{"id":42},"_2-dockerfile-cho-php-v·ªõi-laravel","2. Dockerfile cho PHP v·ªõi Laravel",[10,45,46],{},"Laravel l√† m·ªôt framework PHP ph·ªï bi·∫øn ƒë·ªÉ x√¢y d·ª±ng ·ª©ng d·ª•ng web. D∆∞·ªõi ƒë√¢y l√† Dockerfile cho m·ªôt d·ª± √°n Laravel:",[37,48],{":files":49},"[{\"title\":\"Dockerfile\",\"language\":\"dockerfile\",\"content\":\"FROM php:8.1-fpm-alpine\\nRUN apk add --no-cache libpng libjpeg-turbo libfreetype && \\\\\\n    docker-php-ext-configure gd --with-freetype --with-jpeg && \\\\\\n    docker-php-ext-install gd pdo pdo_mysql\\nWORKDIR /var/www\\nCOPY . .\\nRUN curl -sS https://getcomposer.org/installer | php -- --install-dir=/usr/local/bin --filename=composer\\nRUN composer install --optimize-autoloader --no-dev\\nEXPOSE 9000\\nCMD [\\\"php-fpm\\\"]\\n\"}]",[29,51,53],{"id":52},"_3-dockerfile-cho-react","3. Dockerfile cho React",[10,55,56],{},"React th∆∞·ªùng ƒë∆∞·ª£c t·∫°o b·∫±ng Create React App. ƒê√¢y l√† Dockerfile cho d·ª± √°n React:",[37,58],{":files":59},"[{\"title\":\"Dockerfile\",\"language\":\"dockerfile\",\"content\":\"FROM node:18-slim as build\\nWORKDIR /app\\nCOPY . .\\nRUN npm install\\nRUN npm run build\\n\\nFROM nginx:alpine\\nCOPY --from=build /app/build /usr/share/nginx/html\\nEXPOSE 80\\nCMD [\\\"nginx\\\", \\\"-g\\\", \\\"daemon off;\\\"]\\n\"}]",[29,61,63],{"id":62},"_4-dockerfile-cho-vue","4. Dockerfile cho Vue",[10,65,66],{},"Vue c≈©ng ƒë∆∞·ª£c x√¢y d·ª±ng t∆∞∆°ng t·ª± nh∆∞ React. D∆∞·ªõi ƒë√¢y l√† Dockerfile cho Vue:",[37,68],{":files":69},"[{\"title\":\"Dockerfile\",\"language\":\"dockerfile\",\"content\":\"FROM node:18-slim as build\\nWORKDIR /app\\nCOPY . .\\nRUN npm install\\nRUN npm run build\\n\\nFROM nginx:alpine\\nCOPY --from=build /app/dist /usr/share/nginx/html\\nEXPOSE 80\\nCMD [\\\"nginx\\\", \\\"-g\\\", \\\"daemon off;\\\"]\\n\"}]",[29,71,73],{"id":72},"_5-dockerfile-cho-nuxtjs","5. Dockerfile cho Nuxt.js",[10,75,76],{},"Nuxt.js l√† m·ªôt framework m·∫°nh m·∫Ω ƒë·ªÉ x√¢y d·ª±ng ·ª©ng d·ª•ng Vue. ƒê√¢y l√† Dockerfile cho d·ª± √°n Nuxt:",[37,78],{":files":79},"[{\"title\":\"Dockerfile\",\"language\":\"dockerfile\",\"content\":\"FROM node:18-slim as build\\nWORKDIR /app\\nCOPY . .\\nRUN npm install\\nRUN npm run build\\n\\nFROM node:18-slim\\nWORKDIR /app\\nCOPY --from=build /app /app\\nEXPOSE 3000\\nCMD [\\\"npm\\\", \\\"run\\\", \\\"start\\\"]\\n\"}]",[29,81,83],{"id":82},"_6-dockerfile-cho-nextjs","6. Dockerfile cho Next.js",[10,85,86],{},"Next.js l√† m·ªôt framework React ph·ªï bi·∫øn cho vi·ªác render ph√≠a server. ƒê√¢y l√† Dockerfile cho d·ª± √°n Next:",[37,88],{":files":79},[29,90,92],{"id":91},"ƒëang-c·∫≠p-nh·∫≠t","ƒêang c·∫≠p nh·∫≠t...",[10,94,95,96,101],{},"N·∫øu b·∫°n c√≥ c√°c c·∫•u h√¨nh ho·∫∑c Dockerfile kh√°c mu·ªën chia s·∫ª, vui l√≤ng g·ª≠i email v·ªÅ ",[97,98,100],"a",{"href":99},"mailto:vinhtieng123@gmail.com","vinhtieng123@gmail.com",". M√¨nh r·∫•t tr√¢n tr·ªçng ƒëi·ªÅu ƒë√≥.",{"title":103,"searchDepth":104,"depth":104,"links":105},"",2,[106,107,108,109,110,111,112],{"id":31,"depth":104,"text":32},{"id":42,"depth":104,"text":43},{"id":52,"depth":104,"text":53},{"id":62,"depth":104,"text":63},{"id":72,"depth":104,"text":73},{"id":82,"depth":104,"text":83},{"id":91,"depth":104,"text":92},"2025-04-25T00:00:00.000Z","T√¨m hi·ªÉu v·ªÅ Docker v√† kh√°m ph√° c√°c Dockerfile ph·ªï bi·∫øn cho nhi·ªÅu d·ª± √°n nh∆∞ Node.js, PHP v·ªõi Laravel, React, Vue, Nuxt v√† Next.js. Kh√°m ph√° c√°c k·ªπ thu·∫≠t t·ªëi ∆∞u v√† th·ª±c h√†nh t·ªët nh·∫•t.","md","/images/blog/common-docker-file/banner.png",{},true,"/blog/common-docker-file",{"title":5,"description":114},"blog/common-docker-file",[123],"docker","NfJI8ypf2V6yCkSfFemNtxpkkiktFDpWBXDLN1VHxos",[126,132,137,142,147,152,157,162,167,172,177,182,187,192,197,202,207,212,217,221,226,231,236,241,246,251,256,261,266,271,276,281,286,291,296,299,302,305,308,311,314,317,321,326,329,332,335,338,341,344],{"id":127,"title":128,"titles":129,"content":130,"level":131},"/blog/ansible","T·ªïng quan v√† c·∫•u h√¨nh Ansible",[],"H∆∞·ªõng d·∫´n chi ti·∫øt v·ªÅ c√†i ƒë·∫∑t, c·∫•u h√¨nh SSH, inventory v√† s·ª≠ d·ª•ng Playbook trong Ansible. H∆∞·ªõng d·∫´n chi ti·∫øt v·ªÅ c√†i ƒë·∫∑t v√† tri·ªÉn khai Ansible Ansible l√† m·ªôt c√¥ng c·ª• t·ª± ƒë·ªông h√≥a m·∫°nh m·∫Ω, gi√∫p qu·∫£n l√Ω c·∫•u h√¨nh, tri·ªÉn khai ·ª©ng d·ª•ng v√† ƒëi·ªÅu ph·ªëi h·ªá th·ªëng m·ªôt c√°ch d·ªÖ d√†ng. Trong b√†i vi·∫øt n√†y, ch√∫ng ta s·∫Ω t√¨m hi·ªÉu c√°ch c√†i ƒë·∫∑t, c·∫•u h√¨nh v√† s·ª≠ d·ª•ng Ansible th√¥ng qua c√°c v√≠ d·ª• th·ª±c t·∫ø.",1,{"id":133,"title":134,"titles":135,"content":136,"level":131},"/blog/ansible#Ô∏è-c√†i-ƒë·∫∑t-ansible","üõ†Ô∏è C√†i ƒë·∫∑t Ansible",[],"H∆∞·ªõng d·∫´n c√†i ƒë·∫∑t Ansible tr√™n Ubuntu: Sau khi c√†i ƒë·∫∑t, b·∫°n c√≥ th·ªÉ ki·ªÉm tra phi√™n b·∫£n Ansible:",{"id":138,"title":139,"titles":140,"content":141,"level":131},"/blog/ansible#c·∫•u-h√¨nh-ssh","üîë C·∫•u h√¨nh SSH",[],"ƒê·ªÉ Ansible c√≥ th·ªÉ k·∫øt n·ªëi ƒë·∫øn c√°c m√°y ch·ªß t·ª´ xa, b·∫°n c·∫ßn c·∫•u h√¨nh SSH. D∆∞·ªõi ƒë√¢y l√† c√°ch sao ch√©p SSH key ƒë·∫øn m√°y ch·ªß kh√°c: L∆∞u √Ω: Thay vinhtieng@123.3123.12 b·∫±ng t√™n ng∆∞·ªùi d√πng v√† ƒë·ªãa ch·ªâ IP c·ªßa m√°y ch·ªß t·ª´ xa.",{"id":143,"title":144,"titles":145,"content":146,"level":131},"/blog/ansible#hosts-inventory","üìã Hosts - Inventory",[],"File inventory l√† n∆°i b·∫°n ƒë·ªãnh nghƒ©a danh s√°ch c√°c m√°y ch·ªß m√† Ansible s·∫Ω qu·∫£n l√Ω. ƒê√¢y l√† m·ªôt v√≠ d·ª• c∆° b·∫£n:",{"id":148,"title":149,"titles":150,"content":151,"level":131},"/blog/ansible#ki·ªÉm-tra-k·∫øt-n·ªëi-ping","üèì Ki·ªÉm tra k·∫øt n·ªëi (Ping)",[],"B·∫°n c√≥ th·ªÉ ki·ªÉm tra k·∫øt n·ªëi ƒë·∫øn c√°c m√°y ch·ªß b·∫±ng l·ªánh ping: Ping v·ªõi file hosts m·∫∑c ƒë·ªãnh: Ping v·ªõi file inventory t√πy ch·ªânh:",{"id":153,"title":154,"titles":155,"content":156,"level":131},"/blog/ansible#playbook-task-module","üìú Playbook - Task - Module",[],"Playbook l√† n∆°i b·∫°n ƒë·ªãnh nghƒ©a c√°c t√°c v·ª• (tasks) c·∫ßn th·ª±c hi·ªán tr√™n c√°c m√°y ch·ªß. D∆∞·ªõi ƒë√¢y l√† c√°ch ch·∫°y m·ªôt playbook: V√≠ d·ª• v·ªÅ Playbook ƒë∆°n gi·∫£n:",{"id":158,"title":159,"titles":160,"content":161,"level":131},"/blog/ansible#t√†i-li·ªáu-tham-kh·∫£o","üìö T√†i li·ªáu tham kh·∫£o",[],"Ansible DocumentationAnsible GalaxyAnsible Playbook Guide T√≥m l·∫°i: Ansible l√† c√¥ng c·ª• m·∫°nh m·∫Ω gi√∫p t·ª± ƒë·ªông h√≥a c√°c t√°c v·ª• qu·∫£n tr·ªã h·ªá th·ªëng. Vi·ªác n·∫Øm v·ªØng c√°ch s·ª≠ d·ª•ng Ansible s·∫Ω gi√∫p b·∫°n ti·∫øt ki·ªám th·ªùi gian v√† gi·∫£m thi·ªÉu l·ªói trong qu√° tr√¨nh qu·∫£n l√Ω h·ªá th·ªëng.",{"id":163,"title":164,"titles":165,"content":166,"level":131},"/blog/basic-nginx","T·ªïng quan v√† c·∫•u h√¨nh n√¢ng cao Nginx",[],"H∆∞·ªõng d·∫´n chi ti·∫øt v·ªÅ c·∫•u h√¨nh m·∫∑c ƒë·ªãnh, PHP-FPM v√† thi·∫øt l·∫≠p Load Balancer v·ªõi Nginx. H∆∞·ªõng d·∫´n chi ti·∫øt v·ªÅ c·∫•u h√¨nh v√† tri·ªÉn khai Nginx Nginx l√† m·ªôt web server m√£ ngu·ªìn m·ªü m·∫°nh m·∫Ω, ƒë∆∞·ª£c s·ª≠ d·ª•ng ph·ªï bi·∫øn ƒë·ªÉ ph·ª•c v·ª• n·ªôi dung tƒ©nh, reverse proxy, c√¢n b·∫±ng t·∫£i, b·∫£o m·∫≠t v√† h·ªó tr·ª£ PHP th√¥ng qua FastCGI. Trong b√†i vi·∫øt n√†y, ch√∫ng ta s·∫Ω ƒëi qua c√°c c·∫•u h√¨nh t·ª´ c∆° b·∫£n ƒë·∫øn n√¢ng cao, bao g·ªìm: C√°ch c√†i ƒë·∫∑t NginxC·∫•u h√¨nh m√°y ch·ªß m·∫∑c ƒë·ªãnh (default host)T√≠ch h·ª£p v·ªõi PHP-FPMThi·∫øt l·∫≠p Load Balancer (c√¢n b·∫±ng t·∫£i)Gzip, HTTP/2, Rate limitingRedirect, RewritesHardening & SecurityLogging n√¢ng cao",{"id":168,"title":169,"titles":170,"content":171,"level":131},"/blog/basic-nginx#Ô∏è-c√†i-ƒë·∫∑t-nginx","üõ†Ô∏è C√†i ƒë·∫∑t Nginx",[],"H∆∞·ªõng d·∫´n c√†i ƒë·∫∑t Nginx tr√™n Ubuntu: Sau khi c√†i ƒë·∫∑t, b·∫°n c√≥ th·ªÉ ki·ªÉm tra tr·∫°ng th√°i Nginx: Ki·ªÉm tra t∆∞·ªùng l·ª≠a: Sau khi c√†i ƒë·∫∑t Nginx, b·∫°n n√™n ƒë·∫£m b·∫£o r·∫±ng t∆∞·ªùng l·ª≠a (firewall) cho ph√©p l∆∞u l∆∞·ª£ng HTTP v√† HTTPS ƒë·ªÉ m√°y ch·ªß c√≥ th·ªÉ ph·ª•c v·ª• n·ªôi dung web. L·ªánh sudo ufw allow 'Nginx Full' s·∫Ω m·ªü c·∫£ hai c·ªïng 80 (HTTP) v√† 443 (HTTPS).\nSau ƒë√≥, d√πng sudo ufw status ƒë·ªÉ x√°c nh·∫≠n r·∫±ng c√°c c·ªïng n√†y ƒë√£ ƒë∆∞·ª£c m·ªü. N·∫øu b·∫°n ch∆∞a b·∫≠t ufw (Uncomplicated Firewall), b·∫°n c√≥ th·ªÉ b·∫≠t b·∫±ng l·ªánh sudo ufw enable. Tuy nhi√™n, h√£y ƒë·∫£m b·∫£o c·∫•u h√¨nh ch√≠nh x√°c ƒë·ªÉ kh√¥ng b·ªã kh√≥a SSH. Ki·ªÉm tra ho·∫°t ƒë·ªông c·ªßa Nginx: M·ªü tr√¨nh duy·ªát v√† truy c·∫≠p ƒë·ªãa ch·ªâ:\nüëâ http://\u003Cƒë·ªãa_ch·ªâ_IP_c·ªßa_b·∫°n> ho·∫∑c http://localhost n·∫øu ki·ªÉm tra c·ª•c b·ªô. B·∫°n s·∫Ω th·∫•y trang m·∫∑c ƒë·ªãnh ‚ÄúWelcome to nginx!‚Äù n·∫øu m·ªçi th·ª© ho·∫°t ƒë·ªông ƒë√∫ng c√°ch.",{"id":173,"title":174,"titles":175,"content":176,"level":131},"/blog/basic-nginx#Ô∏è-c·∫•u-h√¨nh-default-host-trong-nginx","‚öôÔ∏è C·∫•u h√¨nh Default Host trong Nginx",[],"Tr√™n Ubuntu, file c·∫•u h√¨nh c·ªßa Nginx th∆∞·ªùng ƒë∆∞·ª£c l∆∞u t·∫°i c√°c v·ªã tr√≠ sau: /etc/nginx/sites-available/default (N·∫øu s·ª≠ d·ª•ng th∆∞ m·ª•c sites-available v√† sites-enabled)./etc/nginx/conf.d/default.conf (Th√¥ng d·ª•ng cho c√°c c·∫•u h√¨nh ƒë∆°n gi·∫£n). M·∫∑c ƒë·ªãnh, khi c√†i ƒë·∫∑t Nginx, s·∫Ω c√≥ m·ªôt file c·∫•u h√¨nh default trong th∆∞ m·ª•c /etc/nginx/sites-available/ v·ªõi m·ªôt s·ªë c·∫•u h√¨nh c∆° b·∫£n. B·∫°n c√≥ th·ªÉ s·ª≠a file n√†y ƒë·ªÉ c·∫•u h√¨nh server block cho website c·ªßa m√¨nh. C·∫•u h√¨nh Default Host M·ªü file c·∫•u h√¨nh Nginx m·∫∑c ƒë·ªãnh: M·∫∑c ƒë·ªãnh, Nginx s·∫Ω ch·ªçn block ƒë·∫ßu ti√™n khi kh√¥ng t√¨m th·∫•y server_name t∆∞∆°ng ·ª©ng. ƒê·ªÉ c·∫•u h√¨nh r√µ r√†ng host m·∫∑c ƒë·ªãnh, b·∫°n th√™m default_server v√†o d√≤ng listen: Ghi ch√∫: listen 80 default_server;: C·∫•u h√¨nh Nginx l·∫Øng nghe c·ªïng 80 (HTTP) v√† ƒë√°nh d·∫•u ƒë√¢y l√† default_server (server m·∫∑c ƒë·ªãnh cho c√°c y√™u c·∫ßu kh√¥ng kh·ªõp v·ªõi server block kh√°c).root /var/www/html;: ƒê∆∞·ªùng d·∫´n t·ªõi th∆∞ m·ª•c ch·ª©a c√°c t·ªáp tin c·ªßa website. B·∫°n c√≥ th·ªÉ thay ƒë·ªïi ƒë∆∞·ªùng d·∫´n n√†y th√†nh th∆∞ m·ª•c c·ªßa website b·∫°n mu·ªën ph·ª•c v·ª•.server_name _;: Ch·ªâ th·ªã n√†y cho ph√©p server ch·∫•p nh·∫≠n t·∫•t c·∫£ c√°c y√™u c·∫ßu kh√¥ng kh·ªõp v·ªõi server block kh√°c. N·∫øu b·∫°n c√≥ t√™n mi·ªÅn c·ª• th·ªÉ, h√£y thay th·∫ø d·∫•u g·∫°ch d∆∞·ªõi (_) b·∫±ng t√™n mi·ªÅn c·ªßa b·∫°n.location /: ƒê√¢y l√† ph·∫ßn c·∫•u h√¨nh ƒë·ªãnh tuy·∫øn cho c√°c y√™u c·∫ßu ƒë·∫øn. C·∫•u h√¨nh n√†y gi√∫p Nginx t√¨m ki·∫øm c√°c t·ªáp tin khi ng∆∞·ªùi d√πng truy c·∫≠p v√†o website.try_files $uri $uri/ =404;: N·∫øu y√™u c·∫ßu kh√¥ng tr√πng kh·ªõp v·ªõi t·ªáp tin ho·∫∑c th∆∞ m·ª•c, s·∫Ω tr·∫£ v·ªÅ l·ªói 404. Sau khi ch·ªânh s·ª≠a xong, b·∫°n c·∫ßn ki·ªÉm tra xem c·∫•u h√¨nh c√≥ ch√≠nh x√°c kh√¥ng: N·∫øu kh√¥ng c√≥ l·ªói n√†o, b·∫°n c√≥ th·ªÉ kh·ªüi ƒë·ªông l·∫°i Nginx ƒë·ªÉ √°p d·ª•ng c·∫•u h√¨nh m·ªõi: Gi·ªõi thi·ªáu v·ªÅ sites-available v√† sites-enabled Trong Nginx, th∆∞ m·ª•c sites-available v√† sites-enabled l√† m·ªôt c∆° ch·∫ø ƒë·ªÉ qu·∫£n l√Ω c√°c website (virtual hosts) m√† Nginx c√≥ th·ªÉ ph·ª•c v·ª•. C·∫•u tr√∫c n√†y gi√∫p d·ªÖ d√†ng b·∫≠t/t·∫Øt c√°c website m√† kh√¥ng c·∫ßn ph·∫£i x√≥a ho·∫∑c thay ƒë·ªïi c·∫•u h√¨nh tr·ª±c ti·∫øp. sites-available: ƒê√¢y l√† n∆°i b·∫°n t·∫°o v√† l∆∞u tr·ªØ t·∫•t c·∫£ c√°c file c·∫•u h√¨nh c·ªßa c√°c website ho·∫∑c ·ª©ng d·ª•ng m√† b·∫°n mu·ªën Nginx ph·ª•c v·ª•.M·ªói file c·∫•u h√¨nh trong sites-available ƒë·∫°i di·ªán cho m·ªôt website ho·∫∑c ·ª©ng d·ª•ng ri√™ng bi·ªát.V√≠ d·ª•: /etc/nginx/sites-available/example.com l√† c·∫•u h√¨nh cho website example.com. sites-enabled: ƒê√¢y l√† n∆°i ch·ª©a c√°c li√™n k·∫øt t∆∞·ª£ng tr∆∞ng (symlink) ƒë·∫øn c√°c file c·∫•u h√¨nh trong sites-available m√† b·∫°n mu·ªën Nginx th·ª±c thi.C√°c li√™n k·∫øt n√†y cho ph√©p Nginx bi·∫øt ƒë∆∞·ª£c website n√†o s·∫Ω ƒë∆∞·ª£c k√≠ch ho·∫°t.B·∫°n kh√¥ng n√™n tr·ª±c ti·∫øp ch·ªânh s·ª≠a c√°c file trong sites-enabled. Thay v√†o ƒë√≥, b·∫°n t·∫°o symlink t·ª´ sites-available. C√°ch th·ª©c ho·∫°t ƒë·ªông: Khi b·∫°n t·∫°o m·ªôt file c·∫•u h√¨nh trong sites-available, b·∫°n c√≥ th·ªÉ k√≠ch ho·∫°t n√≥ b·∫±ng c√°ch t·∫°o m·ªôt symlink ƒë·∫øn file ƒë√≥ trong th∆∞ m·ª•c sites-enabled.ƒê·ªÉ t·∫°o symlink, s·ª≠ d·ª•ng l·ªánh ln -s. V√≠ d·ª•, n·∫øu b·∫°n c√≥ c·∫•u h√¨nh example.com trong sites-available, b·∫°n c√≥ th·ªÉ t·∫°o symlink v√†o sites-enabled nh∆∞ sau:",{"id":178,"title":179,"titles":180,"content":181,"level":131},"/blog/basic-nginx#c·∫•u-h√¨nh-nginx-v·ªõi-php-fpm","üêò C·∫•u h√¨nh Nginx v·ªõi PHP-FPM",[],"ƒê·ªÉ x·ª≠ l√Ω c√°c file PHP, b·∫°n c·∫ßn k·∫øt n·ªëi Nginx v·ªõi PHP-FPM qua socket ho·∫∑c TCP: L∆∞u √Ω: ƒê∆∞·ªùng d·∫´n socket c√≥ th·ªÉ thay ƒë·ªïi t√πy phi√™n b·∫£n PHP.N·∫øu d√πng TCP:",{"id":183,"title":184,"titles":185,"content":186,"level":131},"/blog/basic-nginx#load-balancer-trong-nginx","üåê Load Balancer trong Nginx",[],"Nginx h·ªó tr·ª£ c·∫•u h√¨nh c√¢n b·∫±ng t·∫£i v·ªõi nhi·ªÅu thu·∫≠t to√°n l·ª±a ch·ªçn backend: round-robin: M·∫∑c ƒë·ªãnh, ph√¢n ph·ªëi ƒë·ªÅu cho c√°c request.least_conn: Ch·ªçn server √≠t k·∫øt n·ªëi nh·∫•t.ip_hash: Duy tr√¨ session cho client.least_time: ch·ªçn server c√≥ th·ªùi gian ph·∫£n h·ªìi √≠t nh·∫•t C√≥ th·ªÉ th√™m tr·ªçng s·ªë cho server b·∫±ng c√°ch th√™m s·ªë sau ip:port Ex: server 192.168.1.0:8000 weight=3; C·∫•u h√¨nh server block proxy ƒë·∫øn upstream:",{"id":188,"title":189,"titles":190,"content":191,"level":131},"/blog/basic-nginx#gzip-compression","üì¶ Gzip Compression",[],"B·∫≠t gzip gi√∫p tƒÉng t·ªëc ƒë·ªô t·∫£i trang b·∫±ng c√°ch n√©n n·ªôi dung tr·∫£ v·ªÅ:",{"id":193,"title":194,"titles":195,"content":196,"level":131},"/blog/basic-nginx#k√≠ch-ho·∫°t-http2","‚ö° K√≠ch ho·∫°t HTTP/2",[],"HTTP/2 c·∫£i thi·ªán hi·ªáu su·∫•t th√¥ng qua multiplexing v√† header compression:",{"id":198,"title":199,"titles":200,"content":201,"level":131},"/blog/basic-nginx#rate-limiting","üö¶ Rate Limiting",[],"Gi·ªõi h·∫°n s·ªë l∆∞·ª£ng request ƒë·ªÉ tr√°nh DDoS v√† abuse:",{"id":203,"title":204,"titles":205,"content":206,"level":131},"/blog/basic-nginx#redirect-v√†-rewrites","üîÅ Redirect v√† Rewrites",[],"Chuy·ªÉn h∆∞·ªõng to√†n b·ªô traffic HTTP sang HTTPS: Vi·∫øt l·∫°i URL cho SPA:",{"id":208,"title":209,"titles":210,"content":211,"level":131},"/blog/basic-nginx#hardening-security","üîê Hardening & Security",[],"B·∫£o v·ªá server b·∫±ng c√°ch t·ª´ ch·ªëi truy c·∫≠p file nh·∫°y c·∫£m: ·∫®n th√¥ng tin server: Ch·ªëng clickjacking v√† XSS:",{"id":213,"title":214,"titles":215,"content":216,"level":131},"/blog/basic-nginx#logging-n√¢ng-cao","üìä Logging n√¢ng cao",[],"C·∫•u h√¨nh custom log format ƒë·ªÉ d·ªÖ debug:",{"id":218,"title":159,"titles":219,"content":220,"level":131},"/blog/basic-nginx#t√†i-li·ªáu-tham-kh·∫£o",[],"Nginx DocumentationNginx Load Balancing GuideNginx + PHP-FPM SetupOWASP Nginx Hardening Guide T√≥m l·∫°i: Nginx l√† c√¥ng c·ª• c·ª±c k·ª≥ m·∫°nh m·∫Ω v√† linh ho·∫°t, kh√¥ng ch·ªâ gi·ªõi h·∫°n ·ªü web server m√† c√≤n l√† reverse proxy, caching layer, v√† load balancer. Vi·ªác n·∫Øm v·ªØng v√† khai th√°c t·ªët c√°c t√≠nh nƒÉng s·∫Ω gi√∫p h·ªá th·ªëng c·ªßa b·∫°n hi·ªáu su·∫•t cao, b·∫£o m·∫≠t v√† d·ªÖ m·ªü r·ªông. Ch√∫c b·∫°n tri·ªÉn khai th√†nh c√¥ng! üöÄ",{"id":222,"title":223,"titles":224,"content":225,"level":131},"/blog/basic-redis","C∆° B·∫£n V·ªÅ Redis v√† T√≠ch H·ª£p V·ªõi Node.js",[],"T√¨m hi·ªÉu c√°c kh√°i ni·ªám c∆° b·∫£n v·ªÅ Redis bao g·ªìm c√°c ki·ªÉu d·ªØ li·ªáu v√† ph∆∞∆°ng th·ª©c, c≈©ng nh∆∞ c√°ch t√≠ch h·ª£p Redis v√†o ·ª©ng d·ª•ng Node.js ƒë·ªÉ s·ª≠ d·ª•ng b·ªô nh·ªõ ƒë·ªám v√† c√°c t√≠nh nƒÉng th·ªùi gian th·ª±c. C∆° B·∫£n V·ªÅ Redis v√† T√≠ch H·ª£p V·ªõi Node.js Redis l√† m·ªôt kho d·ªØ li·ªáu key-value trong b·ªô nh·ªõ, m√£ ngu·ªìn m·ªü, n·ªïi ti·∫øng v·ªõi hi·ªáu su·∫•t v√† t√≠nh linh ho·∫°t. Redis h·ªó tr·ª£ nhi·ªÅu ki·ªÉu d·ªØ li·ªáu, ph√π h·ª£p cho vi·ªác s·ª≠ d·ª•ng b·ªô nh·ªõ ƒë·ªám, ·ª©ng d·ª•ng th·ªùi gian th·ª±c, h·ªá th·ªëng pub/sub, v√† nhi·ªÅu h∆°n n·ªØa. Trong h∆∞·ªõng d·∫´n n√†y, ch√∫ng ta s·∫Ω t√¨m hi·ªÉu: C√°c ki·ªÉu d·ªØ li·ªáu trong RedisC√°c l·ªánh ph·ªï bi·∫øn c·ªßa RedisC√°ch t√≠ch h·ª£p Redis v√†o d·ª± √°n Node.js",{"id":227,"title":228,"titles":229,"content":230,"level":131},"/blog/basic-redis#c√°c-ki·ªÉu-d·ªØ-li·ªáu-l·ªánh-redis","üì¶ C√°c Ki·ªÉu D·ªØ Li·ªáu & L·ªánh Redis",[],"Redis h·ªó tr·ª£ nhi·ªÅu c·∫•u tr√∫c d·ªØ li·ªáu kh√°c nhau:",{"id":232,"title":233,"titles":234,"content":235,"level":104},"/blog/basic-redis#_1-chu·ªói-strings","1. Chu·ªói (Strings)",[228],"Chu·ªói l√† ki·ªÉu d·ªØ li·ªáu c∆° b·∫£n nh·∫•t trong Redis. B·∫°n c√≥ th·ªÉ l∆∞u tr·ªØ b·∫•t k·ª≥ gi√° tr·ªã n√†o d∆∞·ªõi d·∫°ng chu·ªói, bao g·ªìm c·∫£ s·ªë nguy√™n v√† JSON ƒë∆∞·ª£c tu·∫ßn t·ª± h√≥a.",{"id":237,"title":238,"titles":239,"content":240,"level":104},"/blog/basic-redis#_2-danh-s√°ch-lists","2. Danh s√°ch (Lists)",[228],"Danh s√°ch l√† c√°c t·∫≠p h·ª£p c√≥ th·ª© t·ª± c·ªßa chu·ªói. B·∫°n c√≥ th·ªÉ th√™m ph·∫ßn t·ª≠ v√†o ƒë·∫ßu ho·∫∑c cu·ªëi danh s√°ch.",{"id":242,"title":243,"titles":244,"content":245,"level":104},"/blog/basic-redis#_3-t·∫≠p-h·ª£p-sets","3. T·∫≠p h·ª£p (Sets)",[228],"T·∫≠p h·ª£p l√† c√°c t·∫≠p h·ª£p kh√¥ng c√≥ th·ª© t·ª± c·ªßa c√°c chu·ªói duy nh·∫•t. Ch√∫ng h·ªó tr·ª£ c√°c ph√©p to√°n nh∆∞ h·ª£p, giao, v√† hi·ªáu.",{"id":247,"title":248,"titles":249,"content":250,"level":104},"/blog/basic-redis#_4-bƒÉm-hashes","4. BƒÉm (Hashes)",[228],"BƒÉm l√† c√°c b·∫£n ƒë·ªì gi·ªØa tr∆∞·ªùng chu·ªói v√† gi√° tr·ªã chu·ªói, r·∫•t l√Ω t∆∞·ªüng ƒë·ªÉ bi·ªÉu di·ªÖn c√°c ƒë·ªëi t∆∞·ª£ng.",{"id":252,"title":253,"titles":254,"content":255,"level":104},"/blog/basic-redis#_5-t·∫≠p-h·ª£p-c√≥-th·ª©-t·ª±-sorted-sets","5. T·∫≠p h·ª£p c√≥ th·ª© t·ª± (Sorted Sets)",[228],"T·∫≠p h·ª£p c√≥ th·ª© t·ª± t∆∞∆°ng t·ª± nh∆∞ t·∫≠p h·ª£p nh∆∞ng c√≥ m·ªôt ƒëi·ªÉm s·ªë li√™n k·∫øt v·ªõi m·ªói ph·∫ßn t·ª≠, cho ph√©p truy xu·∫•t theo th·ª© t·ª±.",{"id":257,"title":258,"titles":259,"content":260,"level":104},"/blog/basic-redis#_6-bitmaps-hyperloglogs-streams","6. Bitmaps, HyperLogLogs, Streams",[228],"ƒê√¢y l√† c√°c c·∫•u tr√∫c n√¢ng cao h∆°n:\nBitmaps ƒë∆∞·ª£c s·ª≠ d·ª•ng cho c√°c thao t√°c c·∫•p bit, cho ph√©p b·∫°n thao t√°c c√°c bit ri√™ng l·∫ª trong m·ªôt chu·ªói. HyperLogLogs ƒë∆∞·ª£c s·ª≠ d·ª•ng ƒë·ªÉ ∆∞·ªõc t√≠nh s·ªë l∆∞·ª£ng ph·∫ßn t·ª≠ duy nh·∫•t trong m·ªôt t·∫≠p h·ª£p, r·∫•t h·ªØu √≠ch cho c√°c tr∆∞·ªùng h·ª£p nh∆∞ theo d√µi s·ªë l∆∞·ª£ng kh√°ch truy c·∫≠p duy nh·∫•t. Streams ƒë∆∞·ª£c thi·∫øt k·∫ø cho c√°c ƒë∆∞·ªùng d·∫´n d·ªØ li·ªáu th·ªùi gian th·ª±c v√† ngu·ªìn s·ª± ki·ªán, cho ph√©p b·∫°n th√™m v√† truy v·∫•n d·ªØ li·ªáu theo chu·ªói th·ªùi gian.",{"id":262,"title":263,"titles":264,"content":265,"level":131},"/blog/basic-redis#t√≠ch-h·ª£p-redis-v·ªõi-nodejs","üîß T√≠ch H·ª£p Redis V·ªõi Node.js",[],"B·∫°n c√≥ th·ªÉ s·ª≠ d·ª•ng th∆∞ vi·ªán ioredis ho·∫∑c redis client ph·ªï bi·∫øn. D∆∞·ªõi ƒë√¢y l√† m·ªôt v√≠ d·ª• v·ªõi ioredis.",{"id":267,"title":268,"titles":269,"content":270,"level":104},"/blog/basic-redis#_1-c√†i-ƒë·∫∑t-redis-v√†-ioredis","1. C√†i ƒê·∫∑t Redis v√† ioredis",[263],"ƒê·∫£m b·∫£o r·∫±ng b·∫°n ƒë√£ c√†i ƒë·∫∑t v√† ch·∫°y Redis. B·∫°n c√≥ th·ªÉ s·ª≠ d·ª•ng Docker ƒë·ªÉ ch·∫°y Redis m·ªôt c√°ch d·ªÖ d√†ng:",{"id":272,"title":273,"titles":274,"content":275,"level":104},"/blog/basic-redis#_2-thi·∫øt-l·∫≠p-c∆°-b·∫£n","2. Thi·∫øt L·∫≠p C∆° B·∫£n",[263],"T·∫°o m·ªôt t·ªáp c√≥ t√™n redis.js v√† th√™m ƒëo·∫°n m√£ sau:",{"id":277,"title":278,"titles":279,"content":280,"level":104},"/blog/basic-redis#_3-s·ª≠-d·ª•ng-redis-trong-·ª©ng-d·ª•ng","3. S·ª≠ D·ª•ng Redis Trong ·ª®ng D·ª•ng",[263],"B√¢y gi·ªù b·∫°n c√≥ th·ªÉ s·ª≠ d·ª•ng Redis trong ·ª©ng d·ª•ng c·ªßa m√¨nh. D∆∞·ªõi ƒë√¢y l√† m·ªôt v√≠ d·ª• v·ªÅ vi·ªác thi·∫øt l·∫≠p v√† l·∫•y gi√° tr·ªã:",{"id":282,"title":283,"titles":284,"content":285,"level":104},"/blog/basic-redis#_4-v√≠-d·ª•-v·ªÅ-b·ªô-nh·ªõ-ƒë·ªám","4. V√≠ D·ª• V·ªÅ B·ªô Nh·ªõ ƒê·ªám",[263],"B·∫°n c√≥ th·ªÉ s·ª≠ d·ª•ng Redis l√†m b·ªô nh·ªõ ƒë·ªám ƒë·ªÉ l∆∞u tr·ªØ d·ªØ li·ªáu ƒë∆∞·ª£c truy c·∫≠p th∆∞·ªùng xuy√™n. D∆∞·ªõi ƒë√¢y l√† m·ªôt v√≠ d·ª• v·ªÅ vi·ªác l∆∞u tr·ªØ k·∫øt qu·∫£ truy v·∫•n c∆° s·ªü d·ªØ li·ªáu v√†o b·ªô nh·ªõ ƒë·ªám:",{"id":287,"title":288,"titles":289,"content":290,"level":104},"/blog/basic-redis#_5-k·∫øt-lu·∫≠n","5. K·∫øt Lu·∫≠n",[263],"Redis l√† m·ªôt c√¥ng c·ª• m·∫°nh m·∫Ω cho b·ªô nh·ªõ ƒë·ªám v√† c√°c ·ª©ng d·ª•ng th·ªùi gian th·ª±c. B·∫±ng c√°ch t√≠ch h·ª£p Redis v√†o c√°c d·ª± √°n Node.js, b·∫°n c√≥ th·ªÉ c·∫£i thi·ªán ƒë√°ng k·ªÉ hi·ªáu su·∫•t v√† kh·∫£ nƒÉng m·ªü r·ªông. H∆∞·ªõng d·∫´n n√†y ƒë√£ bao qu√°t c√°c kh√°i ni·ªám c∆° b·∫£n v·ªÅ ki·ªÉu d·ªØ li·ªáu, l·ªánh, v√† c√°ch s·ª≠ d·ª•ng Redis trong ·ª©ng d·ª•ng Node.js.\nH√£y kh√°m ph√° th√™m c√°c t√≠nh nƒÉng n√¢ng cao nh∆∞ giao d·ªãch, scripting Lua, v√† clustering khi b·∫°n ƒë√£ quen thu·ªôc h∆°n v·ªõi Redis.\nRedis l√† m·ªôt c√¥ng c·ª• ƒëa nƒÉng c√≥ th·ªÉ n√¢ng cao ƒë√°ng k·ªÉ ·ª©ng d·ª•ng c·ªßa b·∫°n. Happy Coding",{"id":292,"title":293,"titles":294,"content":295,"level":104},"/blog/basic-redis#_6-t√†i-nguy√™n-tham-kh·∫£o","6. T√†i Nguy√™n Tham Kh·∫£o",[263],"T√†i li·ªáu RedisT√†i li·ªáu ioredis",{"id":119,"title":5,"titles":297,"content":298,"level":131},[],"T√¨m hi·ªÉu v·ªÅ Docker v√† kh√°m ph√° c√°c Dockerfile ph·ªï bi·∫øn cho nhi·ªÅu d·ª± √°n nh∆∞ Node.js, PHP v·ªõi Laravel, React, Vue, Nuxt v√† Next.js. Kh√°m ph√° c√°c k·ªπ thu·∫≠t t·ªëi ∆∞u v√† th·ª±c h√†nh t·ªët nh·∫•t. C√°c Dockerfile Ph·ªï Bi·∫øn Cho Nhi·ªÅu D·ª± √Ån Kh√°c Nhau Docker l√† m·ªôt c√¥ng c·ª• ·∫£o h√≥a nh·∫π gi√∫p ph√°t tri·ªÉn, tri·ªÉn khai v√† ch·∫°y ·ª©ng d·ª•ng trong c√°c container. N√≥ cho ph√©p b·∫°n ƒë√≥ng g√≥i ·ª©ng d·ª•ng v√† t·∫•t c·∫£ c√°c ph·ª• thu·ªôc c·ªßa n√≥ v√†o m·ªôt container duy nh·∫•t, gi√∫p d·ªÖ d√†ng tri·ªÉn khai tr√™n b·∫•t k·ª≥ m√¥i tr∆∞·ªùng n√†o m√† kh√¥ng c·∫ßn lo l·∫Øng v·ªÅ s·ª± kh√°c bi·ªát gi·ªØa c√°c m√¥i tr∆∞·ªùng. ƒê√¢y l√† m·ªôt s·ªë Dockerfile cho c√°c d·ª± √°n th∆∞·ªùng g·∫∑p, b·∫°n c√≥ th·ªÉ tham kh·∫£o v√† ƒëi·ªÅu ch·ªânh theo nhu c·∫ßu c·ªßa m√¨nh.",{"id":300,"title":32,"titles":301,"content":35,"level":104},"/blog/common-docker-file#_1-dockerfile-cho-nodejs",[5],{"id":303,"title":43,"titles":304,"content":46,"level":104},"/blog/common-docker-file#_2-dockerfile-cho-php-v·ªõi-laravel",[5],{"id":306,"title":53,"titles":307,"content":56,"level":104},"/blog/common-docker-file#_3-dockerfile-cho-react",[5],{"id":309,"title":63,"titles":310,"content":66,"level":104},"/blog/common-docker-file#_4-dockerfile-cho-vue",[5],{"id":312,"title":73,"titles":313,"content":76,"level":104},"/blog/common-docker-file#_5-dockerfile-cho-nuxtjs",[5],{"id":315,"title":83,"titles":316,"content":86,"level":104},"/blog/common-docker-file#_6-dockerfile-cho-nextjs",[5],{"id":318,"title":92,"titles":319,"content":320,"level":104},"/blog/common-docker-file#ƒëang-c·∫≠p-nh·∫≠t",[5],"N·∫øu b·∫°n c√≥ c√°c c·∫•u h√¨nh ho·∫∑c Dockerfile kh√°c mu·ªën chia s·∫ª, vui l√≤ng g·ª≠i email v·ªÅ vinhtieng123@gmail.com. M√¨nh r·∫•t tr√¢n tr·ªçng ƒëi·ªÅu ƒë√≥.",{"id":322,"title":323,"titles":324,"content":325,"level":131},"/blog/testing","Testing post",[],"Testing title C√°c Dockerfile Ph·ªï Bi·∫øn Cho Nhi·ªÅu D·ª± √Ån Kh√°c Nhau Docker l√† m·ªôt c√¥ng c·ª• ·∫£o h√≥a nh·∫π gi√∫p ph√°t tri·ªÉn, tri·ªÉn khai v√† ch·∫°y ·ª©ng d·ª•ng trong c√°c container. N√≥ cho ph√©p b·∫°n ƒë√≥ng g√≥i ·ª©ng d·ª•ng v√† t·∫•t c·∫£ c√°c ph·ª• thu·ªôc c·ªßa n√≥ v√†o m·ªôt container duy nh·∫•t, gi√∫p d·ªÖ d√†ng tri·ªÉn khai tr√™n b·∫•t k·ª≥ m√¥i tr∆∞·ªùng n√†o m√† kh√¥ng c·∫ßn lo l·∫Øng v·ªÅ s·ª± kh√°c bi·ªát gi·ªØa c√°c m√¥i tr∆∞·ªùng. ƒê√¢y l√† m·ªôt s·ªë Dockerfile cho c√°c d·ª± √°n th∆∞·ªùng g·∫∑p, b·∫°n c√≥ th·ªÉ tham kh·∫£o v√† ƒëi·ªÅu ch·ªânh theo nhu c·∫ßu c·ªßa m√¨nh.",{"id":327,"title":32,"titles":328,"content":35,"level":104},"/blog/testing#_1-dockerfile-cho-nodejs",[323],{"id":330,"title":43,"titles":331,"content":46,"level":104},"/blog/testing#_2-dockerfile-cho-php-v·ªõi-laravel",[323],{"id":333,"title":53,"titles":334,"content":56,"level":104},"/blog/testing#_3-dockerfile-cho-react",[323],{"id":336,"title":63,"titles":337,"content":66,"level":104},"/blog/testing#_4-dockerfile-cho-vue",[323],{"id":339,"title":73,"titles":340,"content":76,"level":104},"/blog/testing#_5-dockerfile-cho-nuxtjs",[323],{"id":342,"title":83,"titles":343,"content":86,"level":104},"/blog/testing#_6-dockerfile-cho-nextjs",[323],{"id":345,"title":92,"titles":346,"content":347,"level":104},"/blog/testing#ƒëang-c·∫≠p-nh·∫≠t",[323],"N·∫øu b·∫°n c√≥ c√°c c·∫•u h√¨nh ho·∫∑c Dockerfile kh√°c mu·ªën chia s·∫ª, vui l√≤ng g·ª≠i email v·ªÅ vinhtieng123@gmail.com. M√¨nh r·∫•t tr√¢n tr·ªçng ƒëi·ªÅu ƒë√≥. console.log('Hello world') html pre.shiki code .sVt8B, html code.shiki .sVt8B{--shiki-default:#24292E;--shiki-dark:#E1E4E8}html pre.shiki code .sScJk, html code.shiki .sScJk{--shiki-default:#6F42C1;--shiki-dark:#B392F0}html pre.shiki code .sZZnC, html code.shiki .sZZnC{--shiki-default:#032F62;--shiki-dark:#9ECBFF}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}",[],[350,518,989,1178],{"id":351,"title":128,"body":352,"date":113,"description":510,"extension":115,"image":511,"meta":512,"navigation":118,"path":127,"published":118,"seo":513,"stem":514,"tags":515,"__hash__":517},"blog/blog/ansible.md",{"type":7,"value":353,"toc":508},[354,359,362,365,369,372,375,378,381,383,386,389,392,403,405,408,410,413,415,418,425,434,437,444,447,449,452,455,458,463,466,468,471,496,498,500,505],[10,355,356],{},[13,357,358],{},"H∆∞·ªõng d·∫´n chi ti·∫øt v·ªÅ c√†i ƒë·∫∑t v√† tri·ªÉn khai Ansible",[10,360,361],{},"Ansible l√† m·ªôt c√¥ng c·ª• t·ª± ƒë·ªông h√≥a m·∫°nh m·∫Ω, gi√∫p qu·∫£n l√Ω c·∫•u h√¨nh, tri·ªÉn khai ·ª©ng d·ª•ng v√† ƒëi·ªÅu ph·ªëi h·ªá th·ªëng m·ªôt c√°ch d·ªÖ d√†ng. Trong b√†i vi·∫øt n√†y, ch√∫ng ta s·∫Ω t√¨m hi·ªÉu c√°ch c√†i ƒë·∫∑t, c·∫•u h√¨nh v√† s·ª≠ d·ª•ng Ansible th√¥ng qua c√°c v√≠ d·ª• th·ª±c t·∫ø.",[363,364],"hr",{},[366,367,134],"h1",{"id":368},"Ô∏è-c√†i-ƒë·∫∑t-ansible",[10,370,371],{},"H∆∞·ªõng d·∫´n c√†i ƒë·∫∑t Ansible tr√™n Ubuntu:",[37,373],{":files":374},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"sudo apt update -y\\nsudo apt install software-properties-common -y\\nsudo apt-add-repository --yes --update ppa:ansible/ansible\\nsudo apt install ansible -y\\n\"}]",[10,376,377],{},"Sau khi c√†i ƒë·∫∑t, b·∫°n c√≥ th·ªÉ ki·ªÉm tra phi√™n b·∫£n Ansible:",[37,379],{":files":380},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"ansible --version\"}]",[363,382],{},[366,384,139],{"id":385},"c·∫•u-h√¨nh-ssh",[10,387,388],{},"ƒê·ªÉ Ansible c√≥ th·ªÉ k·∫øt n·ªëi ƒë·∫øn c√°c m√°y ch·ªß t·ª´ xa, b·∫°n c·∫ßn c·∫•u h√¨nh SSH. D∆∞·ªõi ƒë√¢y l√† c√°ch sao ch√©p SSH key ƒë·∫øn m√°y ch·ªß kh√°c:",[37,390],{":files":391},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"ssh-copy-id -i ~/.ssh/id_rsa.pub vinhtieng@123.3123.12\"}]",[10,393,394,397,398,402],{},[13,395,396],{},"L∆∞u √Ω:"," Thay ",[399,400,401],"code",{},"vinhtieng@123.3123.12"," b·∫±ng t√™n ng∆∞·ªùi d√πng v√† ƒë·ªãa ch·ªâ IP c·ªßa m√°y ch·ªß t·ª´ xa.",[363,404],{},[366,406,144],{"id":407},"hosts-inventory",[10,409,146],{},[37,411],{":files":412},"[{\"title\":\"inventory\",\"language\":\"ini\",\"content\":\"[webservers]\\nweb1.example.com\\nweb2.example.com\\n\\n[databases]\\ndb1.example.com\\n\\n[webservers:vars]\\nansible_user=your_ssh_user\\nansible_ssh_private_key_file=/path/to/private/key\\n\\n[webservers1]\\nweb1.example.com ansible_user=user1 ansible_ssh_private_key_file=/path/to/key1\\nweb2.example.com ansible_user=user2 ansible_ssh_private_key_file=/path/to/key2\\n\"}]",[363,414],{},[366,416,149],{"id":417},"ki·ªÉm-tra-k·∫øt-n·ªëi-ping",[10,419,420,421,424],{},"B·∫°n c√≥ th·ªÉ ki·ªÉm tra k·∫øt n·ªëi ƒë·∫øn c√°c m√°y ch·ªß b·∫±ng l·ªánh ",[399,422,423],{},"ping",":",[426,427,428],"ol",{},[429,430,431],"li",{},[13,432,433],{},"Ping v·ªõi file hosts m·∫∑c ƒë·ªãnh:",[37,435],{":files":436},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"ansible -m ping all\"}]",[426,438,439],{"start":104},[429,440,441],{},[13,442,443],{},"Ping v·ªõi file inventory t√πy ch·ªânh:",[37,445],{":files":446},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"ansible -i my_hosts all -m ping\"}]",[363,448],{},[366,450,154],{"id":451},"playbook-task-module",[10,453,454],{},"Playbook l√† n∆°i b·∫°n ƒë·ªãnh nghƒ©a c√°c t√°c v·ª• (tasks) c·∫ßn th·ª±c hi·ªán tr√™n c√°c m√°y ch·ªß. D∆∞·ªõi ƒë√¢y l√† c√°ch ch·∫°y m·ªôt playbook:",[37,456],{":files":457},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"ansible-playbook my_playbook.yml -i inventory_file\"}]",[10,459,460],{},[13,461,462],{},"V√≠ d·ª• v·ªÅ Playbook ƒë∆°n gi·∫£n:",[37,464],{":files":465},"[{\"title\":\"my_playbook.yml\",\"language\":\"yaml\",\"content\":\"---\\n- name: C√†i ƒë·∫∑t v√† kh·ªüi ƒë·ªông Apache\\n  hosts: webservers\\n  become: yes\\n  tasks:\\n    - name: C√†i ƒë·∫∑t Apache\\n      apt:\\n        name: apache2\\n        state: present\\n    - name: ƒê·∫£m b·∫£o Apache ƒëang ch·∫°y\\n      service:\\n        name: apache2\\n        state: started\\n\"}]",[363,467],{},[366,469,159],{"id":470},"t√†i-li·ªáu-tham-kh·∫£o",[472,473,474,482,489],"ul",{},[429,475,476],{},[97,477,481],{"href":478,"rel":479},"https://docs.ansible.com/",[480],"nofollow","Ansible Documentation",[429,483,484],{},[97,485,488],{"href":486,"rel":487},"https://galaxy.ansible.com/",[480],"Ansible Galaxy",[429,490,491],{},[97,492,495],{"href":493,"rel":494},"https://docs.ansible.com/ansible/latest/user_guide/playbooks.html",[480],"Ansible Playbook Guide",[363,497],{},[26,499],{},[10,501,502],{},[13,503,504],{},"T√≥m l·∫°i:",[10,506,507],{},"Ansible l√† c√¥ng c·ª• m·∫°nh m·∫Ω gi√∫p t·ª± ƒë·ªông h√≥a c√°c t√°c v·ª• qu·∫£n tr·ªã h·ªá th·ªëng. Vi·ªác n·∫Øm v·ªØng c√°ch s·ª≠ d·ª•ng Ansible s·∫Ω gi√∫p b·∫°n ti·∫øt ki·ªám th·ªùi gian v√† gi·∫£m thi·ªÉu l·ªói trong qu√° tr√¨nh qu·∫£n l√Ω h·ªá th·ªëng.",{"title":103,"searchDepth":104,"depth":104,"links":509},[],"H∆∞·ªõng d·∫´n chi ti·∫øt v·ªÅ c√†i ƒë·∫∑t, c·∫•u h√¨nh SSH, inventory v√† s·ª≠ d·ª•ng Playbook trong Ansible.","/images/blog/ansible/banner.png",{},{"title":128,"description":510},"blog/ansible",[516],"ansible","Gq3vchuOpiuVWzSEC3RwQ0ntaOZ8kPHsUW-MoDkNWc8",{"id":519,"title":164,"body":520,"date":113,"description":981,"extension":115,"image":982,"meta":983,"navigation":118,"path":163,"published":118,"seo":984,"stem":985,"tags":986,"__hash__":988},"blog/blog/basic-nginx.md",{"type":7,"value":521,"toc":979},[522,527,530,556,558,561,564,567,570,573,578,581,584,587,593,596,604,607,610,613,627,630,635,638,641,655,658,663,695,698,701,704,707,710,713,720,731,738,749,752,764,767,770,773,776,779,783,791,794,796,799,802,828,831,836,839,842,845,847,850,852,855,857,860,862,865,867,870,872,875,877,880,883,886,889,892,894,897,900,903,906,909,912,915,917,920,922,925,927,929,959,961,963,967,970],[10,523,524],{},[13,525,526],{},"H∆∞·ªõng d·∫´n chi ti·∫øt v·ªÅ c·∫•u h√¨nh v√† tri·ªÉn khai Nginx",[10,528,529],{},"Nginx l√† m·ªôt web server m√£ ngu·ªìn m·ªü m·∫°nh m·∫Ω, ƒë∆∞·ª£c s·ª≠ d·ª•ng ph·ªï bi·∫øn ƒë·ªÉ ph·ª•c v·ª• n·ªôi dung tƒ©nh, reverse proxy, c√¢n b·∫±ng t·∫£i, b·∫£o m·∫≠t v√† h·ªó tr·ª£ PHP th√¥ng qua FastCGI. Trong b√†i vi·∫øt n√†y, ch√∫ng ta s·∫Ω ƒëi qua c√°c c·∫•u h√¨nh t·ª´ c∆° b·∫£n ƒë·∫øn n√¢ng cao, bao g·ªìm:",[472,531,532,535,538,541,544,547,550,553],{},[429,533,534],{},"C√°ch c√†i ƒë·∫∑t Nginx",[429,536,537],{},"C·∫•u h√¨nh m√°y ch·ªß m·∫∑c ƒë·ªãnh (default host)",[429,539,540],{},"T√≠ch h·ª£p v·ªõi PHP-FPM",[429,542,543],{},"Thi·∫øt l·∫≠p Load Balancer (c√¢n b·∫±ng t·∫£i)",[429,545,546],{},"Gzip, HTTP/2, Rate limiting",[429,548,549],{},"Redirect, Rewrites",[429,551,552],{},"Hardening & Security",[429,554,555],{},"Logging n√¢ng cao",[363,557],{},[366,559,169],{"id":560},"Ô∏è-c√†i-ƒë·∫∑t-nginx",[10,562,563],{},"H∆∞·ªõng d·∫´n c√†i ƒë·∫∑t Nginx tr√™n Ubuntu:",[37,565],{":files":566},"[{\"title\":\"bash\",\"language\":\"nginx\",\"content\":\"sudo apt update\\nsudo apt install nginx\\n\"}]",[10,568,569],{},"Sau khi c√†i ƒë·∫∑t, b·∫°n c√≥ th·ªÉ ki·ªÉm tra tr·∫°ng th√°i Nginx:",[37,571],{":files":572},"[{\"title\":\"bash\",\"language\":\"nginx\",\"content\":\"sudo systemctl status nginx\"}]",[10,574,575],{},[13,576,577],{},"Ki·ªÉm tra t∆∞·ªùng l·ª≠a:",[10,579,580],{},"Sau khi c√†i ƒë·∫∑t Nginx, b·∫°n n√™n ƒë·∫£m b·∫£o r·∫±ng t∆∞·ªùng l·ª≠a (firewall) cho ph√©p l∆∞u l∆∞·ª£ng HTTP v√† HTTPS ƒë·ªÉ m√°y ch·ªß c√≥ th·ªÉ ph·ª•c v·ª• n·ªôi dung web.",[37,582],{":files":583},"[{\"title\":\"bash\",\"language\":\"nginx\",\"content\":\"sudo ufw allow ‚ÄòNginx Full‚Äô\\nsudo ufw status\\n\"}]",[10,585,586],{},"L·ªánh sudo ufw allow 'Nginx Full' s·∫Ω m·ªü c·∫£ hai c·ªïng 80 (HTTP) v√† 443 (HTTPS).\nSau ƒë√≥, d√πng sudo ufw status ƒë·ªÉ x√°c nh·∫≠n r·∫±ng c√°c c·ªïng n√†y ƒë√£ ƒë∆∞·ª£c m·ªü.",[19,588,590],{"type":589},"warning",[10,591,592],{},"N·∫øu b·∫°n ch∆∞a b·∫≠t ufw (Uncomplicated Firewall), b·∫°n c√≥ th·ªÉ b·∫≠t b·∫±ng l·ªánh sudo ufw enable. Tuy nhi√™n, h√£y ƒë·∫£m b·∫£o c·∫•u h√¨nh ch√≠nh x√°c ƒë·ªÉ kh√¥ng b·ªã kh√≥a SSH.",[10,594,595],{},"Ki·ªÉm tra ho·∫°t ƒë·ªông c·ªßa Nginx:",[10,597,598,599,603],{},"M·ªü tr√¨nh duy·ªát v√† truy c·∫≠p ƒë·ªãa ch·ªâ:\nüëâ http://\u003Cƒë·ªãa_ch·ªâ_IP_c·ªßa_b·∫°n> ho·∫∑c ",[97,600,601],{"href":601,"rel":602},"http://localhost",[480]," n·∫øu ki·ªÉm tra c·ª•c b·ªô.",[10,605,606],{},"B·∫°n s·∫Ω th·∫•y trang m·∫∑c ƒë·ªãnh ‚ÄúWelcome to nginx!‚Äù n·∫øu m·ªçi th·ª© ho·∫°t ƒë·ªông ƒë√∫ng c√°ch.",[366,608,174],{"id":609},"Ô∏è-c·∫•u-h√¨nh-default-host-trong-nginx",[10,611,612],{},"Tr√™n Ubuntu, file c·∫•u h√¨nh c·ªßa Nginx th∆∞·ªùng ƒë∆∞·ª£c l∆∞u t·∫°i c√°c v·ªã tr√≠ sau:",[472,614,615,621],{},[429,616,617,620],{},[399,618,619],{},"/etc/nginx/sites-available/default"," (N·∫øu s·ª≠ d·ª•ng th∆∞ m·ª•c sites-available v√† sites-enabled).",[429,622,623,626],{},[399,624,625],{},"/etc/nginx/conf.d/default.conf"," (Th√¥ng d·ª•ng cho c√°c c·∫•u h√¨nh ƒë∆°n gi·∫£n).",[10,628,629],{},"M·∫∑c ƒë·ªãnh, khi c√†i ƒë·∫∑t Nginx, s·∫Ω c√≥ m·ªôt file c·∫•u h√¨nh default trong th∆∞ m·ª•c /etc/nginx/sites-available/ v·ªõi m·ªôt s·ªë c·∫•u h√¨nh c∆° b·∫£n. B·∫°n c√≥ th·ªÉ s·ª≠a file n√†y ƒë·ªÉ c·∫•u h√¨nh server block cho website c·ªßa m√¨nh.",[10,631,632],{},[13,633,634],{},"C·∫•u h√¨nh Default Host",[10,636,637],{},"M·ªü file c·∫•u h√¨nh Nginx m·∫∑c ƒë·ªãnh:",[37,639],{":files":640},"[{\"title\":\"default.conf\",\"language\":\"nginx\",\"content\":\"sudo nano /etc/nginx/sites-available/default\"}]",[10,642,643,644,647,648,651,652,424],{},"M·∫∑c ƒë·ªãnh, Nginx s·∫Ω ch·ªçn block ƒë·∫ßu ti√™n khi kh√¥ng t√¨m th·∫•y ",[399,645,646],{},"server_name"," t∆∞∆°ng ·ª©ng. ƒê·ªÉ c·∫•u h√¨nh r√µ r√†ng host m·∫∑c ƒë·ªãnh, b·∫°n th√™m ",[399,649,650],{},"default_server"," v√†o d√≤ng ",[399,653,654],{},"listen",[37,656],{":files":657},"[{\"title\":\"default.conf\",\"language\":\"nginx\",\"content\":\"server {\\n    listen 80 default_server;\\n    server_name _;\\n    root /var/www/html;\\n    index index.html index.htm;\\n\\n    location / {\\n        try_files $uri $uri/ =404;\\n    }\\n}\\n\"}]",[10,659,660],{},[13,661,662],{},"Ghi ch√∫:",[472,664,665,671,677,683,689],{},[429,666,667,670],{},[399,668,669],{},"listen 80 default_server;",": C·∫•u h√¨nh Nginx l·∫Øng nghe c·ªïng 80 (HTTP) v√† ƒë√°nh d·∫•u ƒë√¢y l√† default_server (server m·∫∑c ƒë·ªãnh cho c√°c y√™u c·∫ßu kh√¥ng kh·ªõp v·ªõi server block kh√°c).",[429,672,673,676],{},[399,674,675],{},"root /var/www/html;",": ƒê∆∞·ªùng d·∫´n t·ªõi th∆∞ m·ª•c ch·ª©a c√°c t·ªáp tin c·ªßa website. B·∫°n c√≥ th·ªÉ thay ƒë·ªïi ƒë∆∞·ªùng d·∫´n n√†y th√†nh th∆∞ m·ª•c c·ªßa website b·∫°n mu·ªën ph·ª•c v·ª•.",[429,678,679,682],{},[399,680,681],{},"server_name _;",": Ch·ªâ th·ªã n√†y cho ph√©p server ch·∫•p nh·∫≠n t·∫•t c·∫£ c√°c y√™u c·∫ßu kh√¥ng kh·ªõp v·ªõi server block kh√°c. N·∫øu b·∫°n c√≥ t√™n mi·ªÅn c·ª• th·ªÉ, h√£y thay th·∫ø d·∫•u g·∫°ch d∆∞·ªõi (_) b·∫±ng t√™n mi·ªÅn c·ªßa b·∫°n.",[429,684,685,688],{},[399,686,687],{},"location /",": ƒê√¢y l√† ph·∫ßn c·∫•u h√¨nh ƒë·ªãnh tuy·∫øn cho c√°c y√™u c·∫ßu ƒë·∫øn. C·∫•u h√¨nh n√†y gi√∫p Nginx t√¨m ki·∫øm c√°c t·ªáp tin khi ng∆∞·ªùi d√πng truy c·∫≠p v√†o website.",[429,690,691,694],{},[399,692,693],{},"try_files $uri $uri/ =404;",": N·∫øu y√™u c·∫ßu kh√¥ng tr√πng kh·ªõp v·ªõi t·ªáp tin ho·∫∑c th∆∞ m·ª•c, s·∫Ω tr·∫£ v·ªÅ l·ªói 404.",[10,696,697],{},"Sau khi ch·ªânh s·ª≠a xong, b·∫°n c·∫ßn ki·ªÉm tra xem c·∫•u h√¨nh c√≥ ch√≠nh x√°c kh√¥ng:",[37,699],{":files":700},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"sudo nginx -t\"}]",[10,702,703],{},"N·∫øu kh√¥ng c√≥ l·ªói n√†o, b·∫°n c√≥ th·ªÉ kh·ªüi ƒë·ªông l·∫°i Nginx ƒë·ªÉ √°p d·ª•ng c·∫•u h√¨nh m·ªõi:",[37,705],{":files":706},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"sudo systemctl restart nginx\"}]",[10,708,709],{},"Gi·ªõi thi·ªáu v·ªÅ sites-available v√† sites-enabled",[10,711,712],{},"Trong Nginx, th∆∞ m·ª•c sites-available v√† sites-enabled l√† m·ªôt c∆° ch·∫ø ƒë·ªÉ qu·∫£n l√Ω c√°c website (virtual hosts) m√† Nginx c√≥ th·ªÉ ph·ª•c v·ª•. C·∫•u tr√∫c n√†y gi√∫p d·ªÖ d√†ng b·∫≠t/t·∫Øt c√°c website m√† kh√¥ng c·∫ßn ph·∫£i x√≥a ho·∫∑c thay ƒë·ªïi c·∫•u h√¨nh tr·ª±c ti·∫øp.",[426,714,715],{},[429,716,717,424],{},[399,718,719],{},"sites-available",[472,721,722,725,728],{},[429,723,724],{},"ƒê√¢y l√† n∆°i b·∫°n t·∫°o v√† l∆∞u tr·ªØ t·∫•t c·∫£ c√°c file c·∫•u h√¨nh c·ªßa c√°c website ho·∫∑c ·ª©ng d·ª•ng m√† b·∫°n mu·ªën Nginx ph·ª•c v·ª•.",[429,726,727],{},"M·ªói file c·∫•u h√¨nh trong sites-available ƒë·∫°i di·ªán cho m·ªôt website ho·∫∑c ·ª©ng d·ª•ng ri√™ng bi·ªát.",[429,729,730],{},"V√≠ d·ª•: /etc/nginx/sites-available/example.com l√† c·∫•u h√¨nh cho website example.com.",[426,732,733],{"start":104},[429,734,735,424],{},[399,736,737],{},"sites-enabled",[472,739,740,743,746],{},[429,741,742],{},"ƒê√¢y l√† n∆°i ch·ª©a c√°c li√™n k·∫øt t∆∞·ª£ng tr∆∞ng (symlink) ƒë·∫øn c√°c file c·∫•u h√¨nh trong sites-available m√† b·∫°n mu·ªën Nginx th·ª±c thi.",[429,744,745],{},"C√°c li√™n k·∫øt n√†y cho ph√©p Nginx bi·∫øt ƒë∆∞·ª£c website n√†o s·∫Ω ƒë∆∞·ª£c k√≠ch ho·∫°t.",[429,747,748],{},"B·∫°n kh√¥ng n√™n tr·ª±c ti·∫øp ch·ªânh s·ª≠a c√°c file trong sites-enabled. Thay v√†o ƒë√≥, b·∫°n t·∫°o symlink t·ª´ sites-available.",[10,750,751],{},"C√°ch th·ª©c ho·∫°t ƒë·ªông:",[472,753,754,757],{},[429,755,756],{},"Khi b·∫°n t·∫°o m·ªôt file c·∫•u h√¨nh trong sites-available, b·∫°n c√≥ th·ªÉ k√≠ch ho·∫°t n√≥ b·∫±ng c√°ch t·∫°o m·ªôt symlink ƒë·∫øn file ƒë√≥ trong th∆∞ m·ª•c sites-enabled.",[429,758,759,760,763],{},"ƒê·ªÉ t·∫°o symlink, s·ª≠ d·ª•ng l·ªánh ",[399,761,762],{},"ln -s",".",[10,765,766],{},"V√≠ d·ª•, n·∫øu b·∫°n c√≥ c·∫•u h√¨nh example.com trong sites-available, b·∫°n c√≥ th·ªÉ t·∫°o symlink v√†o sites-enabled nh∆∞ sau:",[37,768],{":files":769},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"sudo ln -s /etc/nginx/sites-available/example.com /etc/nginx/sites-enabled/\"}]",[366,771,179],{"id":772},"c·∫•u-h√¨nh-nginx-v·ªõi-php-fpm",[10,774,775],{},"ƒê·ªÉ x·ª≠ l√Ω c√°c file PHP, b·∫°n c·∫ßn k·∫øt n·ªëi Nginx v·ªõi PHP-FPM qua socket ho·∫∑c TCP:",[37,777],{":files":778},"[{\"title\":\"php-fpm.conf\",\"language\":\"nginx\",\"content\":\"location ~ \\\\.php$ {\\n  try_files $uri =404;\\n  fastcgi_pass unix:/var/run/php/php8.1-fpm.sock;\\n  fastcgi_index index.php;\\n  fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;\\n  include fastcgi_params;\\n}\\n\"}]",[10,780,781],{},[13,782,396],{},[472,784,785,788],{},[429,786,787],{},"ƒê∆∞·ªùng d·∫´n socket c√≥ th·ªÉ thay ƒë·ªïi t√πy phi√™n b·∫£n PHP.",[429,789,790],{},"N·∫øu d√πng TCP:",[37,792],{":files":793},"[{\"title\":\"php-fpm.conf\",\"language\":\"nginx\",\"content\":\"fastcgi_pass 127.0.0.1:9000;\"}]",[363,795],{},[366,797,184],{"id":798},"load-balancer-trong-nginx",[10,800,801],{},"Nginx h·ªó tr·ª£ c·∫•u h√¨nh c√¢n b·∫±ng t·∫£i v·ªõi nhi·ªÅu thu·∫≠t to√°n l·ª±a ch·ªçn backend:",[472,803,804,810,816,822],{},[429,805,806,809],{},[399,807,808],{},"round-robin",": M·∫∑c ƒë·ªãnh, ph√¢n ph·ªëi ƒë·ªÅu cho c√°c request.",[429,811,812,815],{},[399,813,814],{},"least_conn",": Ch·ªçn server √≠t k·∫øt n·ªëi nh·∫•t.",[429,817,818,821],{},[399,819,820],{},"ip_hash",": Duy tr√¨ session cho client.",[429,823,824,827],{},[399,825,826],{},"least_time",": ch·ªçn server c√≥ th·ªùi gian ph·∫£n h·ªìi √≠t nh·∫•t",[10,829,830],{},"C√≥ th·ªÉ th√™m tr·ªçng s·ªë cho server b·∫±ng c√°ch th√™m s·ªë sau ip:port",[472,832,833],{},[429,834,835],{},"Ex: server 192.168.1.0:8000 weight=3;",[37,837],{":files":838},"[{\"title\":\"upstream.conf\",\"language\":\"nginx\",\"content\":\"upstream myapp1 {\\n    ip_hash;\\n    server 192.168.1.10:8000;\\n    server 192.168.2.10:8000;\\n    # server 192.168.1.10:8000 weight=3;\\n}\\n\"}]",[10,840,841],{},"C·∫•u h√¨nh server block proxy ƒë·∫øn upstream:",[37,843],{":files":844},"[{\"title\":\"proxy.conf\",\"language\":\"nginx\",\"content\":\"server {\\n  listen 80 default_server;\\n  server_name _;\\n  root /var/www/html;\\n  index index.html index.htm;\\n\\n  location / {\\n      proxy_pass http://myapp1;\\n      proxy_set_header Host $host;\\n      proxy_set_header X-Real-IP $remote_addr;\\n      proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\\n      proxy_set_header X-Forwarded-Proto $scheme;\\n  }\\n}\\n\"}]",[363,846],{},[366,848,189],{"id":849},"gzip-compression",[10,851,191],{},[37,853],{":files":854},"[{\"title\":\"gzip.conf\",\"language\":\"nginx\",\"content\":\"gzip on;\\ngzip_disable \\\"msie6\\\";\\ngzip_vary on;\\ngzip_proxied any;\\ngzip_comp_level 6;\\ngzip_types text/plain text/css application/json application/javascript text/xml application/xml application/xml+rss text/javascript;\\n\"}]",[363,856],{},[366,858,194],{"id":859},"k√≠ch-ho·∫°t-http2",[10,861,196],{},[37,863],{":files":864},"[{\"title\":\"http2.conf\",\"language\":\"nginx\",\"content\":\"listen 443 ssl http2;\\n\"}]",[363,866],{},[366,868,199],{"id":869},"rate-limiting",[10,871,201],{},[37,873],{":files":874},"[{\"title\":\"rate-limiting.conf\",\"language\":\"nginx\",\"content\":\"limit_req_zone $binary_remote_addr zone=mylimit:10m rate=1r/s;\\n\\nlocation /api/ {\\n    limit_req zone=mylimit burst=5;\\n}\\n\"}]",[363,876],{},[366,878,204],{"id":879},"redirect-v√†-rewrites",[10,881,882],{},"Chuy·ªÉn h∆∞·ªõng to√†n b·ªô traffic HTTP sang HTTPS:",[37,884],{":files":885},"[{\"title\":\"redirect.conf\",\"language\":\"nginx\",\"content\":\"server {\\n    listen 80;\\n    server_name example.com;\\n    return 301 https://$host$request_uri;\\n}\\nserver {\\n    listen 443 ssl;\\n    server_name example.com;\\n    ssl_certificate /path/to/cert.pem;\\n    ssl_certificate_key /path/to/key.pem;\\n}\\n\"}]",[10,887,888],{},"Vi·∫øt l·∫°i URL cho SPA:",[37,890],{":files":891},"[{\"title\":\"rewrite.conf\",\"language\":\"nginx\",\"content\":\"location /api/ {\\n    rewrite ^/api/(.*)$ /$1 break;\\n}\\n\"}]",[363,893],{},[366,895,209],{"id":896},"hardening-security",[10,898,899],{},"B·∫£o v·ªá server b·∫±ng c√°ch t·ª´ ch·ªëi truy c·∫≠p file nh·∫°y c·∫£m:",[37,901],{":files":902},"[{\"title\":\"deny.conf\",\"language\":\"nginx\",\"content\":\"location ~* \\\\\\\\.(git|env|bak|log)$ {\\n  deny all;\\n}\\n\"}]",[10,904,905],{},"·∫®n th√¥ng tin server:",[37,907],{":files":908},"[{\"title\":\"security.conf\",\"language\":\"nginx\",\"content\":\"server_tokens off;\\n\"}]",[10,910,911],{},"Ch·ªëng clickjacking v√† XSS:",[37,913],{":files":914},"[{\"title\":\"headers.conf\",\"language\":\"nginx\",\"content\":\"add_header X-Content-Security-Policy \\\"default-src 'self'\\\";\\nadd_header X-Frame-Options \\\"DENY\\\";\\nadd_header X-XSS-Protection \\\"1; mode=block\\\";\\nadd_header Referrer-Policy \\\"no-referrer\\\";\\n\"}]",[363,916],{},[366,918,214],{"id":919},"logging-n√¢ng-cao",[10,921,216],{},[37,923],{":files":924},"[{\"title\":\"logging.conf\",\"language\":\"nginx\",\"content\":\"log_format main '$remote_addr - $remote_user [$time_local] \\\"$request\\\" '\\n               '$status $body_bytes_sent \\\"$http_referer\\\" '\\n               '\\\"$http_user_agent\\\" \\\"$http_x_forwarded_for\\\"';\\naccess_log /var/log/nginx/access.log main;\\n\"}]",[363,926],{},[366,928,159],{"id":470},[472,930,931,938,945,952],{},[429,932,933],{},[97,934,937],{"href":935,"rel":936},"https://nginx.org/en/docs/",[480],"Nginx Documentation",[429,939,940],{},[97,941,944],{"href":942,"rel":943},"https://docs.nginx.com/nginx/admin-guide/load-balancer/http-load-balancer/",[480],"Nginx Load Balancing Guide",[429,946,947],{},[97,948,951],{"href":949,"rel":950},"https://www.php.net/manual/en/install.fpm.configuration.php",[480],"Nginx + PHP-FPM Setup",[429,953,954],{},[97,955,958],{"href":956,"rel":957},"https://owasp.org/www-project-secure-headers/",[480],"OWASP Nginx Hardening Guide",[363,960],{},[26,962],{},[10,964,965],{},[13,966,504],{},[10,968,969],{},"Nginx l√† c√¥ng c·ª• c·ª±c k·ª≥ m·∫°nh m·∫Ω v√† linh ho·∫°t, kh√¥ng ch·ªâ gi·ªõi h·∫°n ·ªü web server m√† c√≤n l√† reverse proxy, caching layer, v√† load balancer. Vi·ªác n·∫Øm v·ªØng v√† khai th√°c t·ªët c√°c t√≠nh nƒÉng s·∫Ω gi√∫p h·ªá th·ªëng c·ªßa b·∫°n hi·ªáu su·∫•t cao, b·∫£o m·∫≠t v√† d·ªÖ m·ªü r·ªông.",[971,972,973],"blockquote",{},[10,974,975,978],{},[13,976,977],{},"Ch√∫c b·∫°n tri·ªÉn khai th√†nh c√¥ng!"," üöÄ",{"title":103,"searchDepth":104,"depth":104,"links":980},[],"H∆∞·ªõng d·∫´n chi ti·∫øt v·ªÅ c·∫•u h√¨nh m·∫∑c ƒë·ªãnh, PHP-FPM v√† thi·∫øt l·∫≠p Load Balancer v·ªõi Nginx.","/images/blog/basic-nginx/banner.png",{},{"title":164,"description":981},"blog/basic-nginx",[987],"nginx","ao842Asyx4Nq_8V88bY-z-mlaWImmDPwQOsg60s9M6w",{"id":990,"title":223,"body":991,"date":113,"description":1170,"extension":115,"image":1171,"meta":1172,"navigation":118,"path":222,"published":118,"seo":1173,"stem":1174,"tags":1175,"__hash__":1177},"blog/blog/basic-redis.md",{"type":7,"value":992,"toc":1156},[993,997,1000,1003,1014,1016,1019,1021,1024,1026,1029,1032,1034,1037,1040,1042,1045,1048,1050,1053,1056,1058,1061,1064,1067,1070,1073,1076,1079,1082,1085,1087,1090,1093,1095,1098,1101,1108,1111,1114,1116,1119,1122,1124,1127,1130,1133,1138,1141],[10,994,995],{},[13,996,223],{},[10,998,999],{},"Redis l√† m·ªôt kho d·ªØ li·ªáu key-value trong b·ªô nh·ªõ, m√£ ngu·ªìn m·ªü, n·ªïi ti·∫øng v·ªõi hi·ªáu su·∫•t v√† t√≠nh linh ho·∫°t. Redis h·ªó tr·ª£ nhi·ªÅu ki·ªÉu d·ªØ li·ªáu, ph√π h·ª£p cho vi·ªác s·ª≠ d·ª•ng b·ªô nh·ªõ ƒë·ªám, ·ª©ng d·ª•ng th·ªùi gian th·ª±c, h·ªá th·ªëng pub/sub, v√† nhi·ªÅu h∆°n n·ªØa.",[10,1001,1002],{},"Trong h∆∞·ªõng d·∫´n n√†y, ch√∫ng ta s·∫Ω t√¨m hi·ªÉu:",[472,1004,1005,1008,1011],{},[429,1006,1007],{},"C√°c ki·ªÉu d·ªØ li·ªáu trong Redis",[429,1009,1010],{},"C√°c l·ªánh ph·ªï bi·∫øn c·ªßa Redis",[429,1012,1013],{},"C√°ch t√≠ch h·ª£p Redis v√†o d·ª± √°n Node.js",[363,1015],{},[366,1017,228],{"id":1018},"c√°c-ki·ªÉu-d·ªØ-li·ªáu-l·ªánh-redis",[10,1020,230],{},[29,1022,233],{"id":1023},"_1-chu·ªói-strings",[10,1025,235],{},[37,1027],{":files":1028},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"SET name \\\"Jay\\\"\\nGET name\\nINCR counter\\n\"}]",[29,1030,238],{"id":1031},"_2-danh-s√°ch-lists",[10,1033,240],{},[37,1035],{":files":1036},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"LPUSH mylist \\\"apple\\\"\\nRPUSH mylist \\\"banana\\\"\\nLRANGE mylist 0 -1\\n\"}]",[29,1038,243],{"id":1039},"_3-t·∫≠p-h·ª£p-sets",[10,1041,245],{},[37,1043],{":files":1044},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"SADD myset \\\"apple\\\"\\nSADD myset \\\"banana\\\"\\nSADD myset \\\"apple\\\" # Tr√πng l·∫∑p, s·∫Ω kh√¥ng ƒë∆∞·ª£c th√™m\\nSMEMBERS myset\\n\"}]",[29,1046,248],{"id":1047},"_4-bƒÉm-hashes",[10,1049,250],{},[37,1051],{":files":1052},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"HSET user:1000 name \\\"Jay\\\" age 30\\nHGETALL user:1000\\n\"}]",[29,1054,253],{"id":1055},"_5-t·∫≠p-h·ª£p-c√≥-th·ª©-t·ª±-sorted-sets",[10,1057,255],{},[37,1059],{":files":1060},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"ZADD mysortedset 1 \\\"apple\\\"\\nZADD mysortedset 2 \\\"banana\\\"\\nZRANGE mysortedset 0 -1\\n\"}]",[29,1062,258],{"id":1063},"_6-bitmaps-hyperloglogs-streams",[10,1065,1066],{},"ƒê√¢y l√† c√°c c·∫•u tr√∫c n√¢ng cao h∆°n:\nBitmaps ƒë∆∞·ª£c s·ª≠ d·ª•ng cho c√°c thao t√°c c·∫•p bit, cho ph√©p b·∫°n thao t√°c c√°c bit ri√™ng l·∫ª trong m·ªôt chu·ªói.",[37,1068],{":files":1069},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"SETBIT mybitmap 0 1\\nSETBIT mybitmap 1 1\\nBITCOUNT mybitmap\\n\"}]",[10,1071,1072],{},"HyperLogLogs ƒë∆∞·ª£c s·ª≠ d·ª•ng ƒë·ªÉ ∆∞·ªõc t√≠nh s·ªë l∆∞·ª£ng ph·∫ßn t·ª≠ duy nh·∫•t trong m·ªôt t·∫≠p h·ª£p, r·∫•t h·ªØu √≠ch cho c√°c tr∆∞·ªùng h·ª£p nh∆∞ theo d√µi s·ªë l∆∞·ª£ng kh√°ch truy c·∫≠p duy nh·∫•t.",[37,1074],{":files":1075},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"PFADD myhll \\\"apple\\\" \\\"banana\\\" \\\"orange\\\"\\nPFCOUNT myhll\\n\"}]",[10,1077,1078],{},"Streams ƒë∆∞·ª£c thi·∫øt k·∫ø cho c√°c ƒë∆∞·ªùng d·∫´n d·ªØ li·ªáu th·ªùi gian th·ª±c v√† ngu·ªìn s·ª± ki·ªán, cho ph√©p b·∫°n th√™m v√† truy v·∫•n d·ªØ li·ªáu theo chu·ªói th·ªùi gian.",[37,1080],{":files":1081},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"XADD mystream * name \\\"Jay\\\" age 30\\nXRANGE mystream - +\\n\"}]",[366,1083,263],{"id":1084},"t√≠ch-h·ª£p-redis-v·ªõi-nodejs",[10,1086,265],{},[29,1088,268],{"id":1089},"_1-c√†i-ƒë·∫∑t-redis-v√†-ioredis",[37,1091],{":files":1092},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"npm install ioredis\\n# ho·∫∑c\\nyarn add ioredis\\n\"}]",[10,1094,270],{},[37,1096],{":files":1097},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"docker run -d -p 6379:6379 redis\\n\"}]",[29,1099,273],{"id":1100},"_2-thi·∫øt-l·∫≠p-c∆°-b·∫£n",[10,1102,1103,1104,1107],{},"T·∫°o m·ªôt t·ªáp c√≥ t√™n ",[399,1105,1106],{},"redis.js"," v√† th√™m ƒëo·∫°n m√£ sau:",[37,1109],{":files":1110},"[{\"title\":\"redis.js\",\"language\":\"javascript\",\"content\":\"// redis.ts\\nimport Redis from 'ioredis';\\n\\nconst redis = new Redis({\\n  host: '127.0.0.1',\\n  port: 6379,\\n  // password: 'm·∫≠t_kh·∫©u_n·∫øu_c√≥'\\n});\\n\\nexport default redis;\\n\"}]",[29,1112,278],{"id":1113},"_3-s·ª≠-d·ª•ng-redis-trong-·ª©ng-d·ª•ng",[10,1115,280],{},[37,1117],{":files":1118},"[{\"title\":\"example.js\",\"language\":\"javascript\",\"content\":\"// example.ts\\nimport redis from './redis';\\n\\n// Chu·ªói\\nawait redis.set('greeting', 'Hello Redis');\\nconst greeting = await redis.get('greeting');\\nconsole.log(greeting); // Hello Redis\\n\\n// Danh s√°ch\\nawait redis.lpush('queue', 'task1');\\nconst task = await redis.rpop('queue');\\nconsole.log(task); // task1\\n\\n// BƒÉm\\nawait redis.hset('user:1', { name: 'Jay', role: 'admin' });\\nconst user = await redis.hgetall('user:1');\\nconsole.log(user); // { name: 'Jay', role: 'admin' }\\n\\n// T·∫≠p h·ª£p c√≥ th·ª© t·ª±\\nawait redis.zadd('scores', 100, 'Jay');\\nconst scores = await redis.zrange('scores', 0, -1, 'WITHSCORES');\\nconsole.log(scores);\\n\\n// Pub/Sub\\nredis.subscribe('news');\\nredis.on('message', (channel, message) => {\\n  console.log(`Nh·∫≠n tin nh·∫Øn t·ª´ ${channel}: ${message}`);\\n});\\n\\nconst publisher = new Redis();\\npublisher.publish('news', 'Tin n√≥ng!');\\n\"}]",[29,1120,283],{"id":1121},"_4-v√≠-d·ª•-v·ªÅ-b·ªô-nh·ªõ-ƒë·ªám",[10,1123,285],{},[37,1125],{":files":1126},"[{\"title\":\"cache.js\",\"language\":\"javascript\",\"content\":\"import redis from './redis';\\n\\nasync function getUserData(userId) {\\n  const cacheKey = `user:${userId}`;\\n  const cachedData = await redis.get(cacheKey);\\n\\n  if (cachedData) {\\n    return JSON.parse(cachedData);\\n  }\\n\\n  // M√¥ ph·ªèng truy v·∫•n c∆° s·ªü d·ªØ li·ªáu\\n  const userData = await queryDatabase(userId);\\n  await redis.set(cacheKey, JSON.stringify(userData), 'EX', 3600); // L∆∞u v√†o b·ªô nh·ªõ ƒë·ªám trong 1 gi·ªù\\n  return userData;\\n}\\n\\nasync function queryDatabase(userId) {\\n  // M√¥ ph·ªèng truy v·∫•n c∆° s·ªü d·ªØ li·ªáu\\n  return { id: userId, name: 'Jay', age: 30 };\\n}\\n\"}]",[29,1128,288],{"id":1129},"_5-k·∫øt-lu·∫≠n",[10,1131,1132],{},"Redis l√† m·ªôt c√¥ng c·ª• m·∫°nh m·∫Ω cho b·ªô nh·ªõ ƒë·ªám v√† c√°c ·ª©ng d·ª•ng th·ªùi gian th·ª±c. B·∫±ng c√°ch t√≠ch h·ª£p Redis v√†o c√°c d·ª± √°n Node.js, b·∫°n c√≥ th·ªÉ c·∫£i thi·ªán ƒë√°ng k·ªÉ hi·ªáu su·∫•t v√† kh·∫£ nƒÉng m·ªü r·ªông. H∆∞·ªõng d·∫´n n√†y ƒë√£ bao qu√°t c√°c kh√°i ni·ªám c∆° b·∫£n v·ªÅ ki·ªÉu d·ªØ li·ªáu, l·ªánh, v√† c√°ch s·ª≠ d·ª•ng Redis trong ·ª©ng d·ª•ng Node.js.\nH√£y kh√°m ph√° th√™m c√°c t√≠nh nƒÉng n√¢ng cao nh∆∞ giao d·ªãch, scripting Lua, v√† clustering khi b·∫°n ƒë√£ quen thu·ªôc h∆°n v·ªõi Redis.\nRedis l√† m·ªôt c√¥ng c·ª• ƒëa nƒÉng c√≥ th·ªÉ n√¢ng cao ƒë√°ng k·ªÉ ·ª©ng d·ª•ng c·ªßa b·∫°n.",[10,1134,1135],{},[13,1136,1137],{},"Happy Coding",[29,1139,293],{"id":1140},"_6-t√†i-nguy√™n-tham-kh·∫£o",[472,1142,1143,1150],{},[429,1144,1145],{},[97,1146,1149],{"href":1147,"target":1148},"https://redis.io/documentation","_blank","T√†i li·ªáu Redis",[429,1151,1152],{},[97,1153,1155],{"href":1154,"target":1148},"https://github.com/redis/ioredis","T√†i li·ªáu ioredis",{"title":103,"searchDepth":104,"depth":104,"links":1157},[1158,1159,1160,1161,1162,1163,1164,1165,1166,1167,1168,1169],{"id":1023,"depth":104,"text":233},{"id":1031,"depth":104,"text":238},{"id":1039,"depth":104,"text":243},{"id":1047,"depth":104,"text":248},{"id":1055,"depth":104,"text":253},{"id":1063,"depth":104,"text":258},{"id":1089,"depth":104,"text":268},{"id":1100,"depth":104,"text":273},{"id":1113,"depth":104,"text":278},{"id":1121,"depth":104,"text":283},{"id":1129,"depth":104,"text":288},{"id":1140,"depth":104,"text":293},"T√¨m hi·ªÉu c√°c kh√°i ni·ªám c∆° b·∫£n v·ªÅ Redis bao g·ªìm c√°c ki·ªÉu d·ªØ li·ªáu v√† ph∆∞∆°ng th·ª©c, c≈©ng nh∆∞ c√°ch t√≠ch h·ª£p Redis v√†o ·ª©ng d·ª•ng Node.js ƒë·ªÉ s·ª≠ d·ª•ng b·ªô nh·ªõ ƒë·ªám v√† c√°c t√≠nh nƒÉng th·ªùi gian th·ª±c.","/images/blog/basic-redis/banner.png",{},{"title":223,"description":1170},"blog/basic-redis",[1176],"redis","5dkXuSwFTdEtvNjkeWS4YudML58pO813zMRKUs91G4E",{"id":4,"title":5,"body":1179,"date":113,"description":114,"extension":115,"image":116,"meta":1244,"navigation":118,"path":119,"published":118,"seo":1245,"stem":121,"tags":1246,"__hash__":124},{"type":7,"value":1180,"toc":1235},[1181,1185,1187,1191,1193,1195,1197,1199,1201,1203,1205,1207,1209,1211,1213,1215,1217,1219,1221,1223,1225,1227,1229,1231],[10,1182,1183],{},[13,1184,5],{},[10,1186,17],{},[19,1188,1189],{"type":21},[10,1190,24],{},[26,1192],{},[29,1194,32],{"id":31},[10,1196,35],{},[37,1198],{":files":39},[29,1200,43],{"id":42},[10,1202,46],{},[37,1204],{":files":49},[29,1206,53],{"id":52},[10,1208,56],{},[37,1210],{":files":59},[29,1212,63],{"id":62},[10,1214,66],{},[37,1216],{":files":69},[29,1218,73],{"id":72},[10,1220,76],{},[37,1222],{":files":79},[29,1224,83],{"id":82},[10,1226,86],{},[37,1228],{":files":79},[29,1230,92],{"id":91},[10,1232,95,1233,101],{},[97,1234,100],{"href":99},{"title":103,"searchDepth":104,"depth":104,"links":1236},[1237,1238,1239,1240,1241,1242,1243],{"id":31,"depth":104,"text":32},{"id":42,"depth":104,"text":43},{"id":52,"depth":104,"text":53},{"id":62,"depth":104,"text":63},{"id":72,"depth":104,"text":73},{"id":82,"depth":104,"text":83},{"id":91,"depth":104,"text":92},{},{"title":5,"description":114},[123],1745807525507]