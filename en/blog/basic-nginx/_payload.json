[{"data":1,"prerenderedAt":1473},["ShallowReactive",2],{"blog-basic-nginx":3,"search":505,"related-posts-basic-nginx":699,"all-post":700},{"id":4,"title":5,"body":6,"date":493,"description":494,"extension":495,"image":496,"meta":497,"navigation":498,"path":499,"published":498,"seo":500,"stem":501,"tags":502,"__hash__":504},"blog/blog/basic-nginx.md","Tá»•ng quan vÃ  cáº¥u hÃ¬nh nÃ¢ng cao Nginx",{"type":7,"value":8,"toc":490},"minimal",[9,16,19,47,50,55,58,62,65,68,73,76,79,82,89,92,102,105,109,112,127,130,135,138,141,156,159,164,196,199,202,205,208,211,214,222,233,241,252,255,267,270,273,277,280,283,288,296,299,301,305,308,334,337,342,345,348,351,353,357,360,363,365,369,372,375,377,381,384,387,389,393,396,399,402,405,407,411,414,417,420,423,426,429,431,435,438,441,443,447,477,479,482,487],[10,11,12],"p",{},[13,14,15],"strong",{},"HÆ°á»›ng dáº«n chi tiáº¿t vá» cáº¥u hÃ¬nh vÃ  triá»ƒn khai Nginx",[10,17,18],{},"Nginx lÃ  má»™t web server mÃ£ nguá»“n má»Ÿ máº¡nh máº½, Ä‘Æ°á»£c sá»­ dá»¥ng phá»• biáº¿n Ä‘á»ƒ phá»¥c vá»¥ ná»™i dung tÄ©nh, reverse proxy, cÃ¢n báº±ng táº£i, báº£o máº­t vÃ  há»— trá»£ PHP thÃ´ng qua FastCGI. Trong bÃ i viáº¿t nÃ y, chÃºng ta sáº½ Ä‘i qua cÃ¡c cáº¥u hÃ¬nh tá»« cÆ¡ báº£n Ä‘áº¿n nÃ¢ng cao, bao gá»“m:",[20,21,22,26,29,32,35,38,41,44],"ul",{},[23,24,25],"li",{},"CÃ¡ch cÃ i Ä‘áº·t Nginx",[23,27,28],{},"Cáº¥u hÃ¬nh mÃ¡y chá»§ máº·c Ä‘á»‹nh (default host)",[23,30,31],{},"TÃ­ch há»£p vá»›i PHP-FPM",[23,33,34],{},"Thiáº¿t láº­p Load Balancer (cÃ¢n báº±ng táº£i)",[23,36,37],{},"Gzip, HTTP/2, Rate limiting",[23,39,40],{},"Redirect, Rewrites",[23,42,43],{},"Hardening & Security",[23,45,46],{},"Logging nÃ¢ng cao",[48,49],"hr",{},[51,52,54],"h1",{"id":53},"ï¸-cÃ i-Ä‘áº·t-nginx","ðŸ› ï¸ CÃ i Ä‘áº·t Nginx",[10,56,57],{},"HÆ°á»›ng dáº«n cÃ i Ä‘áº·t Nginx trÃªn Ubuntu:",[59,60],"code-block",{":files":61},"[{\"title\":\"bash\",\"language\":\"nginx\",\"content\":\"sudo apt update\\nsudo apt install nginx\\n\"}]",[10,63,64],{},"Sau khi cÃ i Ä‘áº·t, báº¡n cÃ³ thá»ƒ kiá»ƒm tra tráº¡ng thÃ¡i Nginx:",[59,66],{":files":67},"[{\"title\":\"bash\",\"language\":\"nginx\",\"content\":\"sudo systemctl status nginx\"}]",[10,69,70],{},[13,71,72],{},"Kiá»ƒm tra tÆ°á»ng lá»­a:",[10,74,75],{},"Sau khi cÃ i Ä‘áº·t Nginx, báº¡n nÃªn Ä‘áº£m báº£o ráº±ng tÆ°á»ng lá»­a (firewall) cho phÃ©p lÆ°u lÆ°á»£ng HTTP vÃ  HTTPS Ä‘á»ƒ mÃ¡y chá»§ cÃ³ thá»ƒ phá»¥c vá»¥ ná»™i dung web.",[59,77],{":files":78},"[{\"title\":\"bash\",\"language\":\"nginx\",\"content\":\"sudo ufw allow â€˜Nginx Fullâ€™\\nsudo ufw status\\n\"}]",[10,80,81],{},"Lá»‡nh sudo ufw allow 'Nginx Full' sáº½ má»Ÿ cáº£ hai cá»•ng 80 (HTTP) vÃ  443 (HTTPS).\nSau Ä‘Ã³, dÃ¹ng sudo ufw status Ä‘á»ƒ xÃ¡c nháº­n ráº±ng cÃ¡c cá»•ng nÃ y Ä‘Ã£ Ä‘Æ°á»£c má»Ÿ.",[83,84,86],"alert",{"type":85},"warning",[10,87,88],{},"Náº¿u báº¡n chÆ°a báº­t ufw (Uncomplicated Firewall), báº¡n cÃ³ thá»ƒ báº­t báº±ng lá»‡nh sudo ufw enable. Tuy nhiÃªn, hÃ£y Ä‘áº£m báº£o cáº¥u hÃ¬nh chÃ­nh xÃ¡c Ä‘á»ƒ khÃ´ng bá»‹ khÃ³a SSH.",[10,90,91],{},"Kiá»ƒm tra hoáº¡t Ä‘á»™ng cá»§a Nginx:",[10,93,94,95,101],{},"Má»Ÿ trÃ¬nh duyá»‡t vÃ  truy cáº­p Ä‘á»‹a chá»‰:\nðŸ‘‰ http://\u003CÄ‘á»‹a_chá»‰_IP_cá»§a_báº¡n> hoáº·c ",[96,97,98],"a",{"href":98,"rel":99},"http://localhost",[100],"nofollow"," náº¿u kiá»ƒm tra cá»¥c bá»™.",[10,103,104],{},"Báº¡n sáº½ tháº¥y trang máº·c Ä‘á»‹nh â€œWelcome to nginx!â€ náº¿u má»i thá»© hoáº¡t Ä‘á»™ng Ä‘Ãºng cÃ¡ch.",[51,106,108],{"id":107},"ï¸-cáº¥u-hÃ¬nh-default-host-trong-nginx","âš™ï¸ Cáº¥u hÃ¬nh Default Host trong Nginx",[10,110,111],{},"TrÃªn Ubuntu, file cáº¥u hÃ¬nh cá»§a Nginx thÆ°á»ng Ä‘Æ°á»£c lÆ°u táº¡i cÃ¡c vá»‹ trÃ­ sau:",[20,113,114,121],{},[23,115,116,120],{},[117,118,119],"code",{},"/etc/nginx/sites-available/default"," (Náº¿u sá»­ dá»¥ng thÆ° má»¥c sites-available vÃ  sites-enabled).",[23,122,123,126],{},[117,124,125],{},"/etc/nginx/conf.d/default.conf"," (ThÃ´ng dá»¥ng cho cÃ¡c cáº¥u hÃ¬nh Ä‘Æ¡n giáº£n).",[10,128,129],{},"Máº·c Ä‘á»‹nh, khi cÃ i Ä‘áº·t Nginx, sáº½ cÃ³ má»™t file cáº¥u hÃ¬nh default trong thÆ° má»¥c /etc/nginx/sites-available/ vá»›i má»™t sá»‘ cáº¥u hÃ¬nh cÆ¡ báº£n. Báº¡n cÃ³ thá»ƒ sá»­a file nÃ y Ä‘á»ƒ cáº¥u hÃ¬nh server block cho website cá»§a mÃ¬nh.",[10,131,132],{},[13,133,134],{},"Cáº¥u hÃ¬nh Default Host",[10,136,137],{},"Má»Ÿ file cáº¥u hÃ¬nh Nginx máº·c Ä‘á»‹nh:",[59,139],{":files":140},"[{\"title\":\"default.conf\",\"language\":\"nginx\",\"content\":\"sudo nano /etc/nginx/sites-available/default\"}]",[10,142,143,144,147,148,151,152,155],{},"Máº·c Ä‘á»‹nh, Nginx sáº½ chá»n block Ä‘áº§u tiÃªn khi khÃ´ng tÃ¬m tháº¥y ",[117,145,146],{},"server_name"," tÆ°Æ¡ng á»©ng. Äá»ƒ cáº¥u hÃ¬nh rÃµ rÃ ng host máº·c Ä‘á»‹nh, báº¡n thÃªm ",[117,149,150],{},"default_server"," vÃ o dÃ²ng ",[117,153,154],{},"listen",":",[59,157],{":files":158},"[{\"title\":\"default.conf\",\"language\":\"nginx\",\"content\":\"server {\\n    listen 80 default_server;\\n    server_name _;\\n    root /var/www/html;\\n    index index.html index.htm;\\n\\n    location / {\\n        try_files $uri $uri/ =404;\\n    }\\n}\\n\"}]",[10,160,161],{},[13,162,163],{},"Ghi chÃº:",[20,165,166,172,178,184,190],{},[23,167,168,171],{},[117,169,170],{},"listen 80 default_server;",": Cáº¥u hÃ¬nh Nginx láº¯ng nghe cá»•ng 80 (HTTP) vÃ  Ä‘Ã¡nh dáº¥u Ä‘Ã¢y lÃ  default_server (server máº·c Ä‘á»‹nh cho cÃ¡c yÃªu cáº§u khÃ´ng khá»›p vá»›i server block khÃ¡c).",[23,173,174,177],{},[117,175,176],{},"root /var/www/html;",": ÄÆ°á»ng dáº«n tá»›i thÆ° má»¥c chá»©a cÃ¡c tá»‡p tin cá»§a website. Báº¡n cÃ³ thá»ƒ thay Ä‘á»•i Ä‘Æ°á»ng dáº«n nÃ y thÃ nh thÆ° má»¥c cá»§a website báº¡n muá»‘n phá»¥c vá»¥.",[23,179,180,183],{},[117,181,182],{},"server_name _;",": Chá»‰ thá»‹ nÃ y cho phÃ©p server cháº¥p nháº­n táº¥t cáº£ cÃ¡c yÃªu cáº§u khÃ´ng khá»›p vá»›i server block khÃ¡c. Náº¿u báº¡n cÃ³ tÃªn miá»n cá»¥ thá»ƒ, hÃ£y thay tháº¿ dáº¥u gáº¡ch dÆ°á»›i (_) báº±ng tÃªn miá»n cá»§a báº¡n.",[23,185,186,189],{},[117,187,188],{},"location /",": ÄÃ¢y lÃ  pháº§n cáº¥u hÃ¬nh Ä‘á»‹nh tuyáº¿n cho cÃ¡c yÃªu cáº§u Ä‘áº¿n. Cáº¥u hÃ¬nh nÃ y giÃºp Nginx tÃ¬m kiáº¿m cÃ¡c tá»‡p tin khi ngÆ°á»i dÃ¹ng truy cáº­p vÃ o website.",[23,191,192,195],{},[117,193,194],{},"try_files $uri $uri/ =404;",": Náº¿u yÃªu cáº§u khÃ´ng trÃ¹ng khá»›p vá»›i tá»‡p tin hoáº·c thÆ° má»¥c, sáº½ tráº£ vá» lá»—i 404.",[10,197,198],{},"Sau khi chá»‰nh sá»­a xong, báº¡n cáº§n kiá»ƒm tra xem cáº¥u hÃ¬nh cÃ³ chÃ­nh xÃ¡c khÃ´ng:",[59,200],{":files":201},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"sudo nginx -t\"}]",[10,203,204],{},"Náº¿u khÃ´ng cÃ³ lá»—i nÃ o, báº¡n cÃ³ thá»ƒ khá»Ÿi Ä‘á»™ng láº¡i Nginx Ä‘á»ƒ Ã¡p dá»¥ng cáº¥u hÃ¬nh má»›i:",[59,206],{":files":207},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"sudo systemctl restart nginx\"}]",[10,209,210],{},"Giá»›i thiá»‡u vá» sites-available vÃ  sites-enabled",[10,212,213],{},"Trong Nginx, thÆ° má»¥c sites-available vÃ  sites-enabled lÃ  má»™t cÆ¡ cháº¿ Ä‘á»ƒ quáº£n lÃ½ cÃ¡c website (virtual hosts) mÃ  Nginx cÃ³ thá»ƒ phá»¥c vá»¥. Cáº¥u trÃºc nÃ y giÃºp dá»… dÃ ng báº­t/táº¯t cÃ¡c website mÃ  khÃ´ng cáº§n pháº£i xÃ³a hoáº·c thay Ä‘á»•i cáº¥u hÃ¬nh trá»±c tiáº¿p.",[215,216,217],"ol",{},[23,218,219,155],{},[117,220,221],{},"sites-available",[20,223,224,227,230],{},[23,225,226],{},"ÄÃ¢y lÃ  nÆ¡i báº¡n táº¡o vÃ  lÆ°u trá»¯ táº¥t cáº£ cÃ¡c file cáº¥u hÃ¬nh cá»§a cÃ¡c website hoáº·c á»©ng dá»¥ng mÃ  báº¡n muá»‘n Nginx phá»¥c vá»¥.",[23,228,229],{},"Má»—i file cáº¥u hÃ¬nh trong sites-available Ä‘áº¡i diá»‡n cho má»™t website hoáº·c á»©ng dá»¥ng riÃªng biá»‡t.",[23,231,232],{},"VÃ­ dá»¥: /etc/nginx/sites-available/example.com lÃ  cáº¥u hÃ¬nh cho website example.com.",[215,234,236],{"start":235},2,[23,237,238,155],{},[117,239,240],{},"sites-enabled",[20,242,243,246,249],{},[23,244,245],{},"ÄÃ¢y lÃ  nÆ¡i chá»©a cÃ¡c liÃªn káº¿t tÆ°á»£ng trÆ°ng (symlink) Ä‘áº¿n cÃ¡c file cáº¥u hÃ¬nh trong sites-available mÃ  báº¡n muá»‘n Nginx thá»±c thi.",[23,247,248],{},"CÃ¡c liÃªn káº¿t nÃ y cho phÃ©p Nginx biáº¿t Ä‘Æ°á»£c website nÃ o sáº½ Ä‘Æ°á»£c kÃ­ch hoáº¡t.",[23,250,251],{},"Báº¡n khÃ´ng nÃªn trá»±c tiáº¿p chá»‰nh sá»­a cÃ¡c file trong sites-enabled. Thay vÃ o Ä‘Ã³, báº¡n táº¡o symlink tá»« sites-available.",[10,253,254],{},"CÃ¡ch thá»©c hoáº¡t Ä‘á»™ng:",[20,256,257,260],{},[23,258,259],{},"Khi báº¡n táº¡o má»™t file cáº¥u hÃ¬nh trong sites-available, báº¡n cÃ³ thá»ƒ kÃ­ch hoáº¡t nÃ³ báº±ng cÃ¡ch táº¡o má»™t symlink Ä‘áº¿n file Ä‘Ã³ trong thÆ° má»¥c sites-enabled.",[23,261,262,263,266],{},"Äá»ƒ táº¡o symlink, sá»­ dá»¥ng lá»‡nh ",[117,264,265],{},"ln -s",".",[10,268,269],{},"VÃ­ dá»¥, náº¿u báº¡n cÃ³ cáº¥u hÃ¬nh example.com trong sites-available, báº¡n cÃ³ thá»ƒ táº¡o symlink vÃ o sites-enabled nhÆ° sau:",[59,271],{":files":272},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"sudo ln -s /etc/nginx/sites-available/example.com /etc/nginx/sites-enabled/\"}]",[51,274,276],{"id":275},"cáº¥u-hÃ¬nh-nginx-vá»›i-php-fpm","ðŸ˜ Cáº¥u hÃ¬nh Nginx vá»›i PHP-FPM",[10,278,279],{},"Äá»ƒ xá»­ lÃ½ cÃ¡c file PHP, báº¡n cáº§n káº¿t ná»‘i Nginx vá»›i PHP-FPM qua socket hoáº·c TCP:",[59,281],{":files":282},"[{\"title\":\"php-fpm.conf\",\"language\":\"nginx\",\"content\":\"location ~ \\\\.php$ {\\n  try_files $uri =404;\\n  fastcgi_pass unix:/var/run/php/php8.1-fpm.sock;\\n  fastcgi_index index.php;\\n  fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;\\n  include fastcgi_params;\\n}\\n\"}]",[10,284,285],{},[13,286,287],{},"LÆ°u Ã½:",[20,289,290,293],{},[23,291,292],{},"ÄÆ°á»ng dáº«n socket cÃ³ thá»ƒ thay Ä‘á»•i tÃ¹y phiÃªn báº£n PHP.",[23,294,295],{},"Náº¿u dÃ¹ng TCP:",[59,297],{":files":298},"[{\"title\":\"php-fpm.conf\",\"language\":\"nginx\",\"content\":\"fastcgi_pass 127.0.0.1:9000;\"}]",[48,300],{},[51,302,304],{"id":303},"load-balancer-trong-nginx","ðŸŒ Load Balancer trong Nginx",[10,306,307],{},"Nginx há»— trá»£ cáº¥u hÃ¬nh cÃ¢n báº±ng táº£i vá»›i nhiá»u thuáº­t toÃ¡n lá»±a chá»n backend:",[20,309,310,316,322,328],{},[23,311,312,315],{},[117,313,314],{},"round-robin",": Máº·c Ä‘á»‹nh, phÃ¢n phá»‘i Ä‘á»u cho cÃ¡c request.",[23,317,318,321],{},[117,319,320],{},"least_conn",": Chá»n server Ã­t káº¿t ná»‘i nháº¥t.",[23,323,324,327],{},[117,325,326],{},"ip_hash",": Duy trÃ¬ session cho client.",[23,329,330,333],{},[117,331,332],{},"least_time",": chá»n server cÃ³ thá»i gian pháº£n há»“i Ã­t nháº¥t",[10,335,336],{},"CÃ³ thá»ƒ thÃªm trá»ng sá»‘ cho server báº±ng cÃ¡ch thÃªm sá»‘ sau ip:port",[20,338,339],{},[23,340,341],{},"Ex: server 192.168.1.0:8000 weight=3;",[59,343],{":files":344},"[{\"title\":\"upstream.conf\",\"language\":\"nginx\",\"content\":\"upstream myapp1 {\\n    ip_hash;\\n    server 192.168.1.10:8000;\\n    server 192.168.2.10:8000;\\n    # server 192.168.1.10:8000 weight=3;\\n}\\n\"}]",[10,346,347],{},"Cáº¥u hÃ¬nh server block proxy Ä‘áº¿n upstream:",[59,349],{":files":350},"[{\"title\":\"proxy.conf\",\"language\":\"nginx\",\"content\":\"server {\\n  listen 80 default_server;\\n  server_name _;\\n  root /var/www/html;\\n  index index.html index.htm;\\n\\n  location / {\\n      proxy_pass http://myapp1;\\n      proxy_set_header Host $host;\\n      proxy_set_header X-Real-IP $remote_addr;\\n      proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\\n      proxy_set_header X-Forwarded-Proto $scheme;\\n  }\\n}\\n\"}]",[48,352],{},[51,354,356],{"id":355},"gzip-compression","ðŸ“¦ Gzip Compression",[10,358,359],{},"Báº­t gzip giÃºp tÄƒng tá»‘c Ä‘á»™ táº£i trang báº±ng cÃ¡ch nÃ©n ná»™i dung tráº£ vá»:",[59,361],{":files":362},"[{\"title\":\"gzip.conf\",\"language\":\"nginx\",\"content\":\"gzip on;\\ngzip_disable \\\"msie6\\\";\\ngzip_vary on;\\ngzip_proxied any;\\ngzip_comp_level 6;\\ngzip_types text/plain text/css application/json application/javascript text/xml application/xml application/xml+rss text/javascript;\\n\"}]",[48,364],{},[51,366,368],{"id":367},"kÃ­ch-hoáº¡t-http2","âš¡ KÃ­ch hoáº¡t HTTP/2",[10,370,371],{},"HTTP/2 cáº£i thiá»‡n hiá»‡u suáº¥t thÃ´ng qua multiplexing vÃ  header compression:",[59,373],{":files":374},"[{\"title\":\"http2.conf\",\"language\":\"nginx\",\"content\":\"listen 443 ssl http2;\\n\"}]",[48,376],{},[51,378,380],{"id":379},"rate-limiting","ðŸš¦ Rate Limiting",[10,382,383],{},"Giá»›i háº¡n sá»‘ lÆ°á»£ng request Ä‘á»ƒ trÃ¡nh DDoS vÃ  abuse:",[59,385],{":files":386},"[{\"title\":\"rate-limiting.conf\",\"language\":\"nginx\",\"content\":\"limit_req_zone $binary_remote_addr zone=mylimit:10m rate=1r/s;\\n\\nlocation /api/ {\\n    limit_req zone=mylimit burst=5;\\n}\\n\"}]",[48,388],{},[51,390,392],{"id":391},"redirect-vÃ -rewrites","ðŸ” Redirect vÃ  Rewrites",[10,394,395],{},"Chuyá»ƒn hÆ°á»›ng toÃ n bá»™ traffic HTTP sang HTTPS:",[59,397],{":files":398},"[{\"title\":\"redirect.conf\",\"language\":\"nginx\",\"content\":\"server {\\n    listen 80;\\n    server_name example.com;\\n    return 301 https://$host$request_uri;\\n}\\nserver {\\n    listen 443 ssl;\\n    server_name example.com;\\n    ssl_certificate /path/to/cert.pem;\\n    ssl_certificate_key /path/to/key.pem;\\n}\\n\"}]",[10,400,401],{},"Viáº¿t láº¡i URL cho SPA:",[59,403],{":files":404},"[{\"title\":\"rewrite.conf\",\"language\":\"nginx\",\"content\":\"location /api/ {\\n    rewrite ^/api/(.*)$ /$1 break;\\n}\\n\"}]",[48,406],{},[51,408,410],{"id":409},"hardening-security","ðŸ” Hardening & Security",[10,412,413],{},"Báº£o vá»‡ server báº±ng cÃ¡ch tá»« chá»‘i truy cáº­p file nháº¡y cáº£m:",[59,415],{":files":416},"[{\"title\":\"deny.conf\",\"language\":\"nginx\",\"content\":\"location ~* \\\\\\\\.(git|env|bak|log)$ {\\n  deny all;\\n}\\n\"}]",[10,418,419],{},"áº¨n thÃ´ng tin server:",[59,421],{":files":422},"[{\"title\":\"security.conf\",\"language\":\"nginx\",\"content\":\"server_tokens off;\\n\"}]",[10,424,425],{},"Chá»‘ng clickjacking vÃ  XSS:",[59,427],{":files":428},"[{\"title\":\"headers.conf\",\"language\":\"nginx\",\"content\":\"add_header X-Content-Security-Policy \\\"default-src 'self'\\\";\\nadd_header X-Frame-Options \\\"DENY\\\";\\nadd_header X-XSS-Protection \\\"1; mode=block\\\";\\nadd_header Referrer-Policy \\\"no-referrer\\\";\\n\"}]",[48,430],{},[51,432,434],{"id":433},"logging-nÃ¢ng-cao","ðŸ“Š Logging nÃ¢ng cao",[10,436,437],{},"Cáº¥u hÃ¬nh custom log format Ä‘á»ƒ dá»… debug:",[59,439],{":files":440},"[{\"title\":\"logging.conf\",\"language\":\"nginx\",\"content\":\"log_format main '$remote_addr - $remote_user [$time_local] \\\"$request\\\" '\\n               '$status $body_bytes_sent \\\"$http_referer\\\" '\\n               '\\\"$http_user_agent\\\" \\\"$http_x_forwarded_for\\\"';\\naccess_log /var/log/nginx/access.log main;\\n\"}]",[48,442],{},[51,444,446],{"id":445},"tÃ i-liá»‡u-tham-kháº£o","ðŸ“š TÃ i liá»‡u tham kháº£o",[20,448,449,456,463,470],{},[23,450,451],{},[96,452,455],{"href":453,"rel":454},"https://nginx.org/en/docs/",[100],"Nginx Documentation",[23,457,458],{},[96,459,462],{"href":460,"rel":461},"https://docs.nginx.com/nginx/admin-guide/load-balancer/http-load-balancer/",[100],"Nginx Load Balancing Guide",[23,464,465],{},[96,466,469],{"href":467,"rel":468},"https://www.php.net/manual/en/install.fpm.configuration.php",[100],"Nginx + PHP-FPM Setup",[23,471,472],{},[96,473,476],{"href":474,"rel":475},"https://owasp.org/www-project-secure-headers/",[100],"OWASP Nginx Hardening Guide",[48,478],{},[480,481],"br",{},[10,483,484],{},[13,485,486],{},"TÃ³m láº¡i:",[10,488,489],{},"Nginx lÃ  cÃ´ng cá»¥ cá»±c ká»³ máº¡nh máº½ vÃ  linh hoáº¡t, khÃ´ng chá»‰ giá»›i háº¡n á»Ÿ web server mÃ  cÃ²n lÃ  reverse proxy, caching layer, vÃ  load balancer. Viá»‡c náº¯m vá»¯ng vÃ  khai thÃ¡c tá»‘t cÃ¡c tÃ­nh nÄƒng sáº½ giÃºp há»‡ thá»‘ng cá»§a báº¡n hiá»‡u suáº¥t cao, báº£o máº­t vÃ  dá»… má»Ÿ rá»™ng.",{"title":491,"searchDepth":235,"depth":235,"links":492},"",[],"2025-04-25T00:00:00.000Z","HÆ°á»›ng dáº«n chi tiáº¿t vá» cáº¥u hÃ¬nh máº·c Ä‘á»‹nh, PHP-FPM vÃ  thiáº¿t láº­p Load Balancer vá»›i Nginx.","md","/images/blog/basic-nginx/banner.png",{},true,"/blog/basic-nginx",{"title":5,"description":494},"blog/basic-nginx",[503],"nginx","ekzCd2rRfy062WRQePNtoUlEHm2UJY0Ebu1Ika4ONpk",[506,512,517,522,527,532,537,541,544,548,552,556,560,563,566,569,573,577,580,584,589,594,599,604,609,614,619,624,629,634,639,644,649,654,659,664,669,674,679,684,689,694],{"id":507,"title":508,"titles":509,"content":510,"level":511},"/blog/ansible","Tá»•ng quan vÃ  cáº¥u hÃ¬nh Ansible",[],"HÆ°á»›ng dáº«n chi tiáº¿t vá» cÃ i Ä‘áº·t, cáº¥u hÃ¬nh SSH, inventory vÃ  sá»­ dá»¥ng Playbook trong Ansible. HÆ°á»›ng dáº«n chi tiáº¿t vá» cÃ i Ä‘áº·t vÃ  triá»ƒn khai Ansible Ansible lÃ  má»™t cÃ´ng cá»¥ tá»± Ä‘á»™ng hÃ³a máº¡nh máº½, giÃºp quáº£n lÃ½ cáº¥u hÃ¬nh, triá»ƒn khai á»©ng dá»¥ng vÃ  Ä‘iá»u phá»‘i há»‡ thá»‘ng má»™t cÃ¡ch dá»… dÃ ng. Trong bÃ i viáº¿t nÃ y, chÃºng ta sáº½ tÃ¬m hiá»ƒu cÃ¡ch cÃ i Ä‘áº·t, cáº¥u hÃ¬nh vÃ  sá»­ dá»¥ng Ansible thÃ´ng qua cÃ¡c vÃ­ dá»¥ thá»±c táº¿.",1,{"id":513,"title":514,"titles":515,"content":516,"level":511},"/blog/ansible#ï¸-cÃ i-Ä‘áº·t-ansible","ðŸ› ï¸ CÃ i Ä‘áº·t Ansible",[],"HÆ°á»›ng dáº«n cÃ i Ä‘áº·t Ansible trÃªn Ubuntu: Sau khi cÃ i Ä‘áº·t, báº¡n cÃ³ thá»ƒ kiá»ƒm tra phiÃªn báº£n Ansible:",{"id":518,"title":519,"titles":520,"content":521,"level":511},"/blog/ansible#cáº¥u-hÃ¬nh-ssh","ðŸ”‘ Cáº¥u hÃ¬nh SSH",[],"Äá»ƒ Ansible cÃ³ thá»ƒ káº¿t ná»‘i Ä‘áº¿n cÃ¡c mÃ¡y chá»§ tá»« xa, báº¡n cáº§n cáº¥u hÃ¬nh SSH. DÆ°á»›i Ä‘Ã¢y lÃ  cÃ¡ch sao chÃ©p SSH key Ä‘áº¿n mÃ¡y chá»§ khÃ¡c: LÆ°u Ã½: Thay vinhtieng@123.3123.12 báº±ng tÃªn ngÆ°á»i dÃ¹ng vÃ  Ä‘á»‹a chá»‰ IP cá»§a mÃ¡y chá»§ tá»« xa.",{"id":523,"title":524,"titles":525,"content":526,"level":511},"/blog/ansible#hosts-inventory","ðŸ“‹ Hosts - Inventory",[],"File inventory lÃ  nÆ¡i báº¡n Ä‘á»‹nh nghÄ©a danh sÃ¡ch cÃ¡c mÃ¡y chá»§ mÃ  Ansible sáº½ quáº£n lÃ½. ÄÃ¢y lÃ  má»™t vÃ­ dá»¥ cÆ¡ báº£n:",{"id":528,"title":529,"titles":530,"content":531,"level":511},"/blog/ansible#kiá»ƒm-tra-káº¿t-ná»‘i-ping","ðŸ“ Kiá»ƒm tra káº¿t ná»‘i (Ping)",[],"Báº¡n cÃ³ thá»ƒ kiá»ƒm tra káº¿t ná»‘i Ä‘áº¿n cÃ¡c mÃ¡y chá»§ báº±ng lá»‡nh ping: Ping vá»›i file hosts máº·c Ä‘á»‹nh: Ping vá»›i file inventory tÃ¹y chá»‰nh:",{"id":533,"title":534,"titles":535,"content":536,"level":511},"/blog/ansible#playbook-task-module","ðŸ“œ Playbook - Task - Module",[],"Playbook lÃ  nÆ¡i báº¡n Ä‘á»‹nh nghÄ©a cÃ¡c tÃ¡c vá»¥ (tasks) cáº§n thá»±c hiá»‡n trÃªn cÃ¡c mÃ¡y chá»§. DÆ°á»›i Ä‘Ã¢y lÃ  cÃ¡ch cháº¡y má»™t playbook: VÃ­ dá»¥ vá» Playbook Ä‘Æ¡n giáº£n:",{"id":538,"title":446,"titles":539,"content":540,"level":511},"/blog/ansible#tÃ i-liá»‡u-tham-kháº£o",[],"Ansible DocumentationAnsible GalaxyAnsible Playbook Guide TÃ³m láº¡i: Ansible lÃ  cÃ´ng cá»¥ máº¡nh máº½ giÃºp tá»± Ä‘á»™ng hÃ³a cÃ¡c tÃ¡c vá»¥ quáº£n trá»‹ há»‡ thá»‘ng. Viá»‡c náº¯m vá»¯ng cÃ¡ch sá»­ dá»¥ng Ansible sáº½ giÃºp báº¡n tiáº¿t kiá»‡m thá»i gian vÃ  giáº£m thiá»ƒu lá»—i trong quÃ¡ trÃ¬nh quáº£n lÃ½ há»‡ thá»‘ng.",{"id":499,"title":5,"titles":542,"content":543,"level":511},[],"HÆ°á»›ng dáº«n chi tiáº¿t vá» cáº¥u hÃ¬nh máº·c Ä‘á»‹nh, PHP-FPM vÃ  thiáº¿t láº­p Load Balancer vá»›i Nginx. HÆ°á»›ng dáº«n chi tiáº¿t vá» cáº¥u hÃ¬nh vÃ  triá»ƒn khai Nginx Nginx lÃ  má»™t web server mÃ£ nguá»“n má»Ÿ máº¡nh máº½, Ä‘Æ°á»£c sá»­ dá»¥ng phá»• biáº¿n Ä‘á»ƒ phá»¥c vá»¥ ná»™i dung tÄ©nh, reverse proxy, cÃ¢n báº±ng táº£i, báº£o máº­t vÃ  há»— trá»£ PHP thÃ´ng qua FastCGI. Trong bÃ i viáº¿t nÃ y, chÃºng ta sáº½ Ä‘i qua cÃ¡c cáº¥u hÃ¬nh tá»« cÆ¡ báº£n Ä‘áº¿n nÃ¢ng cao, bao gá»“m: CÃ¡ch cÃ i Ä‘áº·t NginxCáº¥u hÃ¬nh mÃ¡y chá»§ máº·c Ä‘á»‹nh (default host)TÃ­ch há»£p vá»›i PHP-FPMThiáº¿t láº­p Load Balancer (cÃ¢n báº±ng táº£i)Gzip, HTTP/2, Rate limitingRedirect, RewritesHardening & SecurityLogging nÃ¢ng cao",{"id":545,"title":54,"titles":546,"content":547,"level":511},"/blog/basic-nginx#ï¸-cÃ i-Ä‘áº·t-nginx",[],"HÆ°á»›ng dáº«n cÃ i Ä‘áº·t Nginx trÃªn Ubuntu: Sau khi cÃ i Ä‘áº·t, báº¡n cÃ³ thá»ƒ kiá»ƒm tra tráº¡ng thÃ¡i Nginx: Kiá»ƒm tra tÆ°á»ng lá»­a: Sau khi cÃ i Ä‘áº·t Nginx, báº¡n nÃªn Ä‘áº£m báº£o ráº±ng tÆ°á»ng lá»­a (firewall) cho phÃ©p lÆ°u lÆ°á»£ng HTTP vÃ  HTTPS Ä‘á»ƒ mÃ¡y chá»§ cÃ³ thá»ƒ phá»¥c vá»¥ ná»™i dung web. Lá»‡nh sudo ufw allow 'Nginx Full' sáº½ má»Ÿ cáº£ hai cá»•ng 80 (HTTP) vÃ  443 (HTTPS).\nSau Ä‘Ã³, dÃ¹ng sudo ufw status Ä‘á»ƒ xÃ¡c nháº­n ráº±ng cÃ¡c cá»•ng nÃ y Ä‘Ã£ Ä‘Æ°á»£c má»Ÿ. Náº¿u báº¡n chÆ°a báº­t ufw (Uncomplicated Firewall), báº¡n cÃ³ thá»ƒ báº­t báº±ng lá»‡nh sudo ufw enable. Tuy nhiÃªn, hÃ£y Ä‘áº£m báº£o cáº¥u hÃ¬nh chÃ­nh xÃ¡c Ä‘á»ƒ khÃ´ng bá»‹ khÃ³a SSH. Kiá»ƒm tra hoáº¡t Ä‘á»™ng cá»§a Nginx: Má»Ÿ trÃ¬nh duyá»‡t vÃ  truy cáº­p Ä‘á»‹a chá»‰:\nðŸ‘‰ http://\u003CÄ‘á»‹a_chá»‰_IP_cá»§a_báº¡n> hoáº·c http://localhost náº¿u kiá»ƒm tra cá»¥c bá»™. Báº¡n sáº½ tháº¥y trang máº·c Ä‘á»‹nh â€œWelcome to nginx!â€ náº¿u má»i thá»© hoáº¡t Ä‘á»™ng Ä‘Ãºng cÃ¡ch.",{"id":549,"title":108,"titles":550,"content":551,"level":511},"/blog/basic-nginx#ï¸-cáº¥u-hÃ¬nh-default-host-trong-nginx",[],"TrÃªn Ubuntu, file cáº¥u hÃ¬nh cá»§a Nginx thÆ°á»ng Ä‘Æ°á»£c lÆ°u táº¡i cÃ¡c vá»‹ trÃ­ sau: /etc/nginx/sites-available/default (Náº¿u sá»­ dá»¥ng thÆ° má»¥c sites-available vÃ  sites-enabled)./etc/nginx/conf.d/default.conf (ThÃ´ng dá»¥ng cho cÃ¡c cáº¥u hÃ¬nh Ä‘Æ¡n giáº£n). Máº·c Ä‘á»‹nh, khi cÃ i Ä‘áº·t Nginx, sáº½ cÃ³ má»™t file cáº¥u hÃ¬nh default trong thÆ° má»¥c /etc/nginx/sites-available/ vá»›i má»™t sá»‘ cáº¥u hÃ¬nh cÆ¡ báº£n. Báº¡n cÃ³ thá»ƒ sá»­a file nÃ y Ä‘á»ƒ cáº¥u hÃ¬nh server block cho website cá»§a mÃ¬nh. Cáº¥u hÃ¬nh Default Host Má»Ÿ file cáº¥u hÃ¬nh Nginx máº·c Ä‘á»‹nh: Máº·c Ä‘á»‹nh, Nginx sáº½ chá»n block Ä‘áº§u tiÃªn khi khÃ´ng tÃ¬m tháº¥y server_name tÆ°Æ¡ng á»©ng. Äá»ƒ cáº¥u hÃ¬nh rÃµ rÃ ng host máº·c Ä‘á»‹nh, báº¡n thÃªm default_server vÃ o dÃ²ng listen: Ghi chÃº: listen 80 default_server;: Cáº¥u hÃ¬nh Nginx láº¯ng nghe cá»•ng 80 (HTTP) vÃ  Ä‘Ã¡nh dáº¥u Ä‘Ã¢y lÃ  default_server (server máº·c Ä‘á»‹nh cho cÃ¡c yÃªu cáº§u khÃ´ng khá»›p vá»›i server block khÃ¡c).root /var/www/html;: ÄÆ°á»ng dáº«n tá»›i thÆ° má»¥c chá»©a cÃ¡c tá»‡p tin cá»§a website. Báº¡n cÃ³ thá»ƒ thay Ä‘á»•i Ä‘Æ°á»ng dáº«n nÃ y thÃ nh thÆ° má»¥c cá»§a website báº¡n muá»‘n phá»¥c vá»¥.server_name _;: Chá»‰ thá»‹ nÃ y cho phÃ©p server cháº¥p nháº­n táº¥t cáº£ cÃ¡c yÃªu cáº§u khÃ´ng khá»›p vá»›i server block khÃ¡c. Náº¿u báº¡n cÃ³ tÃªn miá»n cá»¥ thá»ƒ, hÃ£y thay tháº¿ dáº¥u gáº¡ch dÆ°á»›i (_) báº±ng tÃªn miá»n cá»§a báº¡n.location /: ÄÃ¢y lÃ  pháº§n cáº¥u hÃ¬nh Ä‘á»‹nh tuyáº¿n cho cÃ¡c yÃªu cáº§u Ä‘áº¿n. Cáº¥u hÃ¬nh nÃ y giÃºp Nginx tÃ¬m kiáº¿m cÃ¡c tá»‡p tin khi ngÆ°á»i dÃ¹ng truy cáº­p vÃ o website.try_files $uri $uri/ =404;: Náº¿u yÃªu cáº§u khÃ´ng trÃ¹ng khá»›p vá»›i tá»‡p tin hoáº·c thÆ° má»¥c, sáº½ tráº£ vá» lá»—i 404. Sau khi chá»‰nh sá»­a xong, báº¡n cáº§n kiá»ƒm tra xem cáº¥u hÃ¬nh cÃ³ chÃ­nh xÃ¡c khÃ´ng: Náº¿u khÃ´ng cÃ³ lá»—i nÃ o, báº¡n cÃ³ thá»ƒ khá»Ÿi Ä‘á»™ng láº¡i Nginx Ä‘á»ƒ Ã¡p dá»¥ng cáº¥u hÃ¬nh má»›i: Giá»›i thiá»‡u vá» sites-available vÃ  sites-enabled Trong Nginx, thÆ° má»¥c sites-available vÃ  sites-enabled lÃ  má»™t cÆ¡ cháº¿ Ä‘á»ƒ quáº£n lÃ½ cÃ¡c website (virtual hosts) mÃ  Nginx cÃ³ thá»ƒ phá»¥c vá»¥. Cáº¥u trÃºc nÃ y giÃºp dá»… dÃ ng báº­t/táº¯t cÃ¡c website mÃ  khÃ´ng cáº§n pháº£i xÃ³a hoáº·c thay Ä‘á»•i cáº¥u hÃ¬nh trá»±c tiáº¿p. sites-available: ÄÃ¢y lÃ  nÆ¡i báº¡n táº¡o vÃ  lÆ°u trá»¯ táº¥t cáº£ cÃ¡c file cáº¥u hÃ¬nh cá»§a cÃ¡c website hoáº·c á»©ng dá»¥ng mÃ  báº¡n muá»‘n Nginx phá»¥c vá»¥.Má»—i file cáº¥u hÃ¬nh trong sites-available Ä‘áº¡i diá»‡n cho má»™t website hoáº·c á»©ng dá»¥ng riÃªng biá»‡t.VÃ­ dá»¥: /etc/nginx/sites-available/example.com lÃ  cáº¥u hÃ¬nh cho website example.com. sites-enabled: ÄÃ¢y lÃ  nÆ¡i chá»©a cÃ¡c liÃªn káº¿t tÆ°á»£ng trÆ°ng (symlink) Ä‘áº¿n cÃ¡c file cáº¥u hÃ¬nh trong sites-available mÃ  báº¡n muá»‘n Nginx thá»±c thi.CÃ¡c liÃªn káº¿t nÃ y cho phÃ©p Nginx biáº¿t Ä‘Æ°á»£c website nÃ o sáº½ Ä‘Æ°á»£c kÃ­ch hoáº¡t.Báº¡n khÃ´ng nÃªn trá»±c tiáº¿p chá»‰nh sá»­a cÃ¡c file trong sites-enabled. Thay vÃ o Ä‘Ã³, báº¡n táº¡o symlink tá»« sites-available. CÃ¡ch thá»©c hoáº¡t Ä‘á»™ng: Khi báº¡n táº¡o má»™t file cáº¥u hÃ¬nh trong sites-available, báº¡n cÃ³ thá»ƒ kÃ­ch hoáº¡t nÃ³ báº±ng cÃ¡ch táº¡o má»™t symlink Ä‘áº¿n file Ä‘Ã³ trong thÆ° má»¥c sites-enabled.Äá»ƒ táº¡o symlink, sá»­ dá»¥ng lá»‡nh ln -s. VÃ­ dá»¥, náº¿u báº¡n cÃ³ cáº¥u hÃ¬nh example.com trong sites-available, báº¡n cÃ³ thá»ƒ táº¡o symlink vÃ o sites-enabled nhÆ° sau:",{"id":553,"title":276,"titles":554,"content":555,"level":511},"/blog/basic-nginx#cáº¥u-hÃ¬nh-nginx-vá»›i-php-fpm",[],"Äá»ƒ xá»­ lÃ½ cÃ¡c file PHP, báº¡n cáº§n káº¿t ná»‘i Nginx vá»›i PHP-FPM qua socket hoáº·c TCP: LÆ°u Ã½: ÄÆ°á»ng dáº«n socket cÃ³ thá»ƒ thay Ä‘á»•i tÃ¹y phiÃªn báº£n PHP.Náº¿u dÃ¹ng TCP:",{"id":557,"title":304,"titles":558,"content":559,"level":511},"/blog/basic-nginx#load-balancer-trong-nginx",[],"Nginx há»— trá»£ cáº¥u hÃ¬nh cÃ¢n báº±ng táº£i vá»›i nhiá»u thuáº­t toÃ¡n lá»±a chá»n backend: round-robin: Máº·c Ä‘á»‹nh, phÃ¢n phá»‘i Ä‘á»u cho cÃ¡c request.least_conn: Chá»n server Ã­t káº¿t ná»‘i nháº¥t.ip_hash: Duy trÃ¬ session cho client.least_time: chá»n server cÃ³ thá»i gian pháº£n há»“i Ã­t nháº¥t CÃ³ thá»ƒ thÃªm trá»ng sá»‘ cho server báº±ng cÃ¡ch thÃªm sá»‘ sau ip:port Ex: server 192.168.1.0:8000 weight=3; Cáº¥u hÃ¬nh server block proxy Ä‘áº¿n upstream:",{"id":561,"title":356,"titles":562,"content":359,"level":511},"/blog/basic-nginx#gzip-compression",[],{"id":564,"title":368,"titles":565,"content":371,"level":511},"/blog/basic-nginx#kÃ­ch-hoáº¡t-http2",[],{"id":567,"title":380,"titles":568,"content":383,"level":511},"/blog/basic-nginx#rate-limiting",[],{"id":570,"title":392,"titles":571,"content":572,"level":511},"/blog/basic-nginx#redirect-vÃ -rewrites",[],"Chuyá»ƒn hÆ°á»›ng toÃ n bá»™ traffic HTTP sang HTTPS: Viáº¿t láº¡i URL cho SPA:",{"id":574,"title":410,"titles":575,"content":576,"level":511},"/blog/basic-nginx#hardening-security",[],"Báº£o vá»‡ server báº±ng cÃ¡ch tá»« chá»‘i truy cáº­p file nháº¡y cáº£m: áº¨n thÃ´ng tin server: Chá»‘ng clickjacking vÃ  XSS:",{"id":578,"title":434,"titles":579,"content":437,"level":511},"/blog/basic-nginx#logging-nÃ¢ng-cao",[],{"id":581,"title":446,"titles":582,"content":583,"level":511},"/blog/basic-nginx#tÃ i-liá»‡u-tham-kháº£o",[],"Nginx DocumentationNginx Load Balancing GuideNginx + PHP-FPM SetupOWASP Nginx Hardening Guide TÃ³m láº¡i: Nginx lÃ  cÃ´ng cá»¥ cá»±c ká»³ máº¡nh máº½ vÃ  linh hoáº¡t, khÃ´ng chá»‰ giá»›i háº¡n á»Ÿ web server mÃ  cÃ²n lÃ  reverse proxy, caching layer, vÃ  load balancer. Viá»‡c náº¯m vá»¯ng vÃ  khai thÃ¡c tá»‘t cÃ¡c tÃ­nh nÄƒng sáº½ giÃºp há»‡ thá»‘ng cá»§a báº¡n hiá»‡u suáº¥t cao, báº£o máº­t vÃ  dá»… má»Ÿ rá»™ng.",{"id":585,"title":586,"titles":587,"content":588,"level":511},"/blog/basic-redis","CÆ¡ Báº£n Vá» Redis vÃ  TÃ­ch Há»£p Vá»›i Node.js",[],"TÃ¬m hiá»ƒu cÃ¡c khÃ¡i niá»‡m cÆ¡ báº£n vá» Redis bao gá»“m cÃ¡c kiá»ƒu dá»¯ liá»‡u vÃ  phÆ°Æ¡ng thá»©c, cÅ©ng nhÆ° cÃ¡ch tÃ­ch há»£p Redis vÃ o á»©ng dá»¥ng Node.js Ä‘á»ƒ sá»­ dá»¥ng bá»™ nhá»› Ä‘á»‡m vÃ  cÃ¡c tÃ­nh nÄƒng thá»i gian thá»±c. CÆ¡ Báº£n Vá» Redis vÃ  TÃ­ch Há»£p Vá»›i Node.js Redis lÃ  má»™t kho dá»¯ liá»‡u key-value trong bá»™ nhá»›, mÃ£ nguá»“n má»Ÿ, ná»•i tiáº¿ng vá»›i hiá»‡u suáº¥t vÃ  tÃ­nh linh hoáº¡t. Redis há»— trá»£ nhiá»u kiá»ƒu dá»¯ liá»‡u, phÃ¹ há»£p cho viá»‡c sá»­ dá»¥ng bá»™ nhá»› Ä‘á»‡m, á»©ng dá»¥ng thá»i gian thá»±c, há»‡ thá»‘ng pub/sub, vÃ  nhiá»u hÆ¡n ná»¯a. Trong hÆ°á»›ng dáº«n nÃ y, chÃºng ta sáº½ tÃ¬m hiá»ƒu: CÃ¡c kiá»ƒu dá»¯ liá»‡u trong RedisCÃ¡c lá»‡nh phá»• biáº¿n cá»§a RedisCÃ¡ch tÃ­ch há»£p Redis vÃ o dá»± Ã¡n Node.js",{"id":590,"title":591,"titles":592,"content":593,"level":511},"/blog/basic-redis#cÃ¡c-kiá»ƒu-dá»¯-liá»‡u-lá»‡nh-redis","ðŸ“¦ CÃ¡c Kiá»ƒu Dá»¯ Liá»‡u & Lá»‡nh Redis",[],"Redis há»— trá»£ nhiá»u cáº¥u trÃºc dá»¯ liá»‡u khÃ¡c nhau:",{"id":595,"title":596,"titles":597,"content":598,"level":235},"/blog/basic-redis#_1-chuá»—i-strings","1. Chuá»—i (Strings)",[591],"Chuá»—i lÃ  kiá»ƒu dá»¯ liá»‡u cÆ¡ báº£n nháº¥t trong Redis. Báº¡n cÃ³ thá»ƒ lÆ°u trá»¯ báº¥t ká»³ giÃ¡ trá»‹ nÃ o dÆ°á»›i dáº¡ng chuá»—i, bao gá»“m cáº£ sá»‘ nguyÃªn vÃ  JSON Ä‘Æ°á»£c tuáº§n tá»± hÃ³a.",{"id":600,"title":601,"titles":602,"content":603,"level":235},"/blog/basic-redis#_2-danh-sÃ¡ch-lists","2. Danh sÃ¡ch (Lists)",[591],"Danh sÃ¡ch lÃ  cÃ¡c táº­p há»£p cÃ³ thá»© tá»± cá»§a chuá»—i. Báº¡n cÃ³ thá»ƒ thÃªm pháº§n tá»­ vÃ o Ä‘áº§u hoáº·c cuá»‘i danh sÃ¡ch.",{"id":605,"title":606,"titles":607,"content":608,"level":235},"/blog/basic-redis#_3-táº­p-há»£p-sets","3. Táº­p há»£p (Sets)",[591],"Táº­p há»£p lÃ  cÃ¡c táº­p há»£p khÃ´ng cÃ³ thá»© tá»± cá»§a cÃ¡c chuá»—i duy nháº¥t. ChÃºng há»— trá»£ cÃ¡c phÃ©p toÃ¡n nhÆ° há»£p, giao, vÃ  hiá»‡u.",{"id":610,"title":611,"titles":612,"content":613,"level":235},"/blog/basic-redis#_4-bÄƒm-hashes","4. BÄƒm (Hashes)",[591],"BÄƒm lÃ  cÃ¡c báº£n Ä‘á»“ giá»¯a trÆ°á»ng chuá»—i vÃ  giÃ¡ trá»‹ chuá»—i, ráº¥t lÃ½ tÆ°á»Ÿng Ä‘á»ƒ biá»ƒu diá»…n cÃ¡c Ä‘á»‘i tÆ°á»£ng.",{"id":615,"title":616,"titles":617,"content":618,"level":235},"/blog/basic-redis#_5-táº­p-há»£p-cÃ³-thá»©-tá»±-sorted-sets","5. Táº­p há»£p cÃ³ thá»© tá»± (Sorted Sets)",[591],"Táº­p há»£p cÃ³ thá»© tá»± tÆ°Æ¡ng tá»± nhÆ° táº­p há»£p nhÆ°ng cÃ³ má»™t Ä‘iá»ƒm sá»‘ liÃªn káº¿t vá»›i má»—i pháº§n tá»­, cho phÃ©p truy xuáº¥t theo thá»© tá»±.",{"id":620,"title":621,"titles":622,"content":623,"level":235},"/blog/basic-redis#_6-bitmaps-hyperloglogs-streams","6. Bitmaps, HyperLogLogs, Streams",[591],"ÄÃ¢y lÃ  cÃ¡c cáº¥u trÃºc nÃ¢ng cao hÆ¡n:\nBitmaps Ä‘Æ°á»£c sá»­ dá»¥ng cho cÃ¡c thao tÃ¡c cáº¥p bit, cho phÃ©p báº¡n thao tÃ¡c cÃ¡c bit riÃªng láº» trong má»™t chuá»—i. HyperLogLogs Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ Æ°á»›c tÃ­nh sá»‘ lÆ°á»£ng pháº§n tá»­ duy nháº¥t trong má»™t táº­p há»£p, ráº¥t há»¯u Ã­ch cho cÃ¡c trÆ°á»ng há»£p nhÆ° theo dÃµi sá»‘ lÆ°á»£ng khÃ¡ch truy cáº­p duy nháº¥t. Streams Ä‘Æ°á»£c thiáº¿t káº¿ cho cÃ¡c Ä‘Æ°á»ng dáº«n dá»¯ liá»‡u thá»i gian thá»±c vÃ  nguá»“n sá»± kiá»‡n, cho phÃ©p báº¡n thÃªm vÃ  truy váº¥n dá»¯ liá»‡u theo chuá»—i thá»i gian.",{"id":625,"title":626,"titles":627,"content":628,"level":511},"/blog/basic-redis#tÃ­ch-há»£p-redis-vá»›i-nodejs","ðŸ”§ TÃ­ch Há»£p Redis Vá»›i Node.js",[],"Báº¡n cÃ³ thá»ƒ sá»­ dá»¥ng thÆ° viá»‡n ioredis hoáº·c redis client phá»• biáº¿n. DÆ°á»›i Ä‘Ã¢y lÃ  má»™t vÃ­ dá»¥ vá»›i ioredis.",{"id":630,"title":631,"titles":632,"content":633,"level":235},"/blog/basic-redis#_1-cÃ i-Ä‘áº·t-redis-vÃ -ioredis","1. CÃ i Äáº·t Redis vÃ  ioredis",[626],"Äáº£m báº£o ráº±ng báº¡n Ä‘Ã£ cÃ i Ä‘áº·t vÃ  cháº¡y Redis. Báº¡n cÃ³ thá»ƒ sá»­ dá»¥ng Docker Ä‘á»ƒ cháº¡y Redis má»™t cÃ¡ch dá»… dÃ ng:",{"id":635,"title":636,"titles":637,"content":638,"level":235},"/blog/basic-redis#_2-thiáº¿t-láº­p-cÆ¡-báº£n","2. Thiáº¿t Láº­p CÆ¡ Báº£n",[626],"Táº¡o má»™t tá»‡p cÃ³ tÃªn redis.js vÃ  thÃªm Ä‘oáº¡n mÃ£ sau:",{"id":640,"title":641,"titles":642,"content":643,"level":235},"/blog/basic-redis#_3-sá»­-dá»¥ng-redis-trong-á»©ng-dá»¥ng","3. Sá»­ Dá»¥ng Redis Trong á»¨ng Dá»¥ng",[626],"BÃ¢y giá» báº¡n cÃ³ thá»ƒ sá»­ dá»¥ng Redis trong á»©ng dá»¥ng cá»§a mÃ¬nh. DÆ°á»›i Ä‘Ã¢y lÃ  má»™t vÃ­ dá»¥ vá» viá»‡c thiáº¿t láº­p vÃ  láº¥y giÃ¡ trá»‹:",{"id":645,"title":646,"titles":647,"content":648,"level":235},"/blog/basic-redis#_4-vÃ­-dá»¥-vá»-bá»™-nhá»›-Ä‘á»‡m","4. VÃ­ Dá»¥ Vá» Bá»™ Nhá»› Äá»‡m",[626],"Báº¡n cÃ³ thá»ƒ sá»­ dá»¥ng Redis lÃ m bá»™ nhá»› Ä‘á»‡m Ä‘á»ƒ lÆ°u trá»¯ dá»¯ liá»‡u Ä‘Æ°á»£c truy cáº­p thÆ°á»ng xuyÃªn. DÆ°á»›i Ä‘Ã¢y lÃ  má»™t vÃ­ dá»¥ vá» viá»‡c lÆ°u trá»¯ káº¿t quáº£ truy váº¥n cÆ¡ sá»Ÿ dá»¯ liá»‡u vÃ o bá»™ nhá»› Ä‘á»‡m:",{"id":650,"title":651,"titles":652,"content":653,"level":235},"/blog/basic-redis#_5-káº¿t-luáº­n","5. Káº¿t Luáº­n",[626],"Redis lÃ  má»™t cÃ´ng cá»¥ máº¡nh máº½ cho bá»™ nhá»› Ä‘á»‡m vÃ  cÃ¡c á»©ng dá»¥ng thá»i gian thá»±c. Báº±ng cÃ¡ch tÃ­ch há»£p Redis vÃ o cÃ¡c dá»± Ã¡n Node.js, báº¡n cÃ³ thá»ƒ cáº£i thiá»‡n Ä‘Ã¡ng ká»ƒ hiá»‡u suáº¥t vÃ  kháº£ nÄƒng má»Ÿ rá»™ng. HÆ°á»›ng dáº«n nÃ y Ä‘Ã£ bao quÃ¡t cÃ¡c khÃ¡i niá»‡m cÆ¡ báº£n vá» kiá»ƒu dá»¯ liá»‡u, lá»‡nh, vÃ  cÃ¡ch sá»­ dá»¥ng Redis trong á»©ng dá»¥ng Node.js.\nHÃ£y khÃ¡m phÃ¡ thÃªm cÃ¡c tÃ­nh nÄƒng nÃ¢ng cao nhÆ° giao dá»‹ch, scripting Lua, vÃ  clustering khi báº¡n Ä‘Ã£ quen thuá»™c hÆ¡n vá»›i Redis.\nRedis lÃ  má»™t cÃ´ng cá»¥ Ä‘a nÄƒng cÃ³ thá»ƒ nÃ¢ng cao Ä‘Ã¡ng ká»ƒ á»©ng dá»¥ng cá»§a báº¡n. Happy Coding",{"id":655,"title":656,"titles":657,"content":658,"level":235},"/blog/basic-redis#_6-tÃ i-nguyÃªn-tham-kháº£o","6. TÃ i NguyÃªn Tham Kháº£o",[626],"TÃ i liá»‡u RedisTÃ i liá»‡u ioredis",{"id":660,"title":661,"titles":662,"content":663,"level":511},"/blog/common-docker-file","CÃ¡c Dockerfile Phá»• Biáº¿n Cho Nhiá»u Dá»± Ãn KhÃ¡c Nhau",[],"TÃ¬m hiá»ƒu vá» Docker vÃ  khÃ¡m phÃ¡ cÃ¡c Dockerfile phá»• biáº¿n cho nhiá»u dá»± Ã¡n nhÆ° Node.js, PHP vá»›i Laravel, React, Vue, Nuxt vÃ  Next.js. KhÃ¡m phÃ¡ cÃ¡c ká»¹ thuáº­t tá»‘i Æ°u vÃ  thá»±c hÃ nh tá»‘t nháº¥t. CÃ¡c Dockerfile Phá»• Biáº¿n Cho Nhiá»u Dá»± Ãn KhÃ¡c Nhau Docker lÃ  má»™t cÃ´ng cá»¥ áº£o hÃ³a nháº¹ giÃºp phÃ¡t triá»ƒn, triá»ƒn khai vÃ  cháº¡y á»©ng dá»¥ng trong cÃ¡c container. NÃ³ cho phÃ©p báº¡n Ä‘Ã³ng gÃ³i á»©ng dá»¥ng vÃ  táº¥t cáº£ cÃ¡c phá»¥ thuá»™c cá»§a nÃ³ vÃ o má»™t container duy nháº¥t, giÃºp dá»… dÃ ng triá»ƒn khai trÃªn báº¥t ká»³ mÃ´i trÆ°á»ng nÃ o mÃ  khÃ´ng cáº§n lo láº¯ng vá» sá»± khÃ¡c biá»‡t giá»¯a cÃ¡c mÃ´i trÆ°á»ng. ÄÃ¢y lÃ  má»™t sá»‘ Dockerfile cho cÃ¡c dá»± Ã¡n thÆ°á»ng gáº·p, báº¡n cÃ³ thá»ƒ tham kháº£o vÃ  Ä‘iá»u chá»‰nh theo nhu cáº§u cá»§a mÃ¬nh.",{"id":665,"title":666,"titles":667,"content":668,"level":235},"/blog/common-docker-file#_1-dockerfile-cho-nodejs","1. Dockerfile cho Node.js",[661],"Dockerfile cho Node.js ráº¥t quan trá»ng khi triá»ƒn khai á»©ng dá»¥ng JavaScript phÃ­a server. ÄÃ¢y lÃ  má»™t Dockerfile Ä‘Ã£ Ä‘Æ°á»£c tá»‘i Æ°u cho má»™t dá»± Ã¡n Node.js Ä‘iá»ƒn hÃ¬nh:",{"id":670,"title":671,"titles":672,"content":673,"level":235},"/blog/common-docker-file#_2-dockerfile-cho-php-vá»›i-laravel","2. Dockerfile cho PHP vá»›i Laravel",[661],"Laravel lÃ  má»™t framework PHP phá»• biáº¿n Ä‘á»ƒ xÃ¢y dá»±ng á»©ng dá»¥ng web. DÆ°á»›i Ä‘Ã¢y lÃ  Dockerfile cho má»™t dá»± Ã¡n Laravel:",{"id":675,"title":676,"titles":677,"content":678,"level":235},"/blog/common-docker-file#_3-dockerfile-cho-react","3. Dockerfile cho React",[661],"React thÆ°á»ng Ä‘Æ°á»£c táº¡o báº±ng Create React App. ÄÃ¢y lÃ  Dockerfile cho dá»± Ã¡n React:",{"id":680,"title":681,"titles":682,"content":683,"level":235},"/blog/common-docker-file#_4-dockerfile-cho-vue","4. Dockerfile cho Vue",[661],"Vue cÅ©ng Ä‘Æ°á»£c xÃ¢y dá»±ng tÆ°Æ¡ng tá»± nhÆ° React. DÆ°á»›i Ä‘Ã¢y lÃ  Dockerfile cho Vue:",{"id":685,"title":686,"titles":687,"content":688,"level":235},"/blog/common-docker-file#_5-dockerfile-cho-nuxtjs","5. Dockerfile cho Nuxt.js",[661],"Nuxt.js lÃ  má»™t framework máº¡nh máº½ Ä‘á»ƒ xÃ¢y dá»±ng á»©ng dá»¥ng Vue. ÄÃ¢y lÃ  Dockerfile cho dá»± Ã¡n Nuxt:",{"id":690,"title":691,"titles":692,"content":693,"level":235},"/blog/common-docker-file#_6-dockerfile-cho-nextjs","6. Dockerfile cho Next.js",[661],"Next.js lÃ  má»™t framework React phá»• biáº¿n cho viá»‡c render phÃ­a server. ÄÃ¢y lÃ  Dockerfile cho dá»± Ã¡n Next:",{"id":695,"title":696,"titles":697,"content":698,"level":235},"/blog/common-docker-file#Ä‘ang-cáº­p-nháº­t","Äang cáº­p nháº­t...",[661],"Náº¿u báº¡n cÃ³ cÃ¡c cáº¥u hÃ¬nh hoáº·c Dockerfile khÃ¡c muá»‘n chia sáº», vui lÃ²ng gá»­i email vá» vinhtieng123@gmail.com. MÃ¬nh ráº¥t trÃ¢n trá»ng Ä‘iá»u Ä‘Ã³.",[],[701,858,1189,1379],{"id":702,"title":508,"body":703,"date":493,"description":850,"extension":495,"image":851,"meta":852,"navigation":498,"path":507,"published":498,"seo":853,"stem":854,"tags":855,"__hash__":857},"blog/blog/ansible.md",{"type":7,"value":704,"toc":848},[705,710,713,715,718,721,724,727,730,732,735,738,741,750,752,755,757,760,762,765,771,778,781,788,791,793,796,799,802,807,810,812,814,837,839,841,845],[10,706,707],{},[13,708,709],{},"HÆ°á»›ng dáº«n chi tiáº¿t vá» cÃ i Ä‘áº·t vÃ  triá»ƒn khai Ansible",[10,711,712],{},"Ansible lÃ  má»™t cÃ´ng cá»¥ tá»± Ä‘á»™ng hÃ³a máº¡nh máº½, giÃºp quáº£n lÃ½ cáº¥u hÃ¬nh, triá»ƒn khai á»©ng dá»¥ng vÃ  Ä‘iá»u phá»‘i há»‡ thá»‘ng má»™t cÃ¡ch dá»… dÃ ng. Trong bÃ i viáº¿t nÃ y, chÃºng ta sáº½ tÃ¬m hiá»ƒu cÃ¡ch cÃ i Ä‘áº·t, cáº¥u hÃ¬nh vÃ  sá»­ dá»¥ng Ansible thÃ´ng qua cÃ¡c vÃ­ dá»¥ thá»±c táº¿.",[48,714],{},[51,716,514],{"id":717},"ï¸-cÃ i-Ä‘áº·t-ansible",[10,719,720],{},"HÆ°á»›ng dáº«n cÃ i Ä‘áº·t Ansible trÃªn Ubuntu:",[59,722],{":files":723},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"sudo apt update -y\\nsudo apt install software-properties-common -y\\nsudo apt-add-repository --yes --update ppa:ansible/ansible\\nsudo apt install ansible -y\\n\"}]",[10,725,726],{},"Sau khi cÃ i Ä‘áº·t, báº¡n cÃ³ thá»ƒ kiá»ƒm tra phiÃªn báº£n Ansible:",[59,728],{":files":729},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"ansible --version\"}]",[48,731],{},[51,733,519],{"id":734},"cáº¥u-hÃ¬nh-ssh",[10,736,737],{},"Äá»ƒ Ansible cÃ³ thá»ƒ káº¿t ná»‘i Ä‘áº¿n cÃ¡c mÃ¡y chá»§ tá»« xa, báº¡n cáº§n cáº¥u hÃ¬nh SSH. DÆ°á»›i Ä‘Ã¢y lÃ  cÃ¡ch sao chÃ©p SSH key Ä‘áº¿n mÃ¡y chá»§ khÃ¡c:",[59,739],{":files":740},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"ssh-copy-id -i ~/.ssh/id_rsa.pub vinhtieng@123.3123.12\"}]",[10,742,743,745,746,749],{},[13,744,287],{}," Thay ",[117,747,748],{},"vinhtieng@123.3123.12"," báº±ng tÃªn ngÆ°á»i dÃ¹ng vÃ  Ä‘á»‹a chá»‰ IP cá»§a mÃ¡y chá»§ tá»« xa.",[48,751],{},[51,753,524],{"id":754},"hosts-inventory",[10,756,526],{},[59,758],{":files":759},"[{\"title\":\"inventory\",\"language\":\"ini\",\"content\":\"[webservers]\\nweb1.example.com\\nweb2.example.com\\n\\n[databases]\\ndb1.example.com\\n\\n[webservers:vars]\\nansible_user=your_ssh_user\\nansible_ssh_private_key_file=/path/to/private/key\\n\\n[webservers1]\\nweb1.example.com ansible_user=user1 ansible_ssh_private_key_file=/path/to/key1\\nweb2.example.com ansible_user=user2 ansible_ssh_private_key_file=/path/to/key2\\n\"}]",[48,761],{},[51,763,529],{"id":764},"kiá»ƒm-tra-káº¿t-ná»‘i-ping",[10,766,767,768,155],{},"Báº¡n cÃ³ thá»ƒ kiá»ƒm tra káº¿t ná»‘i Ä‘áº¿n cÃ¡c mÃ¡y chá»§ báº±ng lá»‡nh ",[117,769,770],{},"ping",[215,772,773],{},[23,774,775],{},[13,776,777],{},"Ping vá»›i file hosts máº·c Ä‘á»‹nh:",[59,779],{":files":780},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"ansible -m ping all\"}]",[215,782,783],{"start":235},[23,784,785],{},[13,786,787],{},"Ping vá»›i file inventory tÃ¹y chá»‰nh:",[59,789],{":files":790},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"ansible -i my_hosts all -m ping\"}]",[48,792],{},[51,794,534],{"id":795},"playbook-task-module",[10,797,798],{},"Playbook lÃ  nÆ¡i báº¡n Ä‘á»‹nh nghÄ©a cÃ¡c tÃ¡c vá»¥ (tasks) cáº§n thá»±c hiá»‡n trÃªn cÃ¡c mÃ¡y chá»§. DÆ°á»›i Ä‘Ã¢y lÃ  cÃ¡ch cháº¡y má»™t playbook:",[59,800],{":files":801},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"ansible-playbook my_playbook.yml -i inventory_file\"}]",[10,803,804],{},[13,805,806],{},"VÃ­ dá»¥ vá» Playbook Ä‘Æ¡n giáº£n:",[59,808],{":files":809},"[{\"title\":\"my_playbook.yml\",\"language\":\"yaml\",\"content\":\"---\\n- name: CÃ i Ä‘áº·t vÃ  khá»Ÿi Ä‘á»™ng Apache\\n  hosts: webservers\\n  become: yes\\n  tasks:\\n    - name: CÃ i Ä‘áº·t Apache\\n      apt:\\n        name: apache2\\n        state: present\\n    - name: Äáº£m báº£o Apache Ä‘ang cháº¡y\\n      service:\\n        name: apache2\\n        state: started\\n\"}]",[48,811],{},[51,813,446],{"id":445},[20,815,816,823,830],{},[23,817,818],{},[96,819,822],{"href":820,"rel":821},"https://docs.ansible.com/",[100],"Ansible Documentation",[23,824,825],{},[96,826,829],{"href":827,"rel":828},"https://galaxy.ansible.com/",[100],"Ansible Galaxy",[23,831,832],{},[96,833,836],{"href":834,"rel":835},"https://docs.ansible.com/ansible/latest/user_guide/playbooks.html",[100],"Ansible Playbook Guide",[48,838],{},[480,840],{},[10,842,843],{},[13,844,486],{},[10,846,847],{},"Ansible lÃ  cÃ´ng cá»¥ máº¡nh máº½ giÃºp tá»± Ä‘á»™ng hÃ³a cÃ¡c tÃ¡c vá»¥ quáº£n trá»‹ há»‡ thá»‘ng. Viá»‡c náº¯m vá»¯ng cÃ¡ch sá»­ dá»¥ng Ansible sáº½ giÃºp báº¡n tiáº¿t kiá»‡m thá»i gian vÃ  giáº£m thiá»ƒu lá»—i trong quÃ¡ trÃ¬nh quáº£n lÃ½ há»‡ thá»‘ng.",{"title":491,"searchDepth":235,"depth":235,"links":849},[],"HÆ°á»›ng dáº«n chi tiáº¿t vá» cÃ i Ä‘áº·t, cáº¥u hÃ¬nh SSH, inventory vÃ  sá»­ dá»¥ng Playbook trong Ansible.","/images/blog/ansible/banner.png",{},{"title":508,"description":850},"blog/ansible",[856],"ansible","Gq3vchuOpiuVWzSEC3RwQ0ntaOZ8kPHsUW-MoDkNWc8",{"id":4,"title":5,"body":859,"date":493,"description":494,"extension":495,"image":496,"meta":1186,"navigation":498,"path":499,"published":498,"seo":1187,"stem":501,"tags":1188,"__hash__":504},{"type":7,"value":860,"toc":1184},[861,865,867,885,887,889,891,893,895,897,901,903,905,907,911,913,918,920,922,924,934,936,940,942,944,952,954,958,980,982,984,986,988,990,992,998,1006,1012,1020,1022,1030,1032,1034,1036,1038,1040,1044,1050,1052,1054,1056,1058,1076,1078,1082,1084,1086,1088,1090,1092,1094,1096,1098,1100,1102,1104,1106,1108,1110,1112,1114,1116,1118,1120,1122,1124,1126,1128,1130,1132,1134,1136,1138,1140,1142,1144,1146,1148,1150,1152,1174,1176,1178,1182],[10,862,863],{},[13,864,15],{},[10,866,18],{},[20,868,869,871,873,875,877,879,881,883],{},[23,870,25],{},[23,872,28],{},[23,874,31],{},[23,876,34],{},[23,878,37],{},[23,880,40],{},[23,882,43],{},[23,884,46],{},[48,886],{},[51,888,54],{"id":53},[10,890,57],{},[59,892],{":files":61},[10,894,64],{},[59,896],{":files":67},[10,898,899],{},[13,900,72],{},[10,902,75],{},[59,904],{":files":78},[10,906,81],{},[83,908,909],{"type":85},[10,910,88],{},[10,912,91],{},[10,914,94,915,101],{},[96,916,98],{"href":98,"rel":917},[100],[10,919,104],{},[51,921,108],{"id":107},[10,923,111],{},[20,925,926,930],{},[23,927,928,120],{},[117,929,119],{},[23,931,932,126],{},[117,933,125],{},[10,935,129],{},[10,937,938],{},[13,939,134],{},[10,941,137],{},[59,943],{":files":140},[10,945,143,946,147,948,151,950,155],{},[117,947,146],{},[117,949,150],{},[117,951,154],{},[59,953],{":files":158},[10,955,956],{},[13,957,163],{},[20,959,960,964,968,972,976],{},[23,961,962,171],{},[117,963,170],{},[23,965,966,177],{},[117,967,176],{},[23,969,970,183],{},[117,971,182],{},[23,973,974,189],{},[117,975,188],{},[23,977,978,195],{},[117,979,194],{},[10,981,198],{},[59,983],{":files":201},[10,985,204],{},[59,987],{":files":207},[10,989,210],{},[10,991,213],{},[215,993,994],{},[23,995,996,155],{},[117,997,221],{},[20,999,1000,1002,1004],{},[23,1001,226],{},[23,1003,229],{},[23,1005,232],{},[215,1007,1008],{"start":235},[23,1009,1010,155],{},[117,1011,240],{},[20,1013,1014,1016,1018],{},[23,1015,245],{},[23,1017,248],{},[23,1019,251],{},[10,1021,254],{},[20,1023,1024,1026],{},[23,1025,259],{},[23,1027,262,1028,266],{},[117,1029,265],{},[10,1031,269],{},[59,1033],{":files":272},[51,1035,276],{"id":275},[10,1037,279],{},[59,1039],{":files":282},[10,1041,1042],{},[13,1043,287],{},[20,1045,1046,1048],{},[23,1047,292],{},[23,1049,295],{},[59,1051],{":files":298},[48,1053],{},[51,1055,304],{"id":303},[10,1057,307],{},[20,1059,1060,1064,1068,1072],{},[23,1061,1062,315],{},[117,1063,314],{},[23,1065,1066,321],{},[117,1067,320],{},[23,1069,1070,327],{},[117,1071,326],{},[23,1073,1074,333],{},[117,1075,332],{},[10,1077,336],{},[20,1079,1080],{},[23,1081,341],{},[59,1083],{":files":344},[10,1085,347],{},[59,1087],{":files":350},[48,1089],{},[51,1091,356],{"id":355},[10,1093,359],{},[59,1095],{":files":362},[48,1097],{},[51,1099,368],{"id":367},[10,1101,371],{},[59,1103],{":files":374},[48,1105],{},[51,1107,380],{"id":379},[10,1109,383],{},[59,1111],{":files":386},[48,1113],{},[51,1115,392],{"id":391},[10,1117,395],{},[59,1119],{":files":398},[10,1121,401],{},[59,1123],{":files":404},[48,1125],{},[51,1127,410],{"id":409},[10,1129,413],{},[59,1131],{":files":416},[10,1133,419],{},[59,1135],{":files":422},[10,1137,425],{},[59,1139],{":files":428},[48,1141],{},[51,1143,434],{"id":433},[10,1145,437],{},[59,1147],{":files":440},[48,1149],{},[51,1151,446],{"id":445},[20,1153,1154,1159,1164,1169],{},[23,1155,1156],{},[96,1157,455],{"href":453,"rel":1158},[100],[23,1160,1161],{},[96,1162,462],{"href":460,"rel":1163},[100],[23,1165,1166],{},[96,1167,469],{"href":467,"rel":1168},[100],[23,1170,1171],{},[96,1172,476],{"href":474,"rel":1173},[100],[48,1175],{},[480,1177],{},[10,1179,1180],{},[13,1181,486],{},[10,1183,489],{},{"title":491,"searchDepth":235,"depth":235,"links":1185},[],{},{"title":5,"description":494},[503],{"id":1190,"title":586,"body":1191,"date":493,"description":1371,"extension":495,"image":1372,"meta":1373,"navigation":498,"path":585,"published":498,"seo":1374,"stem":1375,"tags":1376,"__hash__":1378},"blog/blog/basic-redis.md",{"type":7,"value":1192,"toc":1357},[1193,1197,1200,1203,1214,1216,1219,1221,1225,1227,1230,1233,1235,1238,1241,1243,1246,1249,1251,1254,1257,1259,1262,1265,1268,1271,1274,1277,1280,1283,1286,1288,1291,1294,1296,1299,1302,1309,1312,1315,1317,1320,1323,1325,1328,1331,1334,1339,1342],[10,1194,1195],{},[13,1196,586],{},[10,1198,1199],{},"Redis lÃ  má»™t kho dá»¯ liá»‡u key-value trong bá»™ nhá»›, mÃ£ nguá»“n má»Ÿ, ná»•i tiáº¿ng vá»›i hiá»‡u suáº¥t vÃ  tÃ­nh linh hoáº¡t. Redis há»— trá»£ nhiá»u kiá»ƒu dá»¯ liá»‡u, phÃ¹ há»£p cho viá»‡c sá»­ dá»¥ng bá»™ nhá»› Ä‘á»‡m, á»©ng dá»¥ng thá»i gian thá»±c, há»‡ thá»‘ng pub/sub, vÃ  nhiá»u hÆ¡n ná»¯a.",[10,1201,1202],{},"Trong hÆ°á»›ng dáº«n nÃ y, chÃºng ta sáº½ tÃ¬m hiá»ƒu:",[20,1204,1205,1208,1211],{},[23,1206,1207],{},"CÃ¡c kiá»ƒu dá»¯ liá»‡u trong Redis",[23,1209,1210],{},"CÃ¡c lá»‡nh phá»• biáº¿n cá»§a Redis",[23,1212,1213],{},"CÃ¡ch tÃ­ch há»£p Redis vÃ o dá»± Ã¡n Node.js",[48,1215],{},[51,1217,591],{"id":1218},"cÃ¡c-kiá»ƒu-dá»¯-liá»‡u-lá»‡nh-redis",[10,1220,593],{},[1222,1223,596],"h2",{"id":1224},"_1-chuá»—i-strings",[10,1226,598],{},[59,1228],{":files":1229},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"SET name \\\"Jay\\\"\\nGET name\\nINCR counter\\n\"}]",[1222,1231,601],{"id":1232},"_2-danh-sÃ¡ch-lists",[10,1234,603],{},[59,1236],{":files":1237},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"LPUSH mylist \\\"apple\\\"\\nRPUSH mylist \\\"banana\\\"\\nLRANGE mylist 0 -1\\n\"}]",[1222,1239,606],{"id":1240},"_3-táº­p-há»£p-sets",[10,1242,608],{},[59,1244],{":files":1245},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"SADD myset \\\"apple\\\"\\nSADD myset \\\"banana\\\"\\nSADD myset \\\"apple\\\" # TrÃ¹ng láº·p, sáº½ khÃ´ng Ä‘Æ°á»£c thÃªm\\nSMEMBERS myset\\n\"}]",[1222,1247,611],{"id":1248},"_4-bÄƒm-hashes",[10,1250,613],{},[59,1252],{":files":1253},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"HSET user:1000 name \\\"Jay\\\" age 30\\nHGETALL user:1000\\n\"}]",[1222,1255,616],{"id":1256},"_5-táº­p-há»£p-cÃ³-thá»©-tá»±-sorted-sets",[10,1258,618],{},[59,1260],{":files":1261},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"ZADD mysortedset 1 \\\"apple\\\"\\nZADD mysortedset 2 \\\"banana\\\"\\nZRANGE mysortedset 0 -1\\n\"}]",[1222,1263,621],{"id":1264},"_6-bitmaps-hyperloglogs-streams",[10,1266,1267],{},"ÄÃ¢y lÃ  cÃ¡c cáº¥u trÃºc nÃ¢ng cao hÆ¡n:\nBitmaps Ä‘Æ°á»£c sá»­ dá»¥ng cho cÃ¡c thao tÃ¡c cáº¥p bit, cho phÃ©p báº¡n thao tÃ¡c cÃ¡c bit riÃªng láº» trong má»™t chuá»—i.",[59,1269],{":files":1270},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"SETBIT mybitmap 0 1\\nSETBIT mybitmap 1 1\\nBITCOUNT mybitmap\\n\"}]",[10,1272,1273],{},"HyperLogLogs Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ Æ°á»›c tÃ­nh sá»‘ lÆ°á»£ng pháº§n tá»­ duy nháº¥t trong má»™t táº­p há»£p, ráº¥t há»¯u Ã­ch cho cÃ¡c trÆ°á»ng há»£p nhÆ° theo dÃµi sá»‘ lÆ°á»£ng khÃ¡ch truy cáº­p duy nháº¥t.",[59,1275],{":files":1276},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"PFADD myhll \\\"apple\\\" \\\"banana\\\" \\\"orange\\\"\\nPFCOUNT myhll\\n\"}]",[10,1278,1279],{},"Streams Ä‘Æ°á»£c thiáº¿t káº¿ cho cÃ¡c Ä‘Æ°á»ng dáº«n dá»¯ liá»‡u thá»i gian thá»±c vÃ  nguá»“n sá»± kiá»‡n, cho phÃ©p báº¡n thÃªm vÃ  truy váº¥n dá»¯ liá»‡u theo chuá»—i thá»i gian.",[59,1281],{":files":1282},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"XADD mystream * name \\\"Jay\\\" age 30\\nXRANGE mystream - +\\n\"}]",[51,1284,626],{"id":1285},"tÃ­ch-há»£p-redis-vá»›i-nodejs",[10,1287,628],{},[1222,1289,631],{"id":1290},"_1-cÃ i-Ä‘áº·t-redis-vÃ -ioredis",[59,1292],{":files":1293},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"npm install ioredis\\n# hoáº·c\\nyarn add ioredis\\n\"}]",[10,1295,633],{},[59,1297],{":files":1298},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"docker run -d -p 6379:6379 redis\\n\"}]",[1222,1300,636],{"id":1301},"_2-thiáº¿t-láº­p-cÆ¡-báº£n",[10,1303,1304,1305,1308],{},"Táº¡o má»™t tá»‡p cÃ³ tÃªn ",[117,1306,1307],{},"redis.js"," vÃ  thÃªm Ä‘oáº¡n mÃ£ sau:",[59,1310],{":files":1311},"[{\"title\":\"redis.js\",\"language\":\"javascript\",\"content\":\"// redis.ts\\nimport Redis from 'ioredis';\\n\\nconst redis = new Redis({\\n  host: '127.0.0.1',\\n  port: 6379,\\n  // password: 'máº­t_kháº©u_náº¿u_cÃ³'\\n});\\n\\nexport default redis;\\n\"}]",[1222,1313,641],{"id":1314},"_3-sá»­-dá»¥ng-redis-trong-á»©ng-dá»¥ng",[10,1316,643],{},[59,1318],{":files":1319},"[{\"title\":\"example.js\",\"language\":\"javascript\",\"content\":\"// example.ts\\nimport redis from './redis';\\n\\n// Chuá»—i\\nawait redis.set('greeting', 'Hello Redis');\\nconst greeting = await redis.get('greeting');\\nconsole.log(greeting); // Hello Redis\\n\\n// Danh sÃ¡ch\\nawait redis.lpush('queue', 'task1');\\nconst task = await redis.rpop('queue');\\nconsole.log(task); // task1\\n\\n// BÄƒm\\nawait redis.hset('user:1', { name: 'Jay', role: 'admin' });\\nconst user = await redis.hgetall('user:1');\\nconsole.log(user); // { name: 'Jay', role: 'admin' }\\n\\n// Táº­p há»£p cÃ³ thá»© tá»±\\nawait redis.zadd('scores', 100, 'Jay');\\nconst scores = await redis.zrange('scores', 0, -1, 'WITHSCORES');\\nconsole.log(scores);\\n\\n// Pub/Sub\\nredis.subscribe('news');\\nredis.on('message', (channel, message) => {\\n  console.log(`Nháº­n tin nháº¯n tá»« ${channel}: ${message}`);\\n});\\n\\nconst publisher = new Redis();\\npublisher.publish('news', 'Tin nÃ³ng!');\\n\"}]",[1222,1321,646],{"id":1322},"_4-vÃ­-dá»¥-vá»-bá»™-nhá»›-Ä‘á»‡m",[10,1324,648],{},[59,1326],{":files":1327},"[{\"title\":\"cache.js\",\"language\":\"javascript\",\"content\":\"import redis from './redis';\\n\\nasync function getUserData(userId) {\\n  const cacheKey = `user:${userId}`;\\n  const cachedData = await redis.get(cacheKey);\\n\\n  if (cachedData) {\\n    return JSON.parse(cachedData);\\n  }\\n\\n  // MÃ´ phá»ng truy váº¥n cÆ¡ sá»Ÿ dá»¯ liá»‡u\\n  const userData = await queryDatabase(userId);\\n  await redis.set(cacheKey, JSON.stringify(userData), 'EX', 3600); // LÆ°u vÃ o bá»™ nhá»› Ä‘á»‡m trong 1 giá»\\n  return userData;\\n}\\n\\nasync function queryDatabase(userId) {\\n  // MÃ´ phá»ng truy váº¥n cÆ¡ sá»Ÿ dá»¯ liá»‡u\\n  return { id: userId, name: 'Jay', age: 30 };\\n}\\n\"}]",[1222,1329,651],{"id":1330},"_5-káº¿t-luáº­n",[10,1332,1333],{},"Redis lÃ  má»™t cÃ´ng cá»¥ máº¡nh máº½ cho bá»™ nhá»› Ä‘á»‡m vÃ  cÃ¡c á»©ng dá»¥ng thá»i gian thá»±c. Báº±ng cÃ¡ch tÃ­ch há»£p Redis vÃ o cÃ¡c dá»± Ã¡n Node.js, báº¡n cÃ³ thá»ƒ cáº£i thiá»‡n Ä‘Ã¡ng ká»ƒ hiá»‡u suáº¥t vÃ  kháº£ nÄƒng má»Ÿ rá»™ng. HÆ°á»›ng dáº«n nÃ y Ä‘Ã£ bao quÃ¡t cÃ¡c khÃ¡i niá»‡m cÆ¡ báº£n vá» kiá»ƒu dá»¯ liá»‡u, lá»‡nh, vÃ  cÃ¡ch sá»­ dá»¥ng Redis trong á»©ng dá»¥ng Node.js.\nHÃ£y khÃ¡m phÃ¡ thÃªm cÃ¡c tÃ­nh nÄƒng nÃ¢ng cao nhÆ° giao dá»‹ch, scripting Lua, vÃ  clustering khi báº¡n Ä‘Ã£ quen thuá»™c hÆ¡n vá»›i Redis.\nRedis lÃ  má»™t cÃ´ng cá»¥ Ä‘a nÄƒng cÃ³ thá»ƒ nÃ¢ng cao Ä‘Ã¡ng ká»ƒ á»©ng dá»¥ng cá»§a báº¡n.",[10,1335,1336],{},[13,1337,1338],{},"Happy Coding",[1222,1340,656],{"id":1341},"_6-tÃ i-nguyÃªn-tham-kháº£o",[20,1343,1344,1351],{},[23,1345,1346],{},[96,1347,1350],{"href":1348,"target":1349},"https://redis.io/documentation","_blank","TÃ i liá»‡u Redis",[23,1352,1353],{},[96,1354,1356],{"href":1355,"target":1349},"https://github.com/redis/ioredis","TÃ i liá»‡u ioredis",{"title":491,"searchDepth":235,"depth":235,"links":1358},[1359,1360,1361,1362,1363,1364,1365,1366,1367,1368,1369,1370],{"id":1224,"depth":235,"text":596},{"id":1232,"depth":235,"text":601},{"id":1240,"depth":235,"text":606},{"id":1248,"depth":235,"text":611},{"id":1256,"depth":235,"text":616},{"id":1264,"depth":235,"text":621},{"id":1290,"depth":235,"text":631},{"id":1301,"depth":235,"text":636},{"id":1314,"depth":235,"text":641},{"id":1322,"depth":235,"text":646},{"id":1330,"depth":235,"text":651},{"id":1341,"depth":235,"text":656},"TÃ¬m hiá»ƒu cÃ¡c khÃ¡i niá»‡m cÆ¡ báº£n vá» Redis bao gá»“m cÃ¡c kiá»ƒu dá»¯ liá»‡u vÃ  phÆ°Æ¡ng thá»©c, cÅ©ng nhÆ° cÃ¡ch tÃ­ch há»£p Redis vÃ o á»©ng dá»¥ng Node.js Ä‘á»ƒ sá»­ dá»¥ng bá»™ nhá»› Ä‘á»‡m vÃ  cÃ¡c tÃ­nh nÄƒng thá»i gian thá»±c.","/images/blog/basic-redis/banner.png",{},{"title":586,"description":1371},"blog/basic-redis",[1377],"redis","5dkXuSwFTdEtvNjkeWS4YudML58pO813zMRKUs91G4E",{"id":1380,"title":661,"body":1381,"date":493,"description":1465,"extension":495,"image":1466,"meta":1467,"navigation":498,"path":660,"published":498,"seo":1468,"stem":1469,"tags":1470,"__hash__":1472},"blog/blog/common-docker-file.md",{"type":7,"value":1382,"toc":1456},[1383,1387,1390,1396,1398,1401,1403,1406,1409,1411,1414,1417,1419,1422,1425,1427,1430,1433,1435,1438,1441,1443,1445,1448],[10,1384,1385],{},[13,1386,661],{},[10,1388,1389],{},"Docker lÃ  má»™t cÃ´ng cá»¥ áº£o hÃ³a nháº¹ giÃºp phÃ¡t triá»ƒn, triá»ƒn khai vÃ  cháº¡y á»©ng dá»¥ng trong cÃ¡c container. NÃ³ cho phÃ©p báº¡n Ä‘Ã³ng gÃ³i á»©ng dá»¥ng vÃ  táº¥t cáº£ cÃ¡c phá»¥ thuá»™c cá»§a nÃ³ vÃ o má»™t container duy nháº¥t, giÃºp dá»… dÃ ng triá»ƒn khai trÃªn báº¥t ká»³ mÃ´i trÆ°á»ng nÃ o mÃ  khÃ´ng cáº§n lo láº¯ng vá» sá»± khÃ¡c biá»‡t giá»¯a cÃ¡c mÃ´i trÆ°á»ng.",[83,1391,1393],{"type":1392},"info",[10,1394,1395],{},"ÄÃ¢y lÃ  má»™t sá»‘ Dockerfile cho cÃ¡c dá»± Ã¡n thÆ°á»ng gáº·p, báº¡n cÃ³ thá»ƒ tham kháº£o vÃ  Ä‘iá»u chá»‰nh theo nhu cáº§u cá»§a mÃ¬nh.",[480,1397],{},[1222,1399,666],{"id":1400},"_1-dockerfile-cho-nodejs",[10,1402,668],{},[59,1404],{":files":1405},"[{\"title\":\"Dockerfile\",\"language\":\"dockerfile\",\"content\":\"FROM node:18-slim\\nWORKDIR /app\\nCOPY package*.json ./\\nRUN npm install --production\\nCOPY . .\\nEXPOSE 3000\\nCMD [\\\"node\\\", \\\"index.js\\\"]\\n\"}]",[1222,1407,671],{"id":1408},"_2-dockerfile-cho-php-vá»›i-laravel",[10,1410,673],{},[59,1412],{":files":1413},"[{\"title\":\"Dockerfile\",\"language\":\"dockerfile\",\"content\":\"FROM php:8.1-fpm-alpine\\nRUN apk add --no-cache libpng libjpeg-turbo libfreetype && \\\\\\n    docker-php-ext-configure gd --with-freetype --with-jpeg && \\\\\\n    docker-php-ext-install gd pdo pdo_mysql\\nWORKDIR /var/www\\nCOPY . .\\nRUN curl -sS https://getcomposer.org/installer | php -- --install-dir=/usr/local/bin --filename=composer\\nRUN composer install --optimize-autoloader --no-dev\\nEXPOSE 9000\\nCMD [\\\"php-fpm\\\"]\\n\"}]",[1222,1415,676],{"id":1416},"_3-dockerfile-cho-react",[10,1418,678],{},[59,1420],{":files":1421},"[{\"title\":\"Dockerfile\",\"language\":\"dockerfile\",\"content\":\"FROM node:18-slim as build\\nWORKDIR /app\\nCOPY . .\\nRUN npm install\\nRUN npm run build\\n\\nFROM nginx:alpine\\nCOPY --from=build /app/build /usr/share/nginx/html\\nEXPOSE 80\\nCMD [\\\"nginx\\\", \\\"-g\\\", \\\"daemon off;\\\"]\\n\"}]",[1222,1423,681],{"id":1424},"_4-dockerfile-cho-vue",[10,1426,683],{},[59,1428],{":files":1429},"[{\"title\":\"Dockerfile\",\"language\":\"dockerfile\",\"content\":\"FROM node:18-slim as build\\nWORKDIR /app\\nCOPY . .\\nRUN npm install\\nRUN npm run build\\n\\nFROM nginx:alpine\\nCOPY --from=build /app/dist /usr/share/nginx/html\\nEXPOSE 80\\nCMD [\\\"nginx\\\", \\\"-g\\\", \\\"daemon off;\\\"]\\n\"}]",[1222,1431,686],{"id":1432},"_5-dockerfile-cho-nuxtjs",[10,1434,688],{},[59,1436],{":files":1437},"[{\"title\":\"Dockerfile\",\"language\":\"dockerfile\",\"content\":\"FROM node:18-slim as build\\nWORKDIR /app\\nCOPY . .\\nRUN npm install\\nRUN npm run build\\n\\nFROM node:18-slim\\nWORKDIR /app\\nCOPY --from=build /app /app\\nEXPOSE 3000\\nCMD [\\\"npm\\\", \\\"run\\\", \\\"start\\\"]\\n\"}]",[1222,1439,691],{"id":1440},"_6-dockerfile-cho-nextjs",[10,1442,693],{},[59,1444],{":files":1437},[1222,1446,696],{"id":1447},"Ä‘ang-cáº­p-nháº­t",[10,1449,1450,1451,1455],{},"Náº¿u báº¡n cÃ³ cÃ¡c cáº¥u hÃ¬nh hoáº·c Dockerfile khÃ¡c muá»‘n chia sáº», vui lÃ²ng gá»­i email vá» ",[96,1452,1454],{"href":1453},"mailto:vinhtieng123@gmail.com","vinhtieng123@gmail.com",". MÃ¬nh ráº¥t trÃ¢n trá»ng Ä‘iá»u Ä‘Ã³.",{"title":491,"searchDepth":235,"depth":235,"links":1457},[1458,1459,1460,1461,1462,1463,1464],{"id":1400,"depth":235,"text":666},{"id":1408,"depth":235,"text":671},{"id":1416,"depth":235,"text":676},{"id":1424,"depth":235,"text":681},{"id":1432,"depth":235,"text":686},{"id":1440,"depth":235,"text":691},{"id":1447,"depth":235,"text":696},"TÃ¬m hiá»ƒu vá» Docker vÃ  khÃ¡m phÃ¡ cÃ¡c Dockerfile phá»• biáº¿n cho nhiá»u dá»± Ã¡n nhÆ° Node.js, PHP vá»›i Laravel, React, Vue, Nuxt vÃ  Next.js. KhÃ¡m phÃ¡ cÃ¡c ká»¹ thuáº­t tá»‘i Æ°u vÃ  thá»±c hÃ nh tá»‘t nháº¥t.","/images/blog/common-docker-file/banner.png",{},{"title":661,"description":1465},"blog/common-docker-file",[1471],"docker","NfJI8ypf2V6yCkSfFemNtxpkkiktFDpWBXDLN1VHxos",1746431119228]