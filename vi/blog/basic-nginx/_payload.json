[{"data":1,"prerenderedAt":2208},["ShallowReactive",2],{"blog-basic-nginx":3,"search":512,"related-posts-basic-nginx":792,"all-post":793},{"id":4,"title":5,"body":6,"date":499,"description":500,"extension":501,"image":502,"keywords":503,"meta":504,"navigation":505,"path":506,"published":505,"seo":507,"stem":508,"tags":509,"__hash__":511},"blog/blog/basic-nginx.md","T·ªïng quan v√† c·∫•u h√¨nh th√¥ng d·ª•ng Nginx",{"type":7,"value":8,"toc":496},"minimal",[9,16,23,26,29,32,37,40,44,47,50,56,59,62,65,68,71,74,80,83,95,98,102,105,121,124,129,132,135,150,153,158,190,193,196,199,202,205,208,216,227,235,246,249,261,264,267,271,274,277,280,294,298,301,304,308,311,337,340,345,348,351,354,356,360,363,366,368,372,375,378,380,384,387,390,392,396,399,402,405,408,410,414,417,420,423,426,429,432,434,438,441,444,446,450,483,485,488,493],[10,11,12],"p",{},[13,14,15],"strong",{},"Gi·ªõi thi·ªáu v·ªÅ Nginx",[17,18,20],"alert",{"type":19},"info",[10,21,22],{},"nginx (\"engine x\") is an HTTP web server, reverse proxy, content cache, load balancer, TCP/UDP proxy server, and mail proxy server. Originally written by Igor Sysoev and distributed under the 2-clause BSD License. Enterprise distributions, commercial support and training are available from F5, Inc.",[10,24,25],{},"Nginx l√† m·ªôt web server, ph·∫ßn m·ªÅm ch·∫°y tr√™n m√°y ch·ªß ƒë·ªÉ nh·∫≠n v√† x·ª≠ l√Ω c√°c request (y√™u c·∫ßu) t·ª´ tr√¨nh duy·ªát ho·∫∑c client (nh∆∞ API request).",[10,27,28],{},"Ban ƒë·∫ßu, Nginx ƒë∆∞·ª£c t·∫°o ra ƒë·ªÉ x·ª≠ l√Ω nhi·ªÅu k·∫øt n·ªëi c√πng l√∫c v·ªõi hi·ªáu nƒÉng cao, v√† ng√†y nay n√≥ c√≤n ƒë∆∞·ª£c d√πng nh∆∞:\n‚Ä¢\tWeb Server (m√°y ch·ªß web)\n‚Ä¢\tReverse Proxy (proxy ng∆∞·ª£c)\n‚Ä¢\tLoad Balancer (c√¢n b·∫±ng t·∫£i)\n‚Ä¢\tCache server (b·ªô nh·ªõ ƒë·ªám)\n‚Ä¢\tAPI Gateway (·ªü m·ª©c c∆° b·∫£n)",[30,31],"hr",{},[33,34,36],"h1",{"id":35},"c√†i-ƒë·∫∑t-nginx","C√†i ƒë·∫∑t Nginx",[10,38,39],{},"H∆∞·ªõng d·∫´n c√†i ƒë·∫∑t Nginx tr√™n Ubuntu:",[41,42],"code-block",{":files":43},"[{\"title\":\"bash\",\"language\":\"nginx\",\"content\":\"sudo apt update\\nsudo apt install nginx\\n\"}]",[10,45,46],{},"Sau khi c√†i ƒë·∫∑t, b·∫°n c√≥ th·ªÉ ki·ªÉm tra tr·∫°ng th√°i Nginx:",[41,48],{":files":49},"[{\"title\":\"bash\",\"language\":\"nginx\",\"content\":\"sudo systemctl status nginx\"}]",[10,51,52,55],{},[13,53,54],{},"Ki·ªÉm tra t∆∞·ªùng l·ª≠a:","\nƒê·ªÉ ki·ªÉm tra c√°c c·∫•u h√¨nh ƒëang ƒë∆∞·ª£c ch·∫°y th√¨ ch·∫°y l·ªánh",[41,57],{":files":58},"[{\"title\":\"bash\",\"language\":\"nginx\",\"content\":\"sudo ufw app list\"}]",[10,60,61],{},"K·∫øt qu·∫£ hi·ªán ra ·ªü terminal s·∫Ω d·∫°ng nh∆∞ sau:",[41,63],{":files":64},"[{\"title\":\"bash\",\"language\":\"nginx\",\"content\":\"Available applications:\\nNginx Full\\nNginx HTTP\\nNginx HTTPS\\nOpenSSH\\n\"}]",[10,66,67],{},"Sau khi c√†i ƒë·∫∑t Nginx, b·∫°n n√™n ƒë·∫£m b·∫£o r·∫±ng t∆∞·ªùng l·ª≠a (firewall) cho ph√©p l∆∞u l∆∞·ª£ng HTTP v√† HTTPS ƒë·ªÉ m√°y ch·ªß c√≥ th·ªÉ ph·ª•c v·ª• n·ªôi dung web.",[41,69],{":files":70},"[{\"title\":\"bash\",\"language\":\"nginx\",\"content\":\"sudo ufw allow 'Nginx Full'\\nsudo ufw status\\n\"}]",[10,72,73],{},"L·ªánh sudo ufw allow 'Nginx Full' s·∫Ω m·ªü c·∫£ hai c·ªïng 80 (HTTP) v√† 443 (HTTPS).\nSau ƒë√≥, d√πng sudo ufw status ƒë·ªÉ x√°c nh·∫≠n r·∫±ng c√°c c·ªïng n√†y ƒë√£ ƒë∆∞·ª£c m·ªü.",[17,75,77],{"type":76},"warning",[10,78,79],{},"N·∫øu b·∫°n ch∆∞a b·∫≠t ufw (Uncomplicated Firewall), b·∫°n c√≥ th·ªÉ b·∫≠t b·∫±ng l·ªánh sudo ufw enable. Tuy nhi√™n, h√£y ƒë·∫£m b·∫£o c·∫•u h√¨nh ch√≠nh x√°c ƒë·ªÉ kh√¥ng b·ªã kh√≥a SSH.",[10,81,82],{},"Ki·ªÉm tra ho·∫°t ƒë·ªông c·ªßa Nginx:",[10,84,85,86,90,91,94],{},"M·ªü tr√¨nh duy·ªát v√† truy c·∫≠p ƒë·ªãa ch·ªâ:\nüëâ ",[87,88,89],"code",{},"http://\u003Cƒë·ªãa_ch·ªâ_IP_c·ªßa_b·∫°n>"," ho·∫∑c ",[87,92,93],{},"http://localhost"," n·∫øu ki·ªÉm tra c·ª•c b·ªô.",[10,96,97],{},"B·∫°n s·∫Ω th·∫•y trang m·∫∑c ƒë·ªãnh ‚ÄúWelcome to nginx!‚Äù n·∫øu m·ªçi th·ª© ho·∫°t ƒë·ªông ƒë√∫ng c√°ch.",[33,99,101],{"id":100},"Ô∏è-c·∫•u-h√¨nh-default-host-trong-nginx","‚öôÔ∏è C·∫•u h√¨nh Default Host trong Nginx",[10,103,104],{},"Tr√™n Ubuntu, file c·∫•u h√¨nh c·ªßa Nginx th∆∞·ªùng ƒë∆∞·ª£c l∆∞u t·∫°i c√°c v·ªã tr√≠ sau:",[106,107,108,115],"ul",{},[109,110,111,114],"li",{},[87,112,113],{},"/etc/nginx/sites-available/default"," (N·∫øu s·ª≠ d·ª•ng th∆∞ m·ª•c sites-available v√† sites-enabled).",[109,116,117,120],{},[87,118,119],{},"/etc/nginx/conf.d/default.conf"," (Th√¥ng d·ª•ng cho c√°c c·∫•u h√¨nh ƒë∆°n gi·∫£n).",[10,122,123],{},"M·∫∑c ƒë·ªãnh, khi c√†i ƒë·∫∑t Nginx, s·∫Ω c√≥ m·ªôt file c·∫•u h√¨nh default trong th∆∞ m·ª•c /etc/nginx/sites-available/ v·ªõi m·ªôt s·ªë c·∫•u h√¨nh c∆° b·∫£n. B·∫°n c√≥ th·ªÉ s·ª≠a file n√†y ƒë·ªÉ c·∫•u h√¨nh server block cho website c·ªßa m√¨nh.",[10,125,126],{},[13,127,128],{},"C·∫•u h√¨nh Default Host",[10,130,131],{},"M·ªü file c·∫•u h√¨nh Nginx m·∫∑c ƒë·ªãnh:",[41,133],{":files":134},"[{\"title\":\"default.conf\",\"language\":\"nginx\",\"content\":\"sudo nano /etc/nginx/sites-available/default\"}]",[10,136,137,138,141,142,145,146,149],{},"M·∫∑c ƒë·ªãnh, Nginx s·∫Ω ch·ªçn block ƒë·∫ßu ti√™n khi kh√¥ng t√¨m th·∫•y ",[87,139,140],{},"server_name"," t∆∞∆°ng ·ª©ng. ƒê·ªÉ c·∫•u h√¨nh r√µ r√†ng host m·∫∑c ƒë·ªãnh, b·∫°n th√™m ",[87,143,144],{},"default_server"," v√†o d√≤ng ",[87,147,148],{},"listen",":",[41,151],{":files":152},"[{\"title\":\"default.conf\",\"language\":\"nginx\",\"content\":\"server {\\n    listen 80 default_server;\\n    server_name _;\\n    root /var/www/html;\\n    index index.html index.htm;\\n\\n    location / {\\n        try_files $uri $uri/ =404;\\n    }\\n}\\n\"}]",[10,154,155],{},[13,156,157],{},"Ghi ch√∫:",[106,159,160,166,172,178,184],{},[109,161,162,165],{},[87,163,164],{},"listen 80 default_server;",": C·∫•u h√¨nh Nginx l·∫Øng nghe c·ªïng 80 (HTTP) v√† ƒë√°nh d·∫•u ƒë√¢y l√† default_server (server m·∫∑c ƒë·ªãnh cho c√°c y√™u c·∫ßu kh√¥ng kh·ªõp v·ªõi server block kh√°c).",[109,167,168,171],{},[87,169,170],{},"root /var/www/html;",": ƒê∆∞·ªùng d·∫´n t·ªõi th∆∞ m·ª•c ch·ª©a c√°c t·ªáp tin c·ªßa website. B·∫°n c√≥ th·ªÉ thay ƒë·ªïi ƒë∆∞·ªùng d·∫´n n√†y th√†nh th∆∞ m·ª•c c·ªßa website b·∫°n mu·ªën ph·ª•c v·ª•.",[109,173,174,177],{},[87,175,176],{},"server_name _;",": Ch·ªâ th·ªã n√†y cho ph√©p server ch·∫•p nh·∫≠n t·∫•t c·∫£ c√°c y√™u c·∫ßu kh√¥ng kh·ªõp v·ªõi server block kh√°c. N·∫øu b·∫°n c√≥ t√™n mi·ªÅn c·ª• th·ªÉ, h√£y thay th·∫ø d·∫•u g·∫°ch d∆∞·ªõi (_) b·∫±ng t√™n mi·ªÅn c·ªßa b·∫°n.",[109,179,180,183],{},[87,181,182],{},"location /",": ƒê√¢y l√† ph·∫ßn c·∫•u h√¨nh ƒë·ªãnh tuy·∫øn cho c√°c y√™u c·∫ßu ƒë·∫øn. C·∫•u h√¨nh n√†y gi√∫p Nginx t√¨m ki·∫øm c√°c t·ªáp tin khi ng∆∞·ªùi d√πng truy c·∫≠p v√†o website.",[109,185,186,189],{},[87,187,188],{},"try_files $uri $uri/ =404;",": N·∫øu y√™u c·∫ßu kh√¥ng tr√πng kh·ªõp v·ªõi t·ªáp tin ho·∫∑c th∆∞ m·ª•c, s·∫Ω tr·∫£ v·ªÅ l·ªói 404.",[10,191,192],{},"Sau khi ch·ªânh s·ª≠a xong, b·∫°n c·∫ßn ki·ªÉm tra xem c·∫•u h√¨nh c√≥ ch√≠nh x√°c kh√¥ng:",[41,194],{":files":195},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"sudo nginx -t\"}]",[10,197,198],{},"N·∫øu kh√¥ng c√≥ l·ªói n√†o, b·∫°n c√≥ th·ªÉ kh·ªüi ƒë·ªông l·∫°i Nginx ƒë·ªÉ √°p d·ª•ng c·∫•u h√¨nh m·ªõi:",[41,200],{":files":201},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"sudo systemctl restart nginx\"}]",[10,203,204],{},"Gi·ªõi thi·ªáu v·ªÅ sites-available v√† sites-enabled",[10,206,207],{},"Trong Nginx, th∆∞ m·ª•c sites-available v√† sites-enabled l√† m·ªôt c∆° ch·∫ø ƒë·ªÉ qu·∫£n l√Ω c√°c website (virtual hosts) m√† Nginx c√≥ th·ªÉ ph·ª•c v·ª•. C·∫•u tr√∫c n√†y gi√∫p d·ªÖ d√†ng b·∫≠t/t·∫Øt c√°c website m√† kh√¥ng c·∫ßn ph·∫£i x√≥a ho·∫∑c thay ƒë·ªïi c·∫•u h√¨nh tr·ª±c ti·∫øp.",[209,210,211],"ol",{},[109,212,213,149],{},[87,214,215],{},"sites-available",[106,217,218,221,224],{},[109,219,220],{},"ƒê√¢y l√† n∆°i b·∫°n t·∫°o v√† l∆∞u tr·ªØ t·∫•t c·∫£ c√°c file c·∫•u h√¨nh c·ªßa c√°c website ho·∫∑c ·ª©ng d·ª•ng m√† b·∫°n mu·ªën Nginx ph·ª•c v·ª•.",[109,222,223],{},"M·ªói file c·∫•u h√¨nh trong sites-available ƒë·∫°i di·ªán cho m·ªôt website ho·∫∑c ·ª©ng d·ª•ng ri√™ng bi·ªát.",[109,225,226],{},"V√≠ d·ª•: /etc/nginx/sites-available/example.com l√† c·∫•u h√¨nh cho website example.com.",[209,228,230],{"start":229},2,[109,231,232,149],{},[87,233,234],{},"sites-enabled",[106,236,237,240,243],{},[109,238,239],{},"ƒê√¢y l√† n∆°i ch·ª©a c√°c li√™n k·∫øt t∆∞·ª£ng tr∆∞ng (symlink) ƒë·∫øn c√°c file c·∫•u h√¨nh trong sites-available m√† b·∫°n mu·ªën Nginx th·ª±c thi.",[109,241,242],{},"C√°c li√™n k·∫øt n√†y cho ph√©p Nginx bi·∫øt ƒë∆∞·ª£c website n√†o s·∫Ω ƒë∆∞·ª£c k√≠ch ho·∫°t.",[109,244,245],{},"B·∫°n kh√¥ng n√™n tr·ª±c ti·∫øp ch·ªânh s·ª≠a c√°c file trong sites-enabled. Thay v√†o ƒë√≥, b·∫°n t·∫°o symlink t·ª´ sites-available.",[10,247,248],{},"C√°ch th·ª©c ho·∫°t ƒë·ªông:",[106,250,251,254],{},[109,252,253],{},"Khi b·∫°n t·∫°o m·ªôt file c·∫•u h√¨nh trong sites-available, b·∫°n c√≥ th·ªÉ k√≠ch ho·∫°t n√≥ b·∫±ng c√°ch t·∫°o m·ªôt symlink ƒë·∫øn file ƒë√≥ trong th∆∞ m·ª•c sites-enabled.",[109,255,256,257,260],{},"ƒê·ªÉ t·∫°o symlink, s·ª≠ d·ª•ng l·ªánh ",[87,258,259],{},"ln -s",".",[10,262,263],{},"V√≠ d·ª•, n·∫øu b·∫°n c√≥ c·∫•u h√¨nh example.com trong sites-available, b·∫°n c√≥ th·ªÉ t·∫°o symlink v√†o sites-enabled nh∆∞ sau:",[41,265],{":files":266},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"sudo ln -s /etc/nginx/sites-available/example.com /etc/nginx/sites-enabled/\"}]",[33,268,270],{"id":269},"c·∫•u-h√¨nh-deploy-page-tƒ©nh","C·∫•u h√¨nh Deploy page tƒ©nh",[10,272,273],{},"ƒê·ªÉ ph·ª•c v·ª• m·ªôt trang web tƒ©nh v·ªõi Nginx, b·∫°n c·∫ßn c·∫•u h√¨nh server block ƒë·ªÉ tr·ªè ƒë·∫øn th∆∞ m·ª•c ch·ª©a c√°c t·ªáp HTML, CSS, JavaScript v√† c√°c t√†i nguy√™n kh√°c c·ªßa trang web.",[41,275],{":files":276},"[{\"title\":\"static-site.conf\",\"language\":\"nginx\",\"content\":\"server {\\n    listen 80 default_server;\\n    server_name _;\\n    root /var/www/my_static_site;\\n    index index.html index.htm;\\n\\n    location / {\\n        try_files $uri $uri/ =404;\\n    }\\n}\\n\"}]",[10,278,279],{},"Trong ƒë√≥:",[106,281,282,288],{},[109,283,284,287],{},[87,285,286],{},"root /var/www/my_static_site;",": ƒê∆∞·ªùng d·∫´n t·ªõi th∆∞ m·ª•c ch·ª©a c√°c t·ªáp tin c·ªßa trang web tƒ©nh. H√£y thay ƒë·ªïi ƒë∆∞·ªùng d·∫´n n√†y th√†nh th∆∞ m·ª•c th·ª±c t·∫ø c·ªßa b·∫°n.",[109,289,290,293],{},[87,291,292],{},"index index.html index.htm;",": X√°c ƒë·ªãnh c√°c t·ªáp tin m·∫∑c ƒë·ªãnh khi truy c·∫≠p v√†o th∆∞ m·ª•c g·ªëc.",[33,295,297],{"id":296},"c·∫•u-h√¨nh-revert-proxy","C·∫•u h√¨nh revert proxy",[10,299,300],{},"ƒê·ªÉ c·∫•u h√¨nh Nginx l√†m reverse proxy, b·∫°n c·∫ßn thi·∫øt l·∫≠p m·ªôt server block ƒë·ªÉ chuy·ªÉn ti·∫øp c√°c y√™u c·∫ßu t·ª´ Nginx ƒë·∫øn m·ªôt server backend kh√°c (v√≠ d·ª•: m·ªôt ·ª©ng d·ª•ng web ch·∫°y tr√™n c·ªïng kh√°c ho·∫∑c tr√™n m·ªôt m√°y ch·ªß kh√°c).",[41,302],{":files":303},"[{\"title\":\"reverse-proxy.conf\",\"language\":\"nginx\",\"content\":\"server {\\n    listen 80;\\n    server_name example.com;\\n\\n    location / {\\n        proxy_pass http://backend;\\n        proxy_set_header Host $host;\\n        proxy_set_header X-Real-IP $remote_addr;\\n        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\\n        proxy_set_header X-Forwarded-Proto $scheme;\\n    }\\n}\\n\"}]",[33,305,307],{"id":306},"load-balancer-trong-nginx","Load Balancer trong Nginx",[10,309,310],{},"Nginx h·ªó tr·ª£ c·∫•u h√¨nh c√¢n b·∫±ng t·∫£i v·ªõi nhi·ªÅu thu·∫≠t to√°n l·ª±a ch·ªçn backend:",[106,312,313,319,325,331],{},[109,314,315,318],{},[87,316,317],{},"round-robin",": M·∫∑c ƒë·ªãnh, ph√¢n ph·ªëi ƒë·ªÅu cho c√°c request.",[109,320,321,324],{},[87,322,323],{},"least_conn",": Ch·ªçn server √≠t k·∫øt n·ªëi nh·∫•t.",[109,326,327,330],{},[87,328,329],{},"ip_hash",": Duy tr√¨ session cho client.",[109,332,333,336],{},[87,334,335],{},"least_time",": ch·ªçn server c√≥ th·ªùi gian ph·∫£n h·ªìi √≠t nh·∫•t",[10,338,339],{},"C√≥ th·ªÉ th√™m tr·ªçng s·ªë cho server b·∫±ng c√°ch th√™m s·ªë sau ip:port",[106,341,342],{},[109,343,344],{},"Ex: server 192.168.1.0:8000 weight=3;",[41,346],{":files":347},"[{\"title\":\"upstream.conf\",\"language\":\"nginx\",\"content\":\"upstream myapp1 {\\n    ip_hash;\\n    server 192.168.1.10:8000;\\n    server 192.168.2.10:8000;\\n    # server 192.168.1.10:8000 weight=3;\\n}\\n\"}]",[10,349,350],{},"C·∫•u h√¨nh server block proxy ƒë·∫øn upstream:",[41,352],{":files":353},"[{\"title\":\"proxy.conf\",\"language\":\"nginx\",\"content\":\"server {\\n  listen 80 default_server;\\n  server_name _;\\n  root /var/www/html;\\n  index index.html index.htm;\\n\\n  location / {\\n      proxy_pass http://myapp1;\\n      proxy_set_header Host $host;\\n      proxy_set_header X-Real-IP $remote_addr;\\n      proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\\n      proxy_set_header X-Forwarded-Proto $scheme;\\n  }\\n}\\n\"}]",[30,355],{},[33,357,359],{"id":358},"gzip-compression","Gzip Compression",[10,361,362],{},"B·∫≠t gzip gi√∫p tƒÉng t·ªëc ƒë·ªô t·∫£i trang b·∫±ng c√°ch n√©n n·ªôi dung tr·∫£ v·ªÅ:",[41,364],{":files":365},"[{\"title\":\"gzip.conf\",\"language\":\"nginx\",\"content\":\"gzip on;\\ngzip_disable \\\"msie6\\\";\\ngzip_vary on;\\ngzip_proxied any;\\ngzip_comp_level 6;\\ngzip_types text/plain text/css application/json application/javascript text/xml application/xml application/xml+rss text/javascript;\\n\"}]",[30,367],{},[33,369,371],{"id":370},"k√≠ch-ho·∫°t-http2","K√≠ch ho·∫°t HTTP/2",[10,373,374],{},"HTTP/2 c·∫£i thi·ªán hi·ªáu su·∫•t th√¥ng qua multiplexing v√† header compression:",[41,376],{":files":377},"[{\"title\":\"http2.conf\",\"language\":\"nginx\",\"content\":\"listen 443 ssl http2;\\n\"}]",[30,379],{},[33,381,383],{"id":382},"rate-limiting","Rate Limiting",[10,385,386],{},"Gi·ªõi h·∫°n s·ªë l∆∞·ª£ng request ƒë·ªÉ tr√°nh DDoS v√† abuse:",[41,388],{":files":389},"[{\"title\":\"rate-limiting.conf\",\"language\":\"nginx\",\"content\":\"limit_req_zone $binary_remote_addr zone=mylimit:10m rate=1r/s;\\n\\nlocation /api/ {\\n    limit_req zone=mylimit burst=5;\\n}\\n\"}]",[30,391],{},[33,393,395],{"id":394},"redirect-v√†-rewrites","Redirect v√† Rewrites",[10,397,398],{},"Chuy·ªÉn h∆∞·ªõng to√†n b·ªô traffic HTTP sang HTTPS:",[41,400],{":files":401},"[{\"title\":\"redirect.conf\",\"language\":\"nginx\",\"content\":\"server {\\n    listen 80;\\n    server_name example.com;\\n    return 301 https://$host$request_uri;\\n}\\nserver {\\n    listen 443 ssl;\\n    server_name example.com;\\n    ssl_certificate /path/to/cert.pem;\\n    ssl_certificate_key /path/to/key.pem;\\n}\\n\"}]",[10,403,404],{},"Vi·∫øt l·∫°i URL cho SPA:",[41,406],{":files":407},"[{\"title\":\"rewrite.conf\",\"language\":\"nginx\",\"content\":\"location /api/ {\\n    rewrite ^/api/(.*)$ /$1 break;\\n}\\n\"}]",[30,409],{},[33,411,413],{"id":412},"hardening-security","Hardening & Security",[10,415,416],{},"B·∫£o v·ªá server b·∫±ng c√°ch t·ª´ ch·ªëi truy c·∫≠p file nh·∫°y c·∫£m:",[41,418],{":files":419},"[{\"title\":\"deny.conf\",\"language\":\"nginx\",\"content\":\"location ~* \\\\\\\\.(git|env|bak|log)$ {\\n  deny all;\\n}\\n\"}]",[10,421,422],{},"·∫®n th√¥ng tin server:",[41,424],{":files":425},"[{\"title\":\"security.conf\",\"language\":\"nginx\",\"content\":\"server_tokens off;\\n\"}]",[10,427,428],{},"Ch·ªëng clickjacking v√† XSS:",[41,430],{":files":431},"[{\"title\":\"headers.conf\",\"language\":\"nginx\",\"content\":\"add_header X-Content-Security-Policy \\\"default-src 'self'\\\";\\nadd_header X-Frame-Options \\\"DENY\\\";\\nadd_header X-XSS-Protection \\\"1; mode=block\\\";\\nadd_header Referrer-Policy \\\"no-referrer\\\";\\n\"}]",[30,433],{},[33,435,437],{"id":436},"logging-n√¢ng-cao","Logging n√¢ng cao",[10,439,440],{},"C·∫•u h√¨nh custom log format ƒë·ªÉ d·ªÖ debug:",[41,442],{":files":443},"[{\"title\":\"logging.conf\",\"language\":\"nginx\",\"content\":\"log_format main '$remote_addr - $remote_user [$time_local] \\\"$request\\\" '\\n               '$status $body_bytes_sent \\\"$http_referer\\\" '\\n               '\\\"$http_user_agent\\\" \\\"$http_x_forwarded_for\\\"';\\naccess_log /var/log/nginx/access.log main;\\n\"}]",[30,445],{},[33,447,449],{"id":448},"t√†i-li·ªáu-tham-kh·∫£o","üìö T√†i li·ªáu tham kh·∫£o",[106,451,452,462,469,476],{},[109,453,454],{},[455,456,461],"a",{":target":457,"href":458,"rel":459},"_blank","https://nginx.org/en/docs/",[460],"nofollow","Nginx Documentation",[109,463,464],{},[455,465,468],{":target":457,"href":466,"rel":467},"https://docs.nginx.com/nginx/admin-guide/load-balancer/http-load-balancer/",[460],"Nginx Load Balancing Guide",[109,470,471],{},[455,472,475],{":target":457,"href":473,"rel":474},"https://www.php.net/manual/en/install.fpm.configuration.php",[460],"Nginx + PHP-FPM Setup",[109,477,478],{},[455,479,482],{":target":457,"href":480,"rel":481},"https://owasp.org/www-project-secure-headers/",[460],"OWASP Nginx Hardening Guide",[30,484],{},[486,487],"br",{},[10,489,490],{},[13,491,492],{},"T√≥m l·∫°i:",[10,494,495],{},"Nginx l√† c√¥ng c·ª• c·ª±c k·ª≥ m·∫°nh m·∫Ω v√† linh ho·∫°t, kh√¥ng ch·ªâ gi·ªõi h·∫°n ·ªü web server m√† c√≤n l√† reverse proxy, caching layer, v√† load balancer. Vi·ªác n·∫Øm v·ªØng v√† khai th√°c t·ªët c√°c t√≠nh nƒÉng s·∫Ω gi√∫p h·ªá th·ªëng c·ªßa b·∫°n hi·ªáu su·∫•t cao, b·∫£o m·∫≠t v√† d·ªÖ m·ªü r·ªông.",{"title":497,"searchDepth":229,"depth":229,"links":498},"",[],"2025-04-25T00:00:00.000Z","H∆∞·ªõng d·∫´n chi ti·∫øt v·ªÅ c·∫•u h√¨nh v√† tri·ªÉn khai Nginx nh∆∞ web server, reverse proxy, load balancer, v√† c√°c thi·∫øt l·∫≠p n√¢ng cao.","md","/images/blog/basic-nginx/banner.webp","nginx, c·∫•u h√¨nh, load balancer",{},true,"/blog/basic-nginx",{"title":5,"description":500},"blog/basic-nginx",[510],"nginx","TD5hnNlhMFCWWA0CxMj845uztymqmFDXVyZdRnUCuN4",[513,519,524,529,534,539,544,548,551,555,559,563,566,570,573,576,579,583,587,590,594,599,604,609,614,619,624,629,634,639,644,649,654,659,664,669,674,679,684,689,693,698,703,708,713,718,723,728,733,738,743,747,753,758,763,768,773,778,783,788],{"id":514,"title":515,"titles":516,"content":517,"level":518},"/blog/ansible","T·ªïng quan v√† c·∫•u h√¨nh Ansible",[],"H∆∞·ªõng d·∫´n chi ti·∫øt v·ªÅ c√†i ƒë·∫∑t, c·∫•u h√¨nh SSH, inventory v√† s·ª≠ d·ª•ng Playbook trong Ansible. H∆∞·ªõng d·∫´n chi ti·∫øt v·ªÅ c√†i ƒë·∫∑t v√† tri·ªÉn khai Ansible Ansible l√† m·ªôt c√¥ng c·ª• t·ª± ƒë·ªông h√≥a m·∫°nh m·∫Ω, gi√∫p qu·∫£n l√Ω c·∫•u h√¨nh, tri·ªÉn khai ·ª©ng d·ª•ng v√† ƒëi·ªÅu ph·ªëi h·ªá th·ªëng m·ªôt c√°ch d·ªÖ d√†ng. Trong b√†i vi·∫øt n√†y, ch√∫ng ta s·∫Ω t√¨m hi·ªÉu c√°ch c√†i ƒë·∫∑t, c·∫•u h√¨nh v√† s·ª≠ d·ª•ng Ansible th√¥ng qua c√°c v√≠ d·ª• th·ª±c t·∫ø.",1,{"id":520,"title":521,"titles":522,"content":523,"level":518},"/blog/ansible#Ô∏è-c√†i-ƒë·∫∑t-ansible","üõ†Ô∏è C√†i ƒë·∫∑t Ansible",[],"H∆∞·ªõng d·∫´n c√†i ƒë·∫∑t Ansible tr√™n Ubuntu: Sau khi c√†i ƒë·∫∑t, b·∫°n c√≥ th·ªÉ ki·ªÉm tra phi√™n b·∫£n Ansible:",{"id":525,"title":526,"titles":527,"content":528,"level":518},"/blog/ansible#c·∫•u-h√¨nh-ssh","üîë C·∫•u h√¨nh SSH",[],"ƒê·ªÉ Ansible c√≥ th·ªÉ k·∫øt n·ªëi ƒë·∫øn c√°c m√°y ch·ªß t·ª´ xa, b·∫°n c·∫ßn c·∫•u h√¨nh SSH. D∆∞·ªõi ƒë√¢y l√† c√°ch sao ch√©p SSH key ƒë·∫øn m√°y ch·ªß kh√°c: L∆∞u √Ω: Thay vinhtieng@123.3123.12 b·∫±ng t√™n ng∆∞·ªùi d√πng v√† ƒë·ªãa ch·ªâ IP c·ªßa m√°y ch·ªß t·ª´ xa.",{"id":530,"title":531,"titles":532,"content":533,"level":518},"/blog/ansible#hosts-inventory","üìã Hosts - Inventory",[],"File inventory l√† n∆°i b·∫°n ƒë·ªãnh nghƒ©a danh s√°ch c√°c m√°y ch·ªß m√† Ansible s·∫Ω qu·∫£n l√Ω. ƒê√¢y l√† m·ªôt v√≠ d·ª• c∆° b·∫£n:",{"id":535,"title":536,"titles":537,"content":538,"level":518},"/blog/ansible#ki·ªÉm-tra-k·∫øt-n·ªëi-ping","üèì Ki·ªÉm tra k·∫øt n·ªëi (Ping)",[],"B·∫°n c√≥ th·ªÉ ki·ªÉm tra k·∫øt n·ªëi ƒë·∫øn c√°c m√°y ch·ªß b·∫±ng l·ªánh ping: Ping v·ªõi file hosts m·∫∑c ƒë·ªãnh: Ping v·ªõi file inventory t√πy ch·ªânh:",{"id":540,"title":541,"titles":542,"content":543,"level":518},"/blog/ansible#playbook-task-module","üìú Playbook - Task - Module",[],"Playbook l√† n∆°i b·∫°n ƒë·ªãnh nghƒ©a c√°c t√°c v·ª• (tasks) c·∫ßn th·ª±c hi·ªán tr√™n c√°c m√°y ch·ªß. D∆∞·ªõi ƒë√¢y l√† c√°ch ch·∫°y m·ªôt playbook: V√≠ d·ª• v·ªÅ Playbook ƒë∆°n gi·∫£n:",{"id":545,"title":449,"titles":546,"content":547,"level":518},"/blog/ansible#t√†i-li·ªáu-tham-kh·∫£o",[],"Ansible DocumentationAnsible GalaxyAnsible Playbook Guide T√≥m l·∫°i: Ansible l√† c√¥ng c·ª• m·∫°nh m·∫Ω gi√∫p t·ª± ƒë·ªông h√≥a c√°c t√°c v·ª• qu·∫£n tr·ªã h·ªá th·ªëng. Vi·ªác n·∫Øm v·ªØng c√°ch s·ª≠ d·ª•ng Ansible s·∫Ω gi√∫p b·∫°n ti·∫øt ki·ªám th·ªùi gian v√† gi·∫£m thi·ªÉu l·ªói trong qu√° tr√¨nh qu·∫£n l√Ω h·ªá th·ªëng.",{"id":506,"title":5,"titles":549,"content":550,"level":518},[],"H∆∞·ªõng d·∫´n chi ti·∫øt v·ªÅ c·∫•u h√¨nh v√† tri·ªÉn khai Nginx nh∆∞ web server, reverse proxy, load balancer, v√† c√°c thi·∫øt l·∫≠p n√¢ng cao. Gi·ªõi thi·ªáu v·ªÅ Nginx nginx (\"engine x\") is an HTTP web server, reverse proxy, content cache, load balancer, TCP/UDP proxy server, and mail proxy server. Originally written by Igor Sysoev and distributed under the 2-clause BSD License. Enterprise distributions, commercial support and training are available from F5, Inc. Nginx l√† m·ªôt web server, ph·∫ßn m·ªÅm ch·∫°y tr√™n m√°y ch·ªß ƒë·ªÉ nh·∫≠n v√† x·ª≠ l√Ω c√°c request (y√™u c·∫ßu) t·ª´ tr√¨nh duy·ªát ho·∫∑c client (nh∆∞ API request). Ban ƒë·∫ßu, Nginx ƒë∆∞·ª£c t·∫°o ra ƒë·ªÉ x·ª≠ l√Ω nhi·ªÅu k·∫øt n·ªëi c√πng l√∫c v·ªõi hi·ªáu nƒÉng cao, v√† ng√†y nay n√≥ c√≤n ƒë∆∞·ª£c d√πng nh∆∞:\n‚Ä¢\tWeb Server (m√°y ch·ªß web)\n‚Ä¢\tReverse Proxy (proxy ng∆∞·ª£c)\n‚Ä¢\tLoad Balancer (c√¢n b·∫±ng t·∫£i)\n‚Ä¢\tCache server (b·ªô nh·ªõ ƒë·ªám)\n‚Ä¢\tAPI Gateway (·ªü m·ª©c c∆° b·∫£n)",{"id":552,"title":36,"titles":553,"content":554,"level":518},"/blog/basic-nginx#c√†i-ƒë·∫∑t-nginx",[],"H∆∞·ªõng d·∫´n c√†i ƒë·∫∑t Nginx tr√™n Ubuntu: Sau khi c√†i ƒë·∫∑t, b·∫°n c√≥ th·ªÉ ki·ªÉm tra tr·∫°ng th√°i Nginx: Ki·ªÉm tra t∆∞·ªùng l·ª≠a:\nƒê·ªÉ ki·ªÉm tra c√°c c·∫•u h√¨nh ƒëang ƒë∆∞·ª£c ch·∫°y th√¨ ch·∫°y l·ªánh K·∫øt qu·∫£ hi·ªán ra ·ªü terminal s·∫Ω d·∫°ng nh∆∞ sau: Sau khi c√†i ƒë·∫∑t Nginx, b·∫°n n√™n ƒë·∫£m b·∫£o r·∫±ng t∆∞·ªùng l·ª≠a (firewall) cho ph√©p l∆∞u l∆∞·ª£ng HTTP v√† HTTPS ƒë·ªÉ m√°y ch·ªß c√≥ th·ªÉ ph·ª•c v·ª• n·ªôi dung web. L·ªánh sudo ufw allow 'Nginx Full' s·∫Ω m·ªü c·∫£ hai c·ªïng 80 (HTTP) v√† 443 (HTTPS).\nSau ƒë√≥, d√πng sudo ufw status ƒë·ªÉ x√°c nh·∫≠n r·∫±ng c√°c c·ªïng n√†y ƒë√£ ƒë∆∞·ª£c m·ªü. N·∫øu b·∫°n ch∆∞a b·∫≠t ufw (Uncomplicated Firewall), b·∫°n c√≥ th·ªÉ b·∫≠t b·∫±ng l·ªánh sudo ufw enable. Tuy nhi√™n, h√£y ƒë·∫£m b·∫£o c·∫•u h√¨nh ch√≠nh x√°c ƒë·ªÉ kh√¥ng b·ªã kh√≥a SSH. Ki·ªÉm tra ho·∫°t ƒë·ªông c·ªßa Nginx: M·ªü tr√¨nh duy·ªát v√† truy c·∫≠p ƒë·ªãa ch·ªâ:\nüëâ http://\u003Cƒë·ªãa_ch·ªâ_IP_c·ªßa_b·∫°n> ho·∫∑c http://localhost n·∫øu ki·ªÉm tra c·ª•c b·ªô. B·∫°n s·∫Ω th·∫•y trang m·∫∑c ƒë·ªãnh ‚ÄúWelcome to nginx!‚Äù n·∫øu m·ªçi th·ª© ho·∫°t ƒë·ªông ƒë√∫ng c√°ch.",{"id":556,"title":101,"titles":557,"content":558,"level":518},"/blog/basic-nginx#Ô∏è-c·∫•u-h√¨nh-default-host-trong-nginx",[],"Tr√™n Ubuntu, file c·∫•u h√¨nh c·ªßa Nginx th∆∞·ªùng ƒë∆∞·ª£c l∆∞u t·∫°i c√°c v·ªã tr√≠ sau: /etc/nginx/sites-available/default (N·∫øu s·ª≠ d·ª•ng th∆∞ m·ª•c sites-available v√† sites-enabled)./etc/nginx/conf.d/default.conf (Th√¥ng d·ª•ng cho c√°c c·∫•u h√¨nh ƒë∆°n gi·∫£n). M·∫∑c ƒë·ªãnh, khi c√†i ƒë·∫∑t Nginx, s·∫Ω c√≥ m·ªôt file c·∫•u h√¨nh default trong th∆∞ m·ª•c /etc/nginx/sites-available/ v·ªõi m·ªôt s·ªë c·∫•u h√¨nh c∆° b·∫£n. B·∫°n c√≥ th·ªÉ s·ª≠a file n√†y ƒë·ªÉ c·∫•u h√¨nh server block cho website c·ªßa m√¨nh. C·∫•u h√¨nh Default Host M·ªü file c·∫•u h√¨nh Nginx m·∫∑c ƒë·ªãnh: M·∫∑c ƒë·ªãnh, Nginx s·∫Ω ch·ªçn block ƒë·∫ßu ti√™n khi kh√¥ng t√¨m th·∫•y server_name t∆∞∆°ng ·ª©ng. ƒê·ªÉ c·∫•u h√¨nh r√µ r√†ng host m·∫∑c ƒë·ªãnh, b·∫°n th√™m default_server v√†o d√≤ng listen: Ghi ch√∫: listen 80 default_server;: C·∫•u h√¨nh Nginx l·∫Øng nghe c·ªïng 80 (HTTP) v√† ƒë√°nh d·∫•u ƒë√¢y l√† default_server (server m·∫∑c ƒë·ªãnh cho c√°c y√™u c·∫ßu kh√¥ng kh·ªõp v·ªõi server block kh√°c).root /var/www/html;: ƒê∆∞·ªùng d·∫´n t·ªõi th∆∞ m·ª•c ch·ª©a c√°c t·ªáp tin c·ªßa website. B·∫°n c√≥ th·ªÉ thay ƒë·ªïi ƒë∆∞·ªùng d·∫´n n√†y th√†nh th∆∞ m·ª•c c·ªßa website b·∫°n mu·ªën ph·ª•c v·ª•.server_name _;: Ch·ªâ th·ªã n√†y cho ph√©p server ch·∫•p nh·∫≠n t·∫•t c·∫£ c√°c y√™u c·∫ßu kh√¥ng kh·ªõp v·ªõi server block kh√°c. N·∫øu b·∫°n c√≥ t√™n mi·ªÅn c·ª• th·ªÉ, h√£y thay th·∫ø d·∫•u g·∫°ch d∆∞·ªõi (_) b·∫±ng t√™n mi·ªÅn c·ªßa b·∫°n.location /: ƒê√¢y l√† ph·∫ßn c·∫•u h√¨nh ƒë·ªãnh tuy·∫øn cho c√°c y√™u c·∫ßu ƒë·∫øn. C·∫•u h√¨nh n√†y gi√∫p Nginx t√¨m ki·∫øm c√°c t·ªáp tin khi ng∆∞·ªùi d√πng truy c·∫≠p v√†o website.try_files $uri $uri/ =404;: N·∫øu y√™u c·∫ßu kh√¥ng tr√πng kh·ªõp v·ªõi t·ªáp tin ho·∫∑c th∆∞ m·ª•c, s·∫Ω tr·∫£ v·ªÅ l·ªói 404. Sau khi ch·ªânh s·ª≠a xong, b·∫°n c·∫ßn ki·ªÉm tra xem c·∫•u h√¨nh c√≥ ch√≠nh x√°c kh√¥ng: N·∫øu kh√¥ng c√≥ l·ªói n√†o, b·∫°n c√≥ th·ªÉ kh·ªüi ƒë·ªông l·∫°i Nginx ƒë·ªÉ √°p d·ª•ng c·∫•u h√¨nh m·ªõi: Gi·ªõi thi·ªáu v·ªÅ sites-available v√† sites-enabled Trong Nginx, th∆∞ m·ª•c sites-available v√† sites-enabled l√† m·ªôt c∆° ch·∫ø ƒë·ªÉ qu·∫£n l√Ω c√°c website (virtual hosts) m√† Nginx c√≥ th·ªÉ ph·ª•c v·ª•. C·∫•u tr√∫c n√†y gi√∫p d·ªÖ d√†ng b·∫≠t/t·∫Øt c√°c website m√† kh√¥ng c·∫ßn ph·∫£i x√≥a ho·∫∑c thay ƒë·ªïi c·∫•u h√¨nh tr·ª±c ti·∫øp. sites-available: ƒê√¢y l√† n∆°i b·∫°n t·∫°o v√† l∆∞u tr·ªØ t·∫•t c·∫£ c√°c file c·∫•u h√¨nh c·ªßa c√°c website ho·∫∑c ·ª©ng d·ª•ng m√† b·∫°n mu·ªën Nginx ph·ª•c v·ª•.M·ªói file c·∫•u h√¨nh trong sites-available ƒë·∫°i di·ªán cho m·ªôt website ho·∫∑c ·ª©ng d·ª•ng ri√™ng bi·ªát.V√≠ d·ª•: /etc/nginx/sites-available/example.com l√† c·∫•u h√¨nh cho website example.com. sites-enabled: ƒê√¢y l√† n∆°i ch·ª©a c√°c li√™n k·∫øt t∆∞·ª£ng tr∆∞ng (symlink) ƒë·∫øn c√°c file c·∫•u h√¨nh trong sites-available m√† b·∫°n mu·ªën Nginx th·ª±c thi.C√°c li√™n k·∫øt n√†y cho ph√©p Nginx bi·∫øt ƒë∆∞·ª£c website n√†o s·∫Ω ƒë∆∞·ª£c k√≠ch ho·∫°t.B·∫°n kh√¥ng n√™n tr·ª±c ti·∫øp ch·ªânh s·ª≠a c√°c file trong sites-enabled. Thay v√†o ƒë√≥, b·∫°n t·∫°o symlink t·ª´ sites-available. C√°ch th·ª©c ho·∫°t ƒë·ªông: Khi b·∫°n t·∫°o m·ªôt file c·∫•u h√¨nh trong sites-available, b·∫°n c√≥ th·ªÉ k√≠ch ho·∫°t n√≥ b·∫±ng c√°ch t·∫°o m·ªôt symlink ƒë·∫øn file ƒë√≥ trong th∆∞ m·ª•c sites-enabled.ƒê·ªÉ t·∫°o symlink, s·ª≠ d·ª•ng l·ªánh ln -s. V√≠ d·ª•, n·∫øu b·∫°n c√≥ c·∫•u h√¨nh example.com trong sites-available, b·∫°n c√≥ th·ªÉ t·∫°o symlink v√†o sites-enabled nh∆∞ sau:",{"id":560,"title":270,"titles":561,"content":562,"level":518},"/blog/basic-nginx#c·∫•u-h√¨nh-deploy-page-tƒ©nh",[],"ƒê·ªÉ ph·ª•c v·ª• m·ªôt trang web tƒ©nh v·ªõi Nginx, b·∫°n c·∫ßn c·∫•u h√¨nh server block ƒë·ªÉ tr·ªè ƒë·∫øn th∆∞ m·ª•c ch·ª©a c√°c t·ªáp HTML, CSS, JavaScript v√† c√°c t√†i nguy√™n kh√°c c·ªßa trang web. Trong ƒë√≥: root /var/www/my_static_site;: ƒê∆∞·ªùng d·∫´n t·ªõi th∆∞ m·ª•c ch·ª©a c√°c t·ªáp tin c·ªßa trang web tƒ©nh. H√£y thay ƒë·ªïi ƒë∆∞·ªùng d·∫´n n√†y th√†nh th∆∞ m·ª•c th·ª±c t·∫ø c·ªßa b·∫°n.index index.html index.htm;: X√°c ƒë·ªãnh c√°c t·ªáp tin m·∫∑c ƒë·ªãnh khi truy c·∫≠p v√†o th∆∞ m·ª•c g·ªëc.",{"id":564,"title":297,"titles":565,"content":300,"level":518},"/blog/basic-nginx#c·∫•u-h√¨nh-revert-proxy",[],{"id":567,"title":307,"titles":568,"content":569,"level":518},"/blog/basic-nginx#load-balancer-trong-nginx",[],"Nginx h·ªó tr·ª£ c·∫•u h√¨nh c√¢n b·∫±ng t·∫£i v·ªõi nhi·ªÅu thu·∫≠t to√°n l·ª±a ch·ªçn backend: round-robin: M·∫∑c ƒë·ªãnh, ph√¢n ph·ªëi ƒë·ªÅu cho c√°c request.least_conn: Ch·ªçn server √≠t k·∫øt n·ªëi nh·∫•t.ip_hash: Duy tr√¨ session cho client.least_time: ch·ªçn server c√≥ th·ªùi gian ph·∫£n h·ªìi √≠t nh·∫•t C√≥ th·ªÉ th√™m tr·ªçng s·ªë cho server b·∫±ng c√°ch th√™m s·ªë sau ip:port Ex: server 192.168.1.0:8000 weight=3; C·∫•u h√¨nh server block proxy ƒë·∫øn upstream:",{"id":571,"title":359,"titles":572,"content":362,"level":518},"/blog/basic-nginx#gzip-compression",[],{"id":574,"title":371,"titles":575,"content":374,"level":518},"/blog/basic-nginx#k√≠ch-ho·∫°t-http2",[],{"id":577,"title":383,"titles":578,"content":386,"level":518},"/blog/basic-nginx#rate-limiting",[],{"id":580,"title":395,"titles":581,"content":582,"level":518},"/blog/basic-nginx#redirect-v√†-rewrites",[],"Chuy·ªÉn h∆∞·ªõng to√†n b·ªô traffic HTTP sang HTTPS: Vi·∫øt l·∫°i URL cho SPA:",{"id":584,"title":413,"titles":585,"content":586,"level":518},"/blog/basic-nginx#hardening-security",[],"B·∫£o v·ªá server b·∫±ng c√°ch t·ª´ ch·ªëi truy c·∫≠p file nh·∫°y c·∫£m: ·∫®n th√¥ng tin server: Ch·ªëng clickjacking v√† XSS:",{"id":588,"title":437,"titles":589,"content":440,"level":518},"/blog/basic-nginx#logging-n√¢ng-cao",[],{"id":591,"title":449,"titles":592,"content":593,"level":518},"/blog/basic-nginx#t√†i-li·ªáu-tham-kh·∫£o",[],"Nginx DocumentationNginx Load Balancing GuideNginx + PHP-FPM SetupOWASP Nginx Hardening Guide T√≥m l·∫°i: Nginx l√† c√¥ng c·ª• c·ª±c k·ª≥ m·∫°nh m·∫Ω v√† linh ho·∫°t, kh√¥ng ch·ªâ gi·ªõi h·∫°n ·ªü web server m√† c√≤n l√† reverse proxy, caching layer, v√† load balancer. Vi·ªác n·∫Øm v·ªØng v√† khai th√°c t·ªët c√°c t√≠nh nƒÉng s·∫Ω gi√∫p h·ªá th·ªëng c·ªßa b·∫°n hi·ªáu su·∫•t cao, b·∫£o m·∫≠t v√† d·ªÖ m·ªü r·ªông.",{"id":595,"title":596,"titles":597,"content":598,"level":518},"/blog/basic-redis","C∆° B·∫£n V·ªÅ Redis v√† T√≠ch H·ª£p V·ªõi Node.js",[],"T√¨m hi·ªÉu c√°c kh√°i ni·ªám c∆° b·∫£n v·ªÅ Redis bao g·ªìm c√°c ki·ªÉu d·ªØ li·ªáu v√† ph∆∞∆°ng th·ª©c, c≈©ng nh∆∞ c√°ch t√≠ch h·ª£p Redis v√†o ·ª©ng d·ª•ng Node.js ƒë·ªÉ s·ª≠ d·ª•ng b·ªô nh·ªõ ƒë·ªám v√† c√°c t√≠nh nƒÉng th·ªùi gian th·ª±c. C∆° B·∫£n V·ªÅ Redis v√† T√≠ch H·ª£p V·ªõi Node.js Redis l√† m·ªôt kho d·ªØ li·ªáu key-value trong b·ªô nh·ªõ, m√£ ngu·ªìn m·ªü, n·ªïi ti·∫øng v·ªõi hi·ªáu su·∫•t v√† t√≠nh linh ho·∫°t. Redis h·ªó tr·ª£ nhi·ªÅu ki·ªÉu d·ªØ li·ªáu, ph√π h·ª£p cho vi·ªác s·ª≠ d·ª•ng b·ªô nh·ªõ ƒë·ªám, ·ª©ng d·ª•ng th·ªùi gian th·ª±c, h·ªá th·ªëng pub/sub, v√† nhi·ªÅu h∆°n n·ªØa. Trong h∆∞·ªõng d·∫´n n√†y, ch√∫ng ta s·∫Ω t√¨m hi·ªÉu: C√°c ki·ªÉu d·ªØ li·ªáu trong RedisC√°c l·ªánh ph·ªï bi·∫øn c·ªßa RedisC√°ch t√≠ch h·ª£p Redis v√†o d·ª± √°n Node.js",{"id":600,"title":601,"titles":602,"content":603,"level":518},"/blog/basic-redis#c√°c-ki·ªÉu-d·ªØ-li·ªáu-l·ªánh-redis","üì¶ C√°c Ki·ªÉu D·ªØ Li·ªáu & L·ªánh Redis",[],"Redis h·ªó tr·ª£ nhi·ªÅu c·∫•u tr√∫c d·ªØ li·ªáu kh√°c nhau:",{"id":605,"title":606,"titles":607,"content":608,"level":229},"/blog/basic-redis#_1-chu·ªói-strings","1. Chu·ªói (Strings)",[601],"Chu·ªói l√† ki·ªÉu d·ªØ li·ªáu c∆° b·∫£n nh·∫•t trong Redis. B·∫°n c√≥ th·ªÉ l∆∞u tr·ªØ b·∫•t k·ª≥ gi√° tr·ªã n√†o d∆∞·ªõi d·∫°ng chu·ªói, bao g·ªìm c·∫£ s·ªë nguy√™n v√† JSON ƒë∆∞·ª£c tu·∫ßn t·ª± h√≥a.",{"id":610,"title":611,"titles":612,"content":613,"level":229},"/blog/basic-redis#_2-danh-s√°ch-lists","2. Danh s√°ch (Lists)",[601],"Danh s√°ch l√† c√°c t·∫≠p h·ª£p c√≥ th·ª© t·ª± c·ªßa chu·ªói. B·∫°n c√≥ th·ªÉ th√™m ph·∫ßn t·ª≠ v√†o ƒë·∫ßu ho·∫∑c cu·ªëi danh s√°ch.",{"id":615,"title":616,"titles":617,"content":618,"level":229},"/blog/basic-redis#_3-t·∫≠p-h·ª£p-sets","3. T·∫≠p h·ª£p (Sets)",[601],"T·∫≠p h·ª£p l√† c√°c t·∫≠p h·ª£p kh√¥ng c√≥ th·ª© t·ª± c·ªßa c√°c chu·ªói duy nh·∫•t. Ch√∫ng h·ªó tr·ª£ c√°c ph√©p to√°n nh∆∞ h·ª£p, giao, v√† hi·ªáu.",{"id":620,"title":621,"titles":622,"content":623,"level":229},"/blog/basic-redis#_4-bƒÉm-hashes","4. BƒÉm (Hashes)",[601],"BƒÉm l√† c√°c b·∫£n ƒë·ªì gi·ªØa tr∆∞·ªùng chu·ªói v√† gi√° tr·ªã chu·ªói, r·∫•t l√Ω t∆∞·ªüng ƒë·ªÉ bi·ªÉu di·ªÖn c√°c ƒë·ªëi t∆∞·ª£ng.",{"id":625,"title":626,"titles":627,"content":628,"level":229},"/blog/basic-redis#_5-t·∫≠p-h·ª£p-c√≥-th·ª©-t·ª±-sorted-sets","5. T·∫≠p h·ª£p c√≥ th·ª© t·ª± (Sorted Sets)",[601],"T·∫≠p h·ª£p c√≥ th·ª© t·ª± t∆∞∆°ng t·ª± nh∆∞ t·∫≠p h·ª£p nh∆∞ng c√≥ m·ªôt ƒëi·ªÉm s·ªë li√™n k·∫øt v·ªõi m·ªói ph·∫ßn t·ª≠, cho ph√©p truy xu·∫•t theo th·ª© t·ª±.",{"id":630,"title":631,"titles":632,"content":633,"level":229},"/blog/basic-redis#_6-bitmaps-hyperloglogs-streams","6. Bitmaps, HyperLogLogs, Streams",[601],"ƒê√¢y l√† c√°c c·∫•u tr√∫c n√¢ng cao h∆°n:\nBitmaps ƒë∆∞·ª£c s·ª≠ d·ª•ng cho c√°c thao t√°c c·∫•p bit, cho ph√©p b·∫°n thao t√°c c√°c bit ri√™ng l·∫ª trong m·ªôt chu·ªói. HyperLogLogs ƒë∆∞·ª£c s·ª≠ d·ª•ng ƒë·ªÉ ∆∞·ªõc t√≠nh s·ªë l∆∞·ª£ng ph·∫ßn t·ª≠ duy nh·∫•t trong m·ªôt t·∫≠p h·ª£p, r·∫•t h·ªØu √≠ch cho c√°c tr∆∞·ªùng h·ª£p nh∆∞ theo d√µi s·ªë l∆∞·ª£ng kh√°ch truy c·∫≠p duy nh·∫•t. Streams ƒë∆∞·ª£c thi·∫øt k·∫ø cho c√°c ƒë∆∞·ªùng d·∫´n d·ªØ li·ªáu th·ªùi gian th·ª±c v√† ngu·ªìn s·ª± ki·ªán, cho ph√©p b·∫°n th√™m v√† truy v·∫•n d·ªØ li·ªáu theo chu·ªói th·ªùi gian.",{"id":635,"title":636,"titles":637,"content":638,"level":518},"/blog/basic-redis#t√≠ch-h·ª£p-redis-v·ªõi-nodejs","üîß T√≠ch H·ª£p Redis V·ªõi Node.js",[],"B·∫°n c√≥ th·ªÉ s·ª≠ d·ª•ng th∆∞ vi·ªán ioredis ho·∫∑c redis client ph·ªï bi·∫øn. D∆∞·ªõi ƒë√¢y l√† m·ªôt v√≠ d·ª• v·ªõi ioredis.",{"id":640,"title":641,"titles":642,"content":643,"level":229},"/blog/basic-redis#_1-c√†i-ƒë·∫∑t-redis-v√†-ioredis","1. C√†i ƒê·∫∑t Redis v√† ioredis",[636],"ƒê·∫£m b·∫£o r·∫±ng b·∫°n ƒë√£ c√†i ƒë·∫∑t v√† ch·∫°y Redis. B·∫°n c√≥ th·ªÉ s·ª≠ d·ª•ng Docker ƒë·ªÉ ch·∫°y Redis m·ªôt c√°ch d·ªÖ d√†ng:",{"id":645,"title":646,"titles":647,"content":648,"level":229},"/blog/basic-redis#_2-thi·∫øt-l·∫≠p-c∆°-b·∫£n","2. Thi·∫øt L·∫≠p C∆° B·∫£n",[636],"T·∫°o m·ªôt t·ªáp c√≥ t√™n redis.js v√† th√™m ƒëo·∫°n m√£ sau:",{"id":650,"title":651,"titles":652,"content":653,"level":229},"/blog/basic-redis#_3-s·ª≠-d·ª•ng-redis-trong-·ª©ng-d·ª•ng","3. S·ª≠ D·ª•ng Redis Trong ·ª®ng D·ª•ng",[636],"B√¢y gi·ªù b·∫°n c√≥ th·ªÉ s·ª≠ d·ª•ng Redis trong ·ª©ng d·ª•ng c·ªßa m√¨nh. D∆∞·ªõi ƒë√¢y l√† m·ªôt v√≠ d·ª• v·ªÅ vi·ªác thi·∫øt l·∫≠p v√† l·∫•y gi√° tr·ªã:",{"id":655,"title":656,"titles":657,"content":658,"level":229},"/blog/basic-redis#_4-v√≠-d·ª•-v·ªÅ-b·ªô-nh·ªõ-ƒë·ªám","4. V√≠ D·ª• V·ªÅ B·ªô Nh·ªõ ƒê·ªám",[636],"B·∫°n c√≥ th·ªÉ s·ª≠ d·ª•ng Redis l√†m b·ªô nh·ªõ ƒë·ªám ƒë·ªÉ l∆∞u tr·ªØ d·ªØ li·ªáu ƒë∆∞·ª£c truy c·∫≠p th∆∞·ªùng xuy√™n. D∆∞·ªõi ƒë√¢y l√† m·ªôt v√≠ d·ª• v·ªÅ vi·ªác l∆∞u tr·ªØ k·∫øt qu·∫£ truy v·∫•n c∆° s·ªü d·ªØ li·ªáu v√†o b·ªô nh·ªõ ƒë·ªám:",{"id":660,"title":661,"titles":662,"content":663,"level":229},"/blog/basic-redis#_5-k·∫øt-lu·∫≠n","5. K·∫øt Lu·∫≠n",[636],"Redis l√† m·ªôt c√¥ng c·ª• m·∫°nh m·∫Ω cho b·ªô nh·ªõ ƒë·ªám v√† c√°c ·ª©ng d·ª•ng th·ªùi gian th·ª±c. B·∫±ng c√°ch t√≠ch h·ª£p Redis v√†o c√°c d·ª± √°n Node.js, b·∫°n c√≥ th·ªÉ c·∫£i thi·ªán ƒë√°ng k·ªÉ hi·ªáu su·∫•t v√† kh·∫£ nƒÉng m·ªü r·ªông. H∆∞·ªõng d·∫´n n√†y ƒë√£ bao qu√°t c√°c kh√°i ni·ªám c∆° b·∫£n v·ªÅ ki·ªÉu d·ªØ li·ªáu, l·ªánh, v√† c√°ch s·ª≠ d·ª•ng Redis trong ·ª©ng d·ª•ng Node.js.\nH√£y kh√°m ph√° th√™m c√°c t√≠nh nƒÉng n√¢ng cao nh∆∞ giao d·ªãch, scripting Lua, v√† clustering khi b·∫°n ƒë√£ quen thu·ªôc h∆°n v·ªõi Redis.\nRedis l√† m·ªôt c√¥ng c·ª• ƒëa nƒÉng c√≥ th·ªÉ n√¢ng cao ƒë√°ng k·ªÉ ·ª©ng d·ª•ng c·ªßa b·∫°n. Happy Coding",{"id":665,"title":666,"titles":667,"content":668,"level":229},"/blog/basic-redis#_6-t√†i-nguy√™n-tham-kh·∫£o","6. T√†i Nguy√™n Tham Kh·∫£o",[636],"T√†i li·ªáu RedisT√†i li·ªáu ioredis",{"id":670,"title":671,"titles":672,"content":673,"level":518},"/blog/common-docker-file","C√°c Dockerfile Ph·ªï Bi·∫øn Cho Nhi·ªÅu D·ª± √Ån Kh√°c Nhau",[],"T√¨m hi·ªÉu v·ªÅ Docker v√† kh√°m ph√° c√°c Dockerfile ph·ªï bi·∫øn cho nhi·ªÅu d·ª± √°n nh∆∞ Node.js, PHP v·ªõi Laravel, React, Vue, Nuxt v√† Next.js. Kh√°m ph√° c√°c k·ªπ thu·∫≠t t·ªëi ∆∞u v√† th·ª±c h√†nh t·ªët nh·∫•t. C√°c Dockerfile Ph·ªï Bi·∫øn Cho Nhi·ªÅu D·ª± √Ån Kh√°c Nhau Docker l√† m·ªôt c√¥ng c·ª• ·∫£o h√≥a nh·∫π gi√∫p ph√°t tri·ªÉn, tri·ªÉn khai v√† ch·∫°y ·ª©ng d·ª•ng trong c√°c container. N√≥ cho ph√©p b·∫°n ƒë√≥ng g√≥i ·ª©ng d·ª•ng v√† t·∫•t c·∫£ c√°c ph·ª• thu·ªôc c·ªßa n√≥ v√†o m·ªôt container duy nh·∫•t, gi√∫p d·ªÖ d√†ng tri·ªÉn khai tr√™n b·∫•t k·ª≥ m√¥i tr∆∞·ªùng n√†o m√† kh√¥ng c·∫ßn lo l·∫Øng v·ªÅ s·ª± kh√°c bi·ªát gi·ªØa c√°c m√¥i tr∆∞·ªùng. ƒê√¢y l√† m·ªôt s·ªë Dockerfile cho c√°c d·ª± √°n th∆∞·ªùng g·∫∑p, b·∫°n c√≥ th·ªÉ tham kh·∫£o v√† ƒëi·ªÅu ch·ªânh theo nhu c·∫ßu c·ªßa m√¨nh. N·ªôi dung b√†i vi·∫øt ƒë∆∞·ª£c t·ªïng h·ª£p v√† t√≠ch g√≥p t·ª´ nhi·ªÅu ngu·ªìn kh√°c nhau, bao g·ªìm c·∫£ c√°c d·ª± √°n th·ª±c t·∫ø m√† m√¨nh ƒë√£ l√†m.",{"id":675,"title":676,"titles":677,"content":678,"level":229},"/blog/common-docker-file#dockerfile-cho-nodejs","Dockerfile cho Node.js",[671],"Dockerfile cho Node.js r·∫•t quan tr·ªçng khi tri·ªÉn khai ·ª©ng d·ª•ng JavaScript ph√≠a server. ƒê√¢y l√† m·ªôt Dockerfile ƒë√£ ƒë∆∞·ª£c t·ªëi ∆∞u cho m·ªôt d·ª± √°n Node.js ƒëi·ªÉn h√¨nh: C√°ch 2, s·ª≠ d·ª•ng pm2. V·ªÅ c∆° b·∫£n th√¨ c√°ch n√†y nh·∫π h∆°n kha kh√° so v·ªõi npm",{"id":680,"title":681,"titles":682,"content":683,"level":229},"/blog/common-docker-file#dockerfile-reactjs","Dockerfile ReactJs",[671],"C√≥ th·ªÉ s·ª≠ d·ª•ng Dockerfile n√†y cho c√°c d·ª± √°n nh∆∞ Vue, Angular,... L∆∞u √Ω: ·ªü ƒë√¢y th∆∞ m·ª•c ch·ª©a nginx/nginx.conf ƒë·∫∑t c√πng c·∫•p v·ªõi Dockerfile",{"id":685,"title":686,"titles":687,"content":688,"level":229},"/blog/common-docker-file#dockerfile-cho-php-v·ªõi-laravel","Dockerfile cho PHP v·ªõi Laravel",[671],"L∆∞u √Ω: th∆∞ m·ª•c conf/nginx.conf v√† conf/supervisord.conf c√πng c·∫•p v·ªõi Dockerfile",{"id":690,"title":691,"titles":692,"content":497,"level":229},"/blog/common-docker-file#dockerfile-cho-nextjs","Dockerfile cho NextJs",[671],{"id":694,"title":695,"titles":696,"content":697,"level":229},"/blog/common-docker-file#tham-kh·∫£o","Tham kh·∫£o",[671],"M·ªôt s·ªë Dockerfile ƒë∆∞·ª£c tham kh·∫£o t·ª´ Devops Edu",{"id":699,"title":700,"titles":701,"content":702,"level":518},"/blog/jwt","JWT l√† g√¨? C√°ch ho·∫°t ƒë·ªông v√† ·ª©ng d·ª•ng th·ª±c t·∫ø",[],"JWT (JSON Web Token) l√† g√¨? C√°ch JWT ho·∫°t ƒë·ªông, c·∫•u tr√∫c g·ªìm Header, Payload, Signature v√† c√°ch ·ª©ng d·ª•ng trong x√°c th·ª±c b·∫£o m·∫≠t.",{"id":704,"title":705,"titles":706,"content":707,"level":518},"/blog/jwt#_1-gi·ªõi-thi·ªáu-v·ªÅ-jwt","1. Gi·ªõi thi·ªáu v·ªÅ JWT",[],"JSON Web Token (JWT) l√† m·ªôt ti√™u chu·∫©n m·ªü ( RFC 7519 ) ƒë·ªãnh nghƒ©a m·ªôt c√°ch th·ª©c nh·ªè g·ªçn v√† ƒë·ªôc l·∫≠p ƒë·ªÉ truy·ªÅn th√¥ng tin an to√†n gi·ªØa c√°c b√™n d∆∞·ªõi d·∫°ng ƒë·ªëi t∆∞·ª£ng JSON. Th√¥ng tin n√†y c√≥ th·ªÉ ƒë∆∞·ª£c x√°c minh v√† tin c·∫≠y v√¨ n√≥ ƒë∆∞·ª£c k√Ω k·ªπ thu·∫≠t s·ªë. JWT c√≥ th·ªÉ ƒë∆∞·ª£c k√Ω b·∫±ng m·ªôt b√≠ m·∫≠t (v·ªõi thu·∫≠t to√°n HMAC ) ho·∫∑c m·ªôt c·∫∑p kh√≥a c√¥ng khai/ri√™ng t∆∞ b·∫±ng RSA ho·∫∑c ECDSA . Tr√≠ch t·ª´: https://jwt.io/introduction",{"id":709,"title":710,"titles":711,"content":712,"level":518},"/blog/jwt#_2-c√°c-th√†nh-ph·∫ßn-c·ªßa-jwt","2. C√°c th√†nh ph·∫ßn c·ªßa JWT",[],"JWT bao g·ªìm ba th√†nh ph·∫ßn ch√≠nh: Header, Payload v√† Signature. M·ªói ph·∫ßn ƒë·ªÅu ƒë∆∞·ª£c m√£ h√≥a b·∫±ng Base64Url v√† ƒë∆∞·ª£c ph√¢n t√°ch b·∫±ng d·∫•u ch·∫•m (.).\nM·ªôt JWT token th∆∞·ªùng s·∫Ω tr√¥ng nh∆∞ sau: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c nh∆∞ v·∫≠y v·ªõi JWT token ·ªü tr√™n th√¨ c√°c th√†nh ph·∫ßn sau khi ƒë∆∞·ª£c m√£ h√≥a s·∫Ω l√†: Header: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9Payload: eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQSignature: SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c Chi ti·∫øt v·ªÅ c√°c th√†nh ph·∫ßn Header: Th∆∞·ªùng s·∫Ω ch·ª©a th√¥ng tin v·ªÅ thu·∫≠t to√°n m√£ h√≥a v√† lo·∫°i token. V√≠ d·ª•: Payload: ƒê√¢y l√† ph·∫ßn s·∫Ω ch·ª©a c√°c th√¥ng tin m√† ch√∫ng ta mu·ªën m√£ h√≥a v√† truy·ªÅn t·∫£i. Th∆∞·ªùng th√¨ ch√∫ng ta s·∫Ω l∆∞u th√¥ng tin ng∆∞·ªùi d√πng, user_id,... L∆∞u √Ω r·∫±ng JWT token kh√¥ng c√≥ h·∫øt h·∫°n, tuy nhi√™n ch√∫ng ta c√≥ th·ªÉ gi·ªõi h·∫°n th·ªùi gian s·ªëng c·ªßa token b·∫±ng c√°ch th√™m c√°c tr∆∞·ªùng nh∆∞ exp, nbf, iat v√†o payload. V√† khi ch√∫ng ta x√°c th·ª±c token ch√∫ng ta s·∫Ω c·∫ßn th√™m m·ªôt b∆∞·ªõc ki·ªÉm tra th·ªùi gian s·ªëng c·ªßa token. Nh∆∞ v·∫≠y ch√∫ng ta c√≥ th·ªÉ s·ª≠ d·ª•ng JWT token nh∆∞ m·ªôt session token. V√≠ d·ª• v·ªÅ payload: Signature: ƒê∆∞·ª£c t·∫°o b·∫±ng c√°ch m√£ h√≥a Header v√† Payload v·ªõi m·ªôt kh√≥a b√≠ m·∫≠t v√† thu·∫≠t to√°n ƒë√£ ch·ªâ ƒë·ªãnh trong Header. ƒêi·ªÅu n√†y gi√∫p ƒë·∫£m b·∫£o r·∫±ng token kh√¥ng b·ªã thay ƒë·ªïi trong qu√° tr√¨nh truy·ªÅn t·∫£i. V√≠ d·ª•:",{"id":714,"title":715,"titles":716,"content":717,"level":518},"/blog/jwt#_3-vi·∫øt-l·∫°i-h√†m-ƒë·ªÉ-generate-jwt-token-v√†-verify-jwt-token-trong-nodejs","3. Vi·∫øt l·∫°i h√†m ƒë·ªÉ generate JWT token v√† verify JWT token trong NodeJs",[],"Khi l√†m vi·ªác v·ªõi jwt v√† nodeJs, h·∫ßu h·∫øt m·ªçi ng∆∞·ªùi s·∫Ω s·ª≠ d·ª•ng th∆∞ vi·ªán jsonwebtoken ƒë·ªÉ t·∫°o v√† x√°c th·ª±c JWT token. Tuy nhi√™n, ƒë·ªÉ hi·ªÉu r√µ h∆°n v·ªÅ c√°ch ho·∫°t ƒë·ªông c·ªßa JWT, ch√∫ng ta c√≥ th·ªÉ t·ª± vi·∫øt h√†m ƒë·ªÉ t·∫°o v√† x√°c th·ª±c JWT token. Gi·∫£ s·ª≠ ch√∫ng ta mu·ªën t·∫°o JWT token t·ª´ th√¥ng tin user_id=123, khi ƒë√≥ ph·∫ßn payload s·∫Ω l√†: ·ªû ph·∫ßn header, ch√∫ng ta s·∫Ω s·ª≠ d·ª•ng thu·∫≠t to√°n HS256 ƒë·ªÉ m√£ h√≥a JWT token. N√™n payload s·∫Ω c√≥ d·∫°ng nh∆∞ sau: ƒê·ªÉ t·∫°o JWT token, ch√∫ng ta c·∫ßn m√£ h√≥a Header v√† Payload b·∫±ng Base64Url. Sau ƒë√≥, ch√∫ng ta s·∫Ω t·∫°o ch·ªØ k√Ω b·∫±ng c√°ch s·ª≠ d·ª•ng thu·∫≠t to√°n HMACSHA256 v·ªõi kh√≥a b√≠ m·∫≠t (secret key) v√† k·∫øt h·ª£p Header v√† Payload. ƒê·∫ßu ti√™n ch√∫ng ta c·∫ßn vi·∫øt 1 h√†m ƒë·ªÉ m√£ h√≥a Base64Url: ·ªû ƒë√¢y, v√¨ ch√∫ng ta s·ª≠ d·ª•ng NodeJs n√™n c√≥ th·ªÉ s·ª≠ d·ª•ng Buffer ƒë·ªÉ m√£ h√≥a Base64Url. N·∫øu b·∫°n ƒëang l√†m vi·ªác v·ªõi JavaScript tr√™n tr√¨nh duy·ªát, b·∫°n c√≥ th·ªÉ s·ª≠ d·ª•ng btoa() ƒë·ªÉ m√£ h√≥a Base64Url. Khi mu·ªën gi·∫£i m√£, b·∫°n c√≥ th·ªÉ s·ª≠ d·ª•ng atob(). H√†m n√†y l√† h√†m c√≥ s·∫µn trong tr√¨nh duy·ªát. Ti·∫øp theo, ch√∫ng ta s·∫Ω tri·ªÉn khai h√†m t·∫°o JWT token. Trong Node.js, ch√∫ng ta c√≥ th·ªÉ d·ªÖ d√†ng th·ª±c hi·ªán ƒëi·ªÅu n√†y b·∫±ng c√°ch d√πng th∆∞ vi·ªán t√≠ch h·ª£p s·∫µn l√† crypto, c·ª• th·ªÉ l√† h√†m createHmac. H√†m n√†y s·∫Ω gi√∫p ch√∫ng ta t·∫°o ra ch·ªØ k√Ω (signature) t·ª´ chu·ªói ƒë√£ m√£ h√≥a g·ªìm Header v√† Payload, k·∫øt h·ª£p v·ªõi secret key ƒë·ªÉ ƒë·∫£m b·∫£o t√≠nh to√†n v·∫πn v√† x√°c th·ª±c c·ªßa token. Full code m√£ h√≥a JWT token s·∫Ω nh∆∞ sau: Nh∆∞ v·∫≠y ch√∫ng ta ƒë√£ c√≥ h√†m createJWT ƒë·ªÉ t·∫°o JWT token. H√†m n√†y s·∫Ω nh·∫≠n v√†o 2 tham s·ªë l√† payload v√† secret. payload l√† th√¥ng tin m√† ch√∫ng ta mu·ªën m√£ h√≥a v√† truy·ªÅn t·∫£i, c√≤n secret l√† kh√≥a b√≠ m·∫≠t m√† ch√∫ng ta s·∫Ω s·ª≠ d·ª•ng ƒë·ªÉ t·∫°o ch·ªØ k√Ω cho token. ƒê·ªëi v·ªõi JWT token, ch√∫ng ta c√≥ th·ªÉ s·ª≠ d·ª•ng b·∫•t k·ª≥ chu·ªói n√†o l√†m kh√≥a b√≠ m·∫≠t. Tuy nhi√™n, ƒë·ªÉ ƒë·∫£m b·∫£o t√≠nh b·∫£o m·∫≠t, ch√∫ng ta n√™n s·ª≠ d·ª•ng m·ªôt chu·ªói ng·∫´u nhi√™n v√† ƒë·ªß d√†i. V√¨ khi s·ª≠ d·ª•ng thu·∫≠t to√°n HMACSHA256, n·∫øu k·∫ª t·∫•n c√¥ng bi·∫øt ƒë∆∞·ª£c kh√≥a b√≠ m·∫≠t, h·ªç c√≥ th·ªÉ t·∫°o ra token gi·∫£ m·∫°o v√† truy c·∫≠p v√†o h·ªá th·ªëng c·ªßa b·∫°n. C√≥ th·ªÉ s·ª≠ d·ª•ng trang web randomkeygen.com ƒë·ªÉ t·∫°o ra m·ªôt chu·ªói ng·∫´u nhi√™n v√† ƒë·ªß d√†i l√†m kh√≥a b√≠ m·∫≠t.",{"id":719,"title":720,"titles":721,"content":722,"level":518},"/blog/jwt#_4-x√°c-th·ª±c-jwt-token","4. X√°c th·ª±c JWT token",[],"Token JWT g·ªìm ba ph·∫ßn: Header, Payload v√† Signature, ƒë∆∞·ª£c n·ªëi v·ªõi nhau b·∫±ng d·∫•u ch·∫•m (.). Qu√° tr√¨nh x√°c th·ª±c di·ªÖn ra nh∆∞ sau: T√°ch token th√†nh ba ph·∫ßn: Header, Payload v√† Signature.T·∫°o l·∫°i ch·ªØ k√Ω b·∫±ng c√°ch k·∫øt h·ª£p Header v√† Payload ƒë√£ m√£ h√≥a b·∫±ng Base64Url, sau ƒë√≥ s·ª≠ d·ª•ng c√πng thu·∫≠t to√°n v√† kh√≥a b√≠ m·∫≠t (secret key) ƒë√£ ƒë∆∞·ª£c d√πng khi t·∫°o token ban ƒë·∫ßu.So s√°nh ch·ªØ k√Ω m·ªõi t·∫°o v·ªõi ch·ªØ k√Ω ban ƒë·∫ßu trong token:\nN·∫øu hai ch·ªØ k√Ω gi·ªëng nhau, token ƒë∆∞·ª£c x√°c nh·∫≠n l√† h·ª£p l·ªá (kh√¥ng b·ªã ch·ªânh s·ª≠a).N·∫øu kh√°c nhau, token ƒë√£ b·ªã thay ƒë·ªïi ho·∫∑c kh√¥ng h·ª£p l·ªá. Ngo√†i ra, ƒë·ªÉ ki·ªÉm tra xem token c√≥ h·∫øt h·∫°n hay ch∆∞a, b·∫°n c√≥ th·ªÉ th√™m tr∆∞·ªùng exp (expiration) v√†o Payload. Tr∆∞·ªùng n√†y l∆∞u th·ªùi gian h·∫øt h·∫°n d∆∞·ªõi d·∫°ng timestamp (s·ªë gi√¢y k·ªÉ t·ª´ ng√†y 1/1/1970). Khi x√°c th·ª±c, ch·ªâ c·∫ßn so s√°nh gi√° tr·ªã exp v·ªõi th·ªùi gian hi·ªán t·∫°i ƒë·ªÉ bi·∫øt token c√≤n hi·ªáu l·ª±c hay kh√¥ng.",{"id":724,"title":725,"titles":726,"content":727,"level":518},"/blog/jwt#_5-k·∫øt-lu·∫≠n","5. K·∫øt lu·∫≠n",[],"JWT l√† m·ªôt c√¥ng c·ª• m·∫°nh m·∫Ω ƒë·ªÉ x√°c th·ª±c v√† ph√¢n quy·ªÅn trong c√°c ·ª©ng d·ª•ng web. B·∫±ng c√°ch hi·ªÉu r√µ c√°ch ho·∫°t ƒë·ªông c·ªßa JWT, b·∫°n c√≥ th·ªÉ t·ª± t·∫°o v√† x√°c th·ª±c JWT token m√† kh√¥ng c·∫ßn ph·ª• thu·ªôc v√†o th∆∞ vi·ªán b√™n ngo√†i. Tuy nhi√™n, trong th·ª±c t·∫ø, b·∫°n n√™n s·ª≠ d·ª•ng th∆∞ vi·ªán jsonwebtoken ƒë·ªÉ ti·∫øt ki·ªám th·ªùi gian v√† c√¥ng s·ª©c. Hy v·ªçng b√†i vi·∫øt n√†y ƒë√£ gi√∫p b·∫°n hi·ªÉu r√µ h∆°n v·ªÅ JWT v√† c√°ch s·ª≠ d·ª•ng n√≥ trong ·ª©ng d·ª•ng c·ªßa m√¨nh. N·∫øu b·∫°n c√≥ b·∫•t k·ª≥ c√¢u h·ªèi n√†o, h√£y li√™n h·ªá v·ªõi m√¨nh qua c√°c k√™nh li√™n l·∫°c nh∆∞ email, facebook, zalo ho·∫∑c telegram nh√©!",{"id":729,"title":730,"titles":731,"content":732,"level":518},"/blog/jwt#_6-t√†i-li·ªáu-tham-kh·∫£o","6. T√†i li·ªáu tham kh·∫£o",[],"jwt.ioRFC 7519 - JSON Web Token (JWT)jsonwebtoken",{"id":734,"title":735,"titles":736,"content":737,"level":518},"/blog/use-effect-and-use-layout-effect","Ph√¢n bi·ªát useEffect v√† useLayoutEffect trong React",[],"T√¨m hi·ªÉu ƒëi·ªÉm kh√°c nhau gi·ªØa useEffect v√† useLayoutEffect trong React, gi√∫p b·∫°n s·ª≠ d·ª•ng ƒë√∫ng hook trong t·ª´ng t√¨nh hu·ªëng c·ª• th·ªÉ ƒë·ªÉ t·ªëi ∆∞u hi·ªáu nƒÉng v√† tr·∫£i nghi·ªám ng∆∞·ªùi d√πng.",{"id":739,"title":740,"titles":741,"content":742,"level":518},"/blog/use-effect-and-use-layout-effect#useeffect-v√†-uselayouteffect-trong-react","useEffect v√† useLayoutEffect trong React",[],"React cung c·∫•p hai hook m·∫°nh m·∫Ω ƒë·ªÉ x·ª≠ l√Ω hi·ªáu ·ª©ng ph·ª•: useEffect v√† useLayoutEffect. Tuy ch√∫ng c√≥ c√∫ ph√°p gi·ªëng nhau, nh∆∞ng c√°ch ch√∫ng ho·∫°t ƒë·ªông kh√°c bi·ªát v√† ·∫£nh h∆∞·ªüng tr·ª±c ti·∫øp ƒë·∫øn tr·∫£i nghi·ªám ng∆∞·ªùi d√πng c≈©ng nh∆∞ hi·ªáu su·∫•t c·ªßa ·ª©ng d·ª•ng.",{"id":744,"title":745,"titles":746,"content":497,"level":229},"/blog/use-effect-and-use-layout-effect#t√≥m-t·∫Øt-quy-tr√¨nh-th·ª±c-thi","T√≥m t·∫Øt quy tr√¨nh th·ª±c thi",[740],{"id":748,"title":749,"titles":750,"content":751,"level":752},"/blog/use-effect-and-use-layout-effect#useeffect","useEffect",[740,745],"Ch·∫°y sau khi React c·∫≠p nh·∫≠t DOM xong v√† render UI xong.Th√≠ch h·ª£p cho c√°c t√°c v·ª• kh√¥ng ·∫£nh h∆∞·ªüng tr·ª±c ti·∫øp ƒë·∫øn layout, nh∆∞ g·ªçi API, ƒëƒÉng k√Ω s·ª± ki·ªán, log, animation nh·∫π‚Ä¶ Quy tr√¨nh: C·∫≠p nh·∫≠t l·∫°i stateC·∫≠p nh·∫≠t DOM (mutated)React render l·∫°i UIClean up n·∫øu c√≥G·ªçi useEffect callback",3,{"id":754,"title":755,"titles":756,"content":757,"level":752},"/blog/use-effect-and-use-layout-effect#uselayouteffect","useLayoutEffect",[740,745],"Ch·∫°y ngay sau khi DOM ƒë∆∞·ª£c c·∫≠p nh·∫≠t, nh∆∞ng tr∆∞·ªõc khi browser v·∫Ω l·∫°i giao di·ªán (paint).D√πng khi b·∫°n c·∫ßn ƒëo l∆∞·ªùng DOM, thay ƒë·ªïi layout ho·∫∑c ngƒÉn nh·∫•p nh√°y giao di·ªán. Quy tr√¨nh: C·∫≠p nh·∫≠t l·∫°i stateC·∫≠p nh·∫≠t DOM (mutated)Clean up n·∫øu dependencies thay ƒë·ªïiG·ªçi useLayoutEffect callbackReact render l·∫°i UI Khi n√†o d√πng c√°i n√†o? T√¨nh hu·ªëngN√™n d√πngG·ªçi API, thao t√°c kh√¥ng ·∫£nh h∆∞·ªüng layoutuseEffectƒêo k√≠ch th∆∞·ªõc DOM, scroll, positionuseLayoutEffectC·∫≠p nh·∫≠t class, focus v√†o inputuseLayoutEffectHi·ªáu ·ª©ng animation nh·∫π sau renderuseEffectNgƒÉn nh√°y layout (flicker) khi hi·ªÉn th·ªã componentsuseLayoutEffectC·∫≠p nh·∫≠t DOM tr∆∞·ªõc khi browser v·∫Ω l·∫°iuseLayoutEffect",{"id":759,"title":760,"titles":761,"content":762,"level":518},"/blog/useful-npm-package","T·ªïng h·ª£p c√°c npm package h·ªØu √≠ch cho Frontend v√† Backend",[],"Danh s√°ch c√°c npm package h·ªØu √≠ch cho l·∫≠p tr√¨nh Frontend v√† Backend, ƒë∆∞·ª£c t·ªïng h·ª£p t·ª´ kinh nghi·ªám th·ª±c t·∫ø v√† c√°c chia s·∫ª trong c·ªông ƒë·ªìng.",{"id":764,"title":765,"titles":766,"content":767,"level":518},"/blog/useful-npm-package#frontend","Frontend",[],"react-query - React Query Th∆∞ vi·ªán qu·∫£n l√Ω tr·∫°ng th√°i cho React, gi√∫p x·ª≠ l√Ω c√°c y√™u c·∫ßu API v√† cache d·ªØ li·ªáu m·ªôt c√°ch d·ªÖ d√†ng.@progress/kendo-react-pdf - Th∆∞ vi·ªán t·∫°o PDF cho React, hay h∆°n c√°c th∆∞ vi·ªán kh√°c ·ªü ch·ªó h√¨nh ·∫£nh s·∫Ω ƒë∆∞·ª£c xu·∫•t ra d∆∞·ªõi ƒë·ªãnh d·∫°ng SVG, gi√∫p cho vi·ªác xu·∫•t ·∫£nh ch·∫•t l∆∞·ª£ng cao v√† n√©t h∆°n, kh√¥ng b·ªã v·ª° ·∫£nh khi zoom in.react-split-pane - Th∆∞ vi·ªán t·∫°o giao di·ªán chia t√°ch (split view) cho React, gi√∫p d·ªÖ d√†ng t·∫°o c√°c layout v·ªõi c√°c ph·∫ßn t·ª≠ c√≥ th·ªÉ k√©o v√† th·∫£.react-window - Th∆∞ vi·ªán gi√∫p t·ªëi ∆∞u h√≥a hi·ªáu su·∫•t cho b·∫£ng v√† danh s√°ch l·ªõn trong React b·∫±ng c√°ch ch·ªâ render c√°c ph·∫ßn t·ª≠ ƒëang hi·ªÉn th·ªã tr√™n UI nh·∫π v√† d·ªÖ s·ª≠ d·ª•ng.",{"id":769,"title":770,"titles":771,"content":772,"level":518},"/blog/useful-npm-package#backend","Backend",[],"Updating...",{"id":774,"title":775,"titles":776,"content":777,"level":518},"/blog/useful-npm-package#c√°c-ƒëo·∫°n-code-m·∫´u-h·ªØu-d·ª•ng","C√°c ƒëo·∫°n code m·∫´u h·ªØu d·ª•ng",[],"Code template cho custom send and listen event document",{"id":779,"title":780,"titles":781,"content":782,"level":518},"/blog/useful-script","T·ªïng h·ª£p c√°c scripts h·ªØu √≠ch",[],"Danh s√°ch c√°c scripts h·ªØu √≠ch cho l·∫≠p tr√¨nh vi√™n, gi√∫p ti·∫øt ki·ªám th·ªùi gian v√† c√¥ng s·ª©c trong qu√° tr√¨nh ph√°t tri·ªÉn ph·∫ßn m·ªÅm.",{"id":784,"title":785,"titles":786,"content":787,"level":518},"/blog/useful-script#n√©n-·∫£nh-v√†-convert-·∫£nh-sang-ƒë·ªãnh-d·∫°ng-webp","N√©n ·∫£nh v√† convert ·∫£nh sang ƒë·ªãnh d·∫°ng webp",[],"C√†i ƒë·∫∑t cwebp ƒê·ªëi v·ªõi window th√¨ c√≥ th·ªÉ xem h∆∞·ªõng d·∫´n t·∫°i: https://developers.google.com/speed/webp/download?hl=vi Script n√©n ·∫£nh Sau khi t·∫°o xong file, c·∫ßn ph·∫£i g√°n quy·ªÅn th·ª±c thi cho file script b·∫±ng l·ªánh sau: Sau ƒë√≥ c√≥ th·ªÉ ch·∫°y script ƒë·ªÉ c√≥ th·ªÉ th·ª±c hi·ªán n√©n ·∫£nh v√† chuy·ªÉn ƒë·ªïi sang ƒë·ªãnh d·∫°ng webp.",{"id":789,"title":790,"titles":791,"content":497,"level":229},"/blog/useful-script#ƒëang-c·∫≠p-nh·∫≠t","ƒêang c·∫≠p nh·∫≠t...",[785],[],[794,953,1283,1473,1579,1895,2087,2152],{"id":795,"title":515,"body":796,"date":499,"description":944,"extension":501,"image":945,"keywords":946,"meta":947,"navigation":505,"path":514,"published":505,"seo":948,"stem":949,"tags":950,"__hash__":952},"blog/blog/ansible.md",{"type":7,"value":797,"toc":942},[798,803,806,808,811,814,817,820,823,825,828,831,834,844,846,849,851,854,856,859,865,872,875,882,885,887,890,893,896,901,904,906,908,931,933,935,939],[10,799,800],{},[13,801,802],{},"H∆∞·ªõng d·∫´n chi ti·∫øt v·ªÅ c√†i ƒë·∫∑t v√† tri·ªÉn khai Ansible",[10,804,805],{},"Ansible l√† m·ªôt c√¥ng c·ª• t·ª± ƒë·ªông h√≥a m·∫°nh m·∫Ω, gi√∫p qu·∫£n l√Ω c·∫•u h√¨nh, tri·ªÉn khai ·ª©ng d·ª•ng v√† ƒëi·ªÅu ph·ªëi h·ªá th·ªëng m·ªôt c√°ch d·ªÖ d√†ng. Trong b√†i vi·∫øt n√†y, ch√∫ng ta s·∫Ω t√¨m hi·ªÉu c√°ch c√†i ƒë·∫∑t, c·∫•u h√¨nh v√† s·ª≠ d·ª•ng Ansible th√¥ng qua c√°c v√≠ d·ª• th·ª±c t·∫ø.",[30,807],{},[33,809,521],{"id":810},"Ô∏è-c√†i-ƒë·∫∑t-ansible",[10,812,813],{},"H∆∞·ªõng d·∫´n c√†i ƒë·∫∑t Ansible tr√™n Ubuntu:",[41,815],{":files":816},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"sudo apt update -y\\nsudo apt install software-properties-common -y\\nsudo apt-add-repository --yes --update ppa:ansible/ansible\\nsudo apt install ansible -y\\n\"}]",[10,818,819],{},"Sau khi c√†i ƒë·∫∑t, b·∫°n c√≥ th·ªÉ ki·ªÉm tra phi√™n b·∫£n Ansible:",[41,821],{":files":822},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"ansible --version\"}]",[30,824],{},[33,826,526],{"id":827},"c·∫•u-h√¨nh-ssh",[10,829,830],{},"ƒê·ªÉ Ansible c√≥ th·ªÉ k·∫øt n·ªëi ƒë·∫øn c√°c m√°y ch·ªß t·ª´ xa, b·∫°n c·∫ßn c·∫•u h√¨nh SSH. D∆∞·ªõi ƒë√¢y l√† c√°ch sao ch√©p SSH key ƒë·∫øn m√°y ch·ªß kh√°c:",[41,832],{":files":833},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"ssh-copy-id -i ~/.ssh/id_rsa.pub vinhtieng@123.3123.12\"}]",[10,835,836,839,840,843],{},[13,837,838],{},"L∆∞u √Ω:"," Thay ",[87,841,842],{},"vinhtieng@123.3123.12"," b·∫±ng t√™n ng∆∞·ªùi d√πng v√† ƒë·ªãa ch·ªâ IP c·ªßa m√°y ch·ªß t·ª´ xa.",[30,845],{},[33,847,531],{"id":848},"hosts-inventory",[10,850,533],{},[41,852],{":files":853},"[{\"title\":\"inventory\",\"language\":\"ini\",\"content\":\"[webservers]\\nweb1.example.com\\nweb2.example.com\\n\\n[databases]\\ndb1.example.com\\n\\n[webservers:vars]\\nansible_user=your_ssh_user\\nansible_ssh_private_key_file=/path/to/private/key\\n\\n[webservers1]\\nweb1.example.com ansible_user=user1 ansible_ssh_private_key_file=/path/to/key1\\nweb2.example.com ansible_user=user2 ansible_ssh_private_key_file=/path/to/key2\\n\"}]",[30,855],{},[33,857,536],{"id":858},"ki·ªÉm-tra-k·∫øt-n·ªëi-ping",[10,860,861,862,149],{},"B·∫°n c√≥ th·ªÉ ki·ªÉm tra k·∫øt n·ªëi ƒë·∫øn c√°c m√°y ch·ªß b·∫±ng l·ªánh ",[87,863,864],{},"ping",[209,866,867],{},[109,868,869],{},[13,870,871],{},"Ping v·ªõi file hosts m·∫∑c ƒë·ªãnh:",[41,873],{":files":874},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"ansible -m ping all\"}]",[209,876,877],{"start":229},[109,878,879],{},[13,880,881],{},"Ping v·ªõi file inventory t√πy ch·ªânh:",[41,883],{":files":884},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"ansible -i my_hosts all -m ping\"}]",[30,886],{},[33,888,541],{"id":889},"playbook-task-module",[10,891,892],{},"Playbook l√† n∆°i b·∫°n ƒë·ªãnh nghƒ©a c√°c t√°c v·ª• (tasks) c·∫ßn th·ª±c hi·ªán tr√™n c√°c m√°y ch·ªß. D∆∞·ªõi ƒë√¢y l√† c√°ch ch·∫°y m·ªôt playbook:",[41,894],{":files":895},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"ansible-playbook my_playbook.yml -i inventory_file\"}]",[10,897,898],{},[13,899,900],{},"V√≠ d·ª• v·ªÅ Playbook ƒë∆°n gi·∫£n:",[41,902],{":files":903},"[{\"title\":\"my_playbook.yml\",\"language\":\"yaml\",\"content\":\"---\\n- name: C√†i ƒë·∫∑t v√† kh·ªüi ƒë·ªông Apache\\n  hosts: webservers\\n  become: yes\\n  tasks:\\n    - name: C√†i ƒë·∫∑t Apache\\n      apt:\\n        name: apache2\\n        state: present\\n    - name: ƒê·∫£m b·∫£o Apache ƒëang ch·∫°y\\n      service:\\n        name: apache2\\n        state: started\\n\"}]",[30,905],{},[33,907,449],{"id":448},[106,909,910,917,924],{},[109,911,912],{},[455,913,916],{"href":914,"rel":915},"https://docs.ansible.com/",[460],"Ansible Documentation",[109,918,919],{},[455,920,923],{"href":921,"rel":922},"https://galaxy.ansible.com/",[460],"Ansible Galaxy",[109,925,926],{},[455,927,930],{"href":928,"rel":929},"https://docs.ansible.com/ansible/latest/user_guide/playbooks.html",[460],"Ansible Playbook Guide",[30,932],{},[486,934],{},[10,936,937],{},[13,938,492],{},[10,940,941],{},"Ansible l√† c√¥ng c·ª• m·∫°nh m·∫Ω gi√∫p t·ª± ƒë·ªông h√≥a c√°c t√°c v·ª• qu·∫£n tr·ªã h·ªá th·ªëng. Vi·ªác n·∫Øm v·ªØng c√°ch s·ª≠ d·ª•ng Ansible s·∫Ω gi√∫p b·∫°n ti·∫øt ki·ªám th·ªùi gian v√† gi·∫£m thi·ªÉu l·ªói trong qu√° tr√¨nh qu·∫£n l√Ω h·ªá th·ªëng.",{"title":497,"searchDepth":229,"depth":229,"links":943},[],"H∆∞·ªõng d·∫´n chi ti·∫øt v·ªÅ c√†i ƒë·∫∑t, c·∫•u h√¨nh SSH, inventory v√† s·ª≠ d·ª•ng Playbook trong Ansible.","/images/blog/ansible/banner.webp","ansible, automation, configuration management",{},{"title":515,"description":944},"blog/ansible",[951],"ansible","TDOKqPCKfBmvSL-G-wacqQdrgbcbAiBJrgMPYjtJtIc",{"id":4,"title":5,"body":954,"date":499,"description":500,"extension":501,"image":502,"keywords":503,"meta":1280,"navigation":505,"path":506,"published":505,"seo":1281,"stem":508,"tags":1282,"__hash__":511},{"type":7,"value":955,"toc":1278},[956,960,964,966,968,970,972,974,976,978,980,984,986,988,990,992,994,996,1000,1002,1008,1010,1012,1014,1024,1026,1030,1032,1034,1042,1044,1048,1070,1072,1074,1076,1078,1080,1082,1088,1096,1102,1110,1112,1120,1122,1124,1126,1128,1130,1132,1142,1144,1146,1148,1150,1152,1170,1172,1176,1178,1180,1182,1184,1186,1188,1190,1192,1194,1196,1198,1200,1202,1204,1206,1208,1210,1212,1214,1216,1218,1220,1222,1224,1226,1228,1230,1232,1234,1236,1238,1240,1242,1244,1246,1268,1270,1272,1276],[10,957,958],{},[13,959,15],{},[17,961,962],{"type":19},[10,963,22],{},[10,965,25],{},[10,967,28],{},[30,969],{},[33,971,36],{"id":35},[10,973,39],{},[41,975],{":files":43},[10,977,46],{},[41,979],{":files":49},[10,981,982,55],{},[13,983,54],{},[41,985],{":files":58},[10,987,61],{},[41,989],{":files":64},[10,991,67],{},[41,993],{":files":70},[10,995,73],{},[17,997,998],{"type":76},[10,999,79],{},[10,1001,82],{},[10,1003,85,1004,90,1006,94],{},[87,1005,89],{},[87,1007,93],{},[10,1009,97],{},[33,1011,101],{"id":100},[10,1013,104],{},[106,1015,1016,1020],{},[109,1017,1018,114],{},[87,1019,113],{},[109,1021,1022,120],{},[87,1023,119],{},[10,1025,123],{},[10,1027,1028],{},[13,1029,128],{},[10,1031,131],{},[41,1033],{":files":134},[10,1035,137,1036,141,1038,145,1040,149],{},[87,1037,140],{},[87,1039,144],{},[87,1041,148],{},[41,1043],{":files":152},[10,1045,1046],{},[13,1047,157],{},[106,1049,1050,1054,1058,1062,1066],{},[109,1051,1052,165],{},[87,1053,164],{},[109,1055,1056,171],{},[87,1057,170],{},[109,1059,1060,177],{},[87,1061,176],{},[109,1063,1064,183],{},[87,1065,182],{},[109,1067,1068,189],{},[87,1069,188],{},[10,1071,192],{},[41,1073],{":files":195},[10,1075,198],{},[41,1077],{":files":201},[10,1079,204],{},[10,1081,207],{},[209,1083,1084],{},[109,1085,1086,149],{},[87,1087,215],{},[106,1089,1090,1092,1094],{},[109,1091,220],{},[109,1093,223],{},[109,1095,226],{},[209,1097,1098],{"start":229},[109,1099,1100,149],{},[87,1101,234],{},[106,1103,1104,1106,1108],{},[109,1105,239],{},[109,1107,242],{},[109,1109,245],{},[10,1111,248],{},[106,1113,1114,1116],{},[109,1115,253],{},[109,1117,256,1118,260],{},[87,1119,259],{},[10,1121,263],{},[41,1123],{":files":266},[33,1125,270],{"id":269},[10,1127,273],{},[41,1129],{":files":276},[10,1131,279],{},[106,1133,1134,1138],{},[109,1135,1136,287],{},[87,1137,286],{},[109,1139,1140,293],{},[87,1141,292],{},[33,1143,297],{"id":296},[10,1145,300],{},[41,1147],{":files":303},[33,1149,307],{"id":306},[10,1151,310],{},[106,1153,1154,1158,1162,1166],{},[109,1155,1156,318],{},[87,1157,317],{},[109,1159,1160,324],{},[87,1161,323],{},[109,1163,1164,330],{},[87,1165,329],{},[109,1167,1168,336],{},[87,1169,335],{},[10,1171,339],{},[106,1173,1174],{},[109,1175,344],{},[41,1177],{":files":347},[10,1179,350],{},[41,1181],{":files":353},[30,1183],{},[33,1185,359],{"id":358},[10,1187,362],{},[41,1189],{":files":365},[30,1191],{},[33,1193,371],{"id":370},[10,1195,374],{},[41,1197],{":files":377},[30,1199],{},[33,1201,383],{"id":382},[10,1203,386],{},[41,1205],{":files":389},[30,1207],{},[33,1209,395],{"id":394},[10,1211,398],{},[41,1213],{":files":401},[10,1215,404],{},[41,1217],{":files":407},[30,1219],{},[33,1221,413],{"id":412},[10,1223,416],{},[41,1225],{":files":419},[10,1227,422],{},[41,1229],{":files":425},[10,1231,428],{},[41,1233],{":files":431},[30,1235],{},[33,1237,437],{"id":436},[10,1239,440],{},[41,1241],{":files":443},[30,1243],{},[33,1245,449],{"id":448},[106,1247,1248,1253,1258,1263],{},[109,1249,1250],{},[455,1251,461],{":target":457,"href":458,"rel":1252},[460],[109,1254,1255],{},[455,1256,468],{":target":457,"href":466,"rel":1257},[460],[109,1259,1260],{},[455,1261,475],{":target":457,"href":473,"rel":1262},[460],[109,1264,1265],{},[455,1266,482],{":target":457,"href":480,"rel":1267},[460],[30,1269],{},[486,1271],{},[10,1273,1274],{},[13,1275,492],{},[10,1277,495],{},{"title":497,"searchDepth":229,"depth":229,"links":1279},[],{},{"title":5,"description":500},[510],{"id":1284,"title":596,"body":1285,"date":499,"description":1464,"extension":501,"image":1465,"keywords":1466,"meta":1467,"navigation":505,"path":595,"published":505,"seo":1468,"stem":1469,"tags":1470,"__hash__":1472},"blog/blog/basic-redis.md",{"type":7,"value":1286,"toc":1450},[1287,1291,1294,1297,1308,1310,1313,1315,1319,1321,1324,1327,1329,1332,1335,1337,1340,1343,1345,1348,1351,1353,1356,1359,1362,1365,1368,1371,1374,1377,1380,1382,1385,1388,1390,1393,1396,1403,1406,1409,1411,1414,1417,1419,1422,1425,1428,1433,1436],[10,1288,1289],{},[13,1290,596],{},[10,1292,1293],{},"Redis l√† m·ªôt kho d·ªØ li·ªáu key-value trong b·ªô nh·ªõ, m√£ ngu·ªìn m·ªü, n·ªïi ti·∫øng v·ªõi hi·ªáu su·∫•t v√† t√≠nh linh ho·∫°t. Redis h·ªó tr·ª£ nhi·ªÅu ki·ªÉu d·ªØ li·ªáu, ph√π h·ª£p cho vi·ªác s·ª≠ d·ª•ng b·ªô nh·ªõ ƒë·ªám, ·ª©ng d·ª•ng th·ªùi gian th·ª±c, h·ªá th·ªëng pub/sub, v√† nhi·ªÅu h∆°n n·ªØa.",[10,1295,1296],{},"Trong h∆∞·ªõng d·∫´n n√†y, ch√∫ng ta s·∫Ω t√¨m hi·ªÉu:",[106,1298,1299,1302,1305],{},[109,1300,1301],{},"C√°c ki·ªÉu d·ªØ li·ªáu trong Redis",[109,1303,1304],{},"C√°c l·ªánh ph·ªï bi·∫øn c·ªßa Redis",[109,1306,1307],{},"C√°ch t√≠ch h·ª£p Redis v√†o d·ª± √°n Node.js",[30,1309],{},[33,1311,601],{"id":1312},"c√°c-ki·ªÉu-d·ªØ-li·ªáu-l·ªánh-redis",[10,1314,603],{},[1316,1317,606],"h2",{"id":1318},"_1-chu·ªói-strings",[10,1320,608],{},[41,1322],{":files":1323},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"SET name \\\"Jay\\\"\\nGET name\\nINCR counter\\n\"}]",[1316,1325,611],{"id":1326},"_2-danh-s√°ch-lists",[10,1328,613],{},[41,1330],{":files":1331},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"LPUSH mylist \\\"apple\\\"\\nRPUSH mylist \\\"banana\\\"\\nLRANGE mylist 0 -1\\n\"}]",[1316,1333,616],{"id":1334},"_3-t·∫≠p-h·ª£p-sets",[10,1336,618],{},[41,1338],{":files":1339},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"SADD myset \\\"apple\\\"\\nSADD myset \\\"banana\\\"\\nSADD myset \\\"apple\\\" # Tr√πng l·∫∑p, s·∫Ω kh√¥ng ƒë∆∞·ª£c th√™m\\nSMEMBERS myset\\n\"}]",[1316,1341,621],{"id":1342},"_4-bƒÉm-hashes",[10,1344,623],{},[41,1346],{":files":1347},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"HSET user:1000 name \\\"Jay\\\" age 30\\nHGETALL user:1000\\n\"}]",[1316,1349,626],{"id":1350},"_5-t·∫≠p-h·ª£p-c√≥-th·ª©-t·ª±-sorted-sets",[10,1352,628],{},[41,1354],{":files":1355},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"ZADD mysortedset 1 \\\"apple\\\"\\nZADD mysortedset 2 \\\"banana\\\"\\nZRANGE mysortedset 0 -1\\n\"}]",[1316,1357,631],{"id":1358},"_6-bitmaps-hyperloglogs-streams",[10,1360,1361],{},"ƒê√¢y l√† c√°c c·∫•u tr√∫c n√¢ng cao h∆°n:\nBitmaps ƒë∆∞·ª£c s·ª≠ d·ª•ng cho c√°c thao t√°c c·∫•p bit, cho ph√©p b·∫°n thao t√°c c√°c bit ri√™ng l·∫ª trong m·ªôt chu·ªói.",[41,1363],{":files":1364},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"SETBIT mybitmap 0 1\\nSETBIT mybitmap 1 1\\nBITCOUNT mybitmap\\n\"}]",[10,1366,1367],{},"HyperLogLogs ƒë∆∞·ª£c s·ª≠ d·ª•ng ƒë·ªÉ ∆∞·ªõc t√≠nh s·ªë l∆∞·ª£ng ph·∫ßn t·ª≠ duy nh·∫•t trong m·ªôt t·∫≠p h·ª£p, r·∫•t h·ªØu √≠ch cho c√°c tr∆∞·ªùng h·ª£p nh∆∞ theo d√µi s·ªë l∆∞·ª£ng kh√°ch truy c·∫≠p duy nh·∫•t.",[41,1369],{":files":1370},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"PFADD myhll \\\"apple\\\" \\\"banana\\\" \\\"orange\\\"\\nPFCOUNT myhll\\n\"}]",[10,1372,1373],{},"Streams ƒë∆∞·ª£c thi·∫øt k·∫ø cho c√°c ƒë∆∞·ªùng d·∫´n d·ªØ li·ªáu th·ªùi gian th·ª±c v√† ngu·ªìn s·ª± ki·ªán, cho ph√©p b·∫°n th√™m v√† truy v·∫•n d·ªØ li·ªáu theo chu·ªói th·ªùi gian.",[41,1375],{":files":1376},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"XADD mystream * name \\\"Jay\\\" age 30\\nXRANGE mystream - +\\n\"}]",[33,1378,636],{"id":1379},"t√≠ch-h·ª£p-redis-v·ªõi-nodejs",[10,1381,638],{},[1316,1383,641],{"id":1384},"_1-c√†i-ƒë·∫∑t-redis-v√†-ioredis",[41,1386],{":files":1387},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"npm install ioredis\\n# ho·∫∑c\\nyarn add ioredis\\n\"}]",[10,1389,643],{},[41,1391],{":files":1392},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"docker run -d -p 6379:6379 redis\\n\"}]",[1316,1394,646],{"id":1395},"_2-thi·∫øt-l·∫≠p-c∆°-b·∫£n",[10,1397,1398,1399,1402],{},"T·∫°o m·ªôt t·ªáp c√≥ t√™n ",[87,1400,1401],{},"redis.js"," v√† th√™m ƒëo·∫°n m√£ sau:",[41,1404],{":files":1405},"[{\"title\":\"redis.js\",\"language\":\"javascript\",\"content\":\"// redis.ts\\nimport Redis from 'ioredis';\\n\\nconst redis = new Redis({\\n  host: '127.0.0.1',\\n  port: 6379,\\n  // password: 'm·∫≠t_kh·∫©u_n·∫øu_c√≥'\\n});\\n\\nexport default redis;\\n\"}]",[1316,1407,651],{"id":1408},"_3-s·ª≠-d·ª•ng-redis-trong-·ª©ng-d·ª•ng",[10,1410,653],{},[41,1412],{":files":1413},"[{\"title\":\"example.js\",\"language\":\"javascript\",\"content\":\"// example.ts\\nimport redis from './redis';\\n\\n// Chu·ªói\\nawait redis.set('greeting', 'Hello Redis');\\nconst greeting = await redis.get('greeting');\\nconsole.log(greeting); // Hello Redis\\n\\n// Danh s√°ch\\nawait redis.lpush('queue', 'task1');\\nconst task = await redis.rpop('queue');\\nconsole.log(task); // task1\\n\\n// BƒÉm\\nawait redis.hset('user:1', { name: 'Jay', role: 'admin' });\\nconst user = await redis.hgetall('user:1');\\nconsole.log(user); // { name: 'Jay', role: 'admin' }\\n\\n// T·∫≠p h·ª£p c√≥ th·ª© t·ª±\\nawait redis.zadd('scores', 100, 'Jay');\\nconst scores = await redis.zrange('scores', 0, -1, 'WITHSCORES');\\nconsole.log(scores);\\n\\n// Pub/Sub\\nredis.subscribe('news');\\nredis.on('message', (channel, message) => {\\n  console.log(`Nh·∫≠n tin nh·∫Øn t·ª´ ${channel}: ${message}`);\\n});\\n\\nconst publisher = new Redis();\\npublisher.publish('news', 'Tin n√≥ng!');\\n\"}]",[1316,1415,656],{"id":1416},"_4-v√≠-d·ª•-v·ªÅ-b·ªô-nh·ªõ-ƒë·ªám",[10,1418,658],{},[41,1420],{":files":1421},"[{\"title\":\"cache.js\",\"language\":\"javascript\",\"content\":\"import redis from './redis';\\n\\nasync function getUserData(userId) {\\n  const cacheKey = `user:${userId}`;\\n  const cachedData = await redis.get(cacheKey);\\n\\n  if (cachedData) {\\n    return JSON.parse(cachedData);\\n  }\\n\\n  // M√¥ ph·ªèng truy v·∫•n c∆° s·ªü d·ªØ li·ªáu\\n  const userData = await queryDatabase(userId);\\n  await redis.set(cacheKey, JSON.stringify(userData), 'EX', 3600); // L∆∞u v√†o b·ªô nh·ªõ ƒë·ªám trong 1 gi·ªù\\n  return userData;\\n}\\n\\nasync function queryDatabase(userId) {\\n  // M√¥ ph·ªèng truy v·∫•n c∆° s·ªü d·ªØ li·ªáu\\n  return { id: userId, name: 'Jay', age: 30 };\\n}\\n\"}]",[1316,1423,661],{"id":1424},"_5-k·∫øt-lu·∫≠n",[10,1426,1427],{},"Redis l√† m·ªôt c√¥ng c·ª• m·∫°nh m·∫Ω cho b·ªô nh·ªõ ƒë·ªám v√† c√°c ·ª©ng d·ª•ng th·ªùi gian th·ª±c. B·∫±ng c√°ch t√≠ch h·ª£p Redis v√†o c√°c d·ª± √°n Node.js, b·∫°n c√≥ th·ªÉ c·∫£i thi·ªán ƒë√°ng k·ªÉ hi·ªáu su·∫•t v√† kh·∫£ nƒÉng m·ªü r·ªông. H∆∞·ªõng d·∫´n n√†y ƒë√£ bao qu√°t c√°c kh√°i ni·ªám c∆° b·∫£n v·ªÅ ki·ªÉu d·ªØ li·ªáu, l·ªánh, v√† c√°ch s·ª≠ d·ª•ng Redis trong ·ª©ng d·ª•ng Node.js.\nH√£y kh√°m ph√° th√™m c√°c t√≠nh nƒÉng n√¢ng cao nh∆∞ giao d·ªãch, scripting Lua, v√† clustering khi b·∫°n ƒë√£ quen thu·ªôc h∆°n v·ªõi Redis.\nRedis l√† m·ªôt c√¥ng c·ª• ƒëa nƒÉng c√≥ th·ªÉ n√¢ng cao ƒë√°ng k·ªÉ ·ª©ng d·ª•ng c·ªßa b·∫°n.",[10,1429,1430],{},[13,1431,1432],{},"Happy Coding",[1316,1434,666],{"id":1435},"_6-t√†i-nguy√™n-tham-kh·∫£o",[106,1437,1438,1444],{},[109,1439,1440],{},[455,1441,1443],{"href":1442,"target":457},"https://redis.io/documentation","T√†i li·ªáu Redis",[109,1445,1446],{},[455,1447,1449],{"href":1448,"target":457},"https://github.com/redis/ioredis","T√†i li·ªáu ioredis",{"title":497,"searchDepth":229,"depth":229,"links":1451},[1452,1453,1454,1455,1456,1457,1458,1459,1460,1461,1462,1463],{"id":1318,"depth":229,"text":606},{"id":1326,"depth":229,"text":611},{"id":1334,"depth":229,"text":616},{"id":1342,"depth":229,"text":621},{"id":1350,"depth":229,"text":626},{"id":1358,"depth":229,"text":631},{"id":1384,"depth":229,"text":641},{"id":1395,"depth":229,"text":646},{"id":1408,"depth":229,"text":651},{"id":1416,"depth":229,"text":656},{"id":1424,"depth":229,"text":661},{"id":1435,"depth":229,"text":666},"T√¨m hi·ªÉu c√°c kh√°i ni·ªám c∆° b·∫£n v·ªÅ Redis bao g·ªìm c√°c ki·ªÉu d·ªØ li·ªáu v√† ph∆∞∆°ng th·ª©c, c≈©ng nh∆∞ c√°ch t√≠ch h·ª£p Redis v√†o ·ª©ng d·ª•ng Node.js ƒë·ªÉ s·ª≠ d·ª•ng b·ªô nh·ªõ ƒë·ªám v√† c√°c t√≠nh nƒÉng th·ªùi gian th·ª±c.","/images/blog/basic-redis/banner.webp","redis, nodejs, cache, in-memory database",{},{"title":596,"description":1464},"blog/basic-redis",[1471],"redis","3d0XvNroUY6-txkS2aldMngWhf075Own2Hqsb5sjDmM",{"id":1474,"title":671,"body":1475,"date":499,"description":1570,"extension":501,"image":1571,"keywords":1572,"meta":1573,"navigation":505,"path":670,"published":505,"seo":1574,"stem":1575,"tags":1576,"__hash__":1578},"blog/blog/common-docker-file.md",{"type":7,"value":1476,"toc":1563},[1477,1481,1484,1489,1494,1497,1500,1503,1510,1513,1516,1519,1524,1527,1530,1543,1546,1549,1552,1555],[10,1478,1479],{},[13,1480,671],{},[10,1482,1483],{},"Docker l√† m·ªôt c√¥ng c·ª• ·∫£o h√≥a nh·∫π gi√∫p ph√°t tri·ªÉn, tri·ªÉn khai v√† ch·∫°y ·ª©ng d·ª•ng trong c√°c container. N√≥ cho ph√©p b·∫°n ƒë√≥ng g√≥i ·ª©ng d·ª•ng v√† t·∫•t c·∫£ c√°c ph·ª• thu·ªôc c·ªßa n√≥ v√†o m·ªôt container duy nh·∫•t, gi√∫p d·ªÖ d√†ng tri·ªÉn khai tr√™n b·∫•t k·ª≥ m√¥i tr∆∞·ªùng n√†o m√† kh√¥ng c·∫ßn lo l·∫Øng v·ªÅ s·ª± kh√°c bi·ªát gi·ªØa c√°c m√¥i tr∆∞·ªùng.",[17,1485,1486],{"type":19},[10,1487,1488],{},"ƒê√¢y l√† m·ªôt s·ªë Dockerfile cho c√°c d·ª± √°n th∆∞·ªùng g·∫∑p, b·∫°n c√≥ th·ªÉ tham kh·∫£o v√† ƒëi·ªÅu ch·ªânh theo nhu c·∫ßu c·ªßa m√¨nh.",[10,1490,1491,1492],{},"N·ªôi dung b√†i vi·∫øt ƒë∆∞·ª£c t·ªïng h·ª£p v√† t√≠ch g√≥p t·ª´ nhi·ªÅu ngu·ªìn kh√°c nhau, bao g·ªìm c·∫£ c√°c d·ª± √°n th·ª±c t·∫ø m√† m√¨nh ƒë√£ l√†m.\n",[486,1493],{},[1316,1495,676],{"id":1496},"dockerfile-cho-nodejs",[10,1498,1499],{},"Dockerfile cho Node.js r·∫•t quan tr·ªçng khi tri·ªÉn khai ·ª©ng d·ª•ng JavaScript ph√≠a server. ƒê√¢y l√† m·ªôt Dockerfile ƒë√£ ƒë∆∞·ª£c t·ªëi ∆∞u cho m·ªôt d·ª± √°n Node.js ƒëi·ªÉn h√¨nh:",[41,1501],{":files":1502},"[{\"title\":\"Dockerfile\",\"language\":\"dockerfile\",\"content\":\"FROM node:10-alpine\\n\\nRUN mkdir -p /home/node/app/node_modules && chown -R node:node /home/node/app\\nWORKDIR /home/node/app\\nCOPY package*.json ./\\nUSER node\\nRUN npm install\\nCOPY --chown=node:node . .\\n\\nEXPOSE 8080\\nCMD [ \\\"node\\\", \\\"app.js\\\" ]\\n\"}]",[10,1504,1505,1506,1509],{},"C√°ch 2, s·ª≠ d·ª•ng ",[87,1507,1508],{},"pm2",". V·ªÅ c∆° b·∫£n th√¨ c√°ch n√†y nh·∫π h∆°n kha kh√° so v·ªõi npm",[41,1511],{":files":1512},"[{\"title\":\"Dockerfile\",\"language\":\"dockerfile\",\"content\":\"# Stage 1: Build\\nFROM node:18-alpine AS build\\n\\nWORKDIR /app\\n\\nCOPY package*.json ./\\n\\nRUN npm ci --only=production\\n\\nCOPY . .\\n\\nRUN npm run build\\n\\n# Stage 2: Run\\nFROM node:18-alpine\\n\\nRUN npm install -g pm2\\n\\nWORKDIR /app\\nCOPY --from=build /app/node_modules ./node_modules\\nCOPY --from=build /app .\\n\\nENV NODE_ENV=production\\nENV PORT=3000\\n\\nEXPOSE 3000\\nCMD [\\\"pm2-runtime\\\", \\\"start\\\", \\\"server.js\\\"]\\n\"}]",[1316,1514,681],{"id":1515},"dockerfile-reactjs",[10,1517,1518],{},"C√≥ th·ªÉ s·ª≠ d·ª•ng Dockerfile n√†y cho c√°c d·ª± √°n nh∆∞ Vue, Angular,...",[10,1520,1521,1523],{},[13,1522,838],{}," ·ªü ƒë√¢y th∆∞ m·ª•c ch·ª©a nginx/nginx.conf ƒë·∫∑t c√πng c·∫•p v·ªõi Dockerfile",[41,1525],{":files":1526},"[{\"title\":\"Dockerfile\",\"language\":\"dockerfile\",\"content\":\"## build stage ##\\nFROM node:18.18-alpine as build\\nWORKDIR /app\\nCOPY . .\\nRUN npm install\\nRUN npm run build\\n\\n## run stage ##\\nFROM nginx:alpine\\nRUN mkdir /run\\nCOPY --from=build /app/build /run\\nCOPY nginx.conf /etc/nginx/nginx.conf\\n\"},{\"title\":\"nginx.conf\",\"language\":\"nginx\",\"content\":\"user  nginx;\\nworker_processes  1;\\nerror_log  /var/log/nginx/error.log warn;\\npid        /var/run/nginx.pid;\\nevents {\\n  worker_connections  1024;\\n}\\nhttp {\\n  include       /etc/nginx/mime.types;\\n  default_type  application/octet-stream;\\n  log_format  main  '$remote_addr - $remote_user [$time_local] \\\"$request\\\" '\\n                    '$status $body_bytes_sent \\\"$http_referer\\\" '\\n                    '\\\"$http_user_agent\\\" \\\"$http_x_forwarded_for\\\"';\\n  access_log  /var/log/nginx/access.log  main;\\n  sendfile        on;\\n  keepalive_timeout  65;\\n  server {\\n    listen       80;\\n    server_name  webclient;\\n    location / {\\n      root   /run;\\n      index  index.html;\\n      try_files $uri $uri/ /index.html;\\n    }\\n    error_page   500 502 503 504  /50x.html;\\n    location = /50x.html {\\n      root   /usr/share/nginx/html;\\n    }\\n  }\\n}\\n\"}]",[1316,1528,686],{"id":1529},"dockerfile-cho-php-v·ªõi-laravel",[10,1531,1532,1534,1535,1538,1539,1542],{},[13,1533,838],{}," th∆∞ m·ª•c ",[13,1536,1537],{},"conf/nginx.conf"," v√† ",[13,1540,1541],{},"conf/supervisord.conf"," c√πng c·∫•p v·ªõi Dockerfile",[41,1544],{":files":1545},"[{\"title\":\"Dockerfile\",\"language\":\"dockerfile\",\"content\":\"# Stage 1: Composer Dependencies\\nFROM composer:2 AS composer\\n\\nWORKDIR /app\\nCOPY composer.json composer.lock ./\\n\\nRUN composer install --no-dev --optimize-autoloader --no-interaction\\n\\n# Stage 2: Build\\nFROM php:8.2-fpm-alpine AS php\\n\\nWORKDIR /var/www/html\\nCOPY --from=composer /app/vendor ./vendor\\nCOPY . .\\n\\nRUN apk add --no-cache \\\\\\n        libzip-dev \\\\\\n        libpng-dev \\\\\\n        libjpeg-turbo-dev \\\\\\n        freetype-dev \\\\\\n        && docker-php-ext-configure gd --with-freetype --with-jpeg \\\\\\n        && docker-php-ext-install -j$(nproc) gd pdo_mysql zip opcache\\n\\nRUN { \\\\\\n        echo 'opcache.enable=1'; \\\\\\n        echo 'opcache.revalidate_freq=0'; \\\\\\n        echo 'opcache.validate_timestamps=1'; \\\\\\n        echo 'opcache.max_accelerated_files=10000'; \\\\\\n        echo 'opcache.memory_consumption=192'; \\\\\\n        echo 'opcache.max_wasted_percentage=10'; \\\\\\n        echo 'opcache.interned_strings_buffer=16'; \\\\\\n        echo 'opcache.fast_shutdown=1'; \\\\\\n    } > /usr/local/etc/php/conf.d/opcache-recommended.ini\\n\\nRUN chown -R www-data:www-data /var/www/html/storage /var/www/html/bootstrap/cache\\n\\n# Stage 3: Nginx v√† Supervisord\\nFROM nginx:alpine AS nginx\\n\\nWORKDIR /var/www/html\\nCOPY --from=php /var/www/html /var/www/html\\nCOPY conf/nginx.conf /etc/nginx/conf.d/default.conf\\n\\nRUN apk add --no-cache supervisor\\n\\nCOPY conf/supervisord.conf /etc/supervisor/conf.d/supervisord.conf\\n\\nEXPOSE 80\\nCMD [\\\"supervisord\\\", \\\"-c\\\", \\\"/etc/supervisor/conf.d/supervisord.conf\\\"]\\n\"},{\"title\":\"nginx.conf\",\"language\":\"nginx\",\"content\":\"server {\\n  listen 80;\\n  server_name localhost;\\n\\n  root /var/www/html/public;\\n  index index.php index.html index.htm;\\n\\n  location / {\\n      try_files $uri $uri/ /index.php?$query_string;\\n  }\\n\\n  location ~ \\\\.php$ {\\n      include fastcgi_params;\\n      fastcgi_pass 127.0.0.1:9000;\\n      fastcgi_index index.php;\\n      fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;\\n  }\\n\\n  location ~ /\\\\.ht {\\n      deny all;\\n  }\\n\\n  error_log /var/log/nginx/error.log;\\n  access_log /var/log/nginx/access.log;\\n}\\n\"},{\"title\":\"conf/supervisord.conf\",\"language\":\"ini\",\"content\":\"[supervisord]\\nnodaemon=true\\n\\n[program:php-fpm]\\ncommand=php-fpm\\nautostart=true\\nautorestart=true\\nstderr_logfile=/var/log/php-fpm.err.log\\nstdout_logfile=/var/log/php-fpm.out.log\\n\\n[program:nginx]\\ncommand=nginx -g \\\"daemon off;\\\"\\nautostart=true\\nautorestart=true\\nstderr_logfile=/var/log/nginx.err.log\\nstdout_logfile=/var/log/nginx.out.log\\n\"}]",[1316,1547,691],{"id":1548},"dockerfile-cho-nextjs",[41,1550],{":files":1551},"[{\"title\":\"Dockerfile\",\"language\":\"dockerfile\",\"content\":\"FROM node:18-alpine AS base\\n\\nFROM base AS deps\\nRUN apk add --no-cache libc6-compat\\nWORKDIR /app\\n\\nCOPY package.json yarn.lock* package-lock.json* pnpm-lock.yaml* ./\\nRUN npm install\\nFROM base AS builder\\nWORKDIR /app\\nCOPY --from=deps /app/node_modules ./node_modules\\nCOPY . .\\nRUN npm run build\\n\\n\\nFROM base AS runner\\nWORKDIR /app\\n\\nENV NODE_ENV production\\n\\nRUN addgroup --system --gid 1001 nodejs\\nRUN adduser --system --uid 1001 nextjs\\n\\nCOPY --from=builder /app/public ./public\\n\\nRUN mkdir .next\\nRUN chown nextjs:nodejs .next\\n\\nCOPY --from=builder --chown=nextjs:nodejs /app/.next/standalone ./\\nCOPY --from=builder --chown=nextjs:nodejs /app/.next/static ./.next/static\\n\\nUSER nextjs\\n\\nEXPOSE 3000\\n\\nENV PORT 3000\\nENV HOSTNAME \\\"0.0.0.0\\\"\\n\\nCMD [\\\"node\\\", \\\"server.js\\\"]\\n\"}]",[1316,1553,695],{"id":1554},"tham-kh·∫£o",[10,1556,1557,1558],{},"M·ªôt s·ªë Dockerfile ƒë∆∞·ª£c tham kh·∫£o t·ª´ ",[455,1559,1562],{":target":457,"href":1560,"rel":1561},"https://elroydevops.tech/mau-dockerfile-cac-du-an/",[460],"Devops Edu",{"title":497,"searchDepth":229,"depth":229,"links":1564},[1565,1566,1567,1568,1569],{"id":1496,"depth":229,"text":676},{"id":1515,"depth":229,"text":681},{"id":1529,"depth":229,"text":686},{"id":1548,"depth":229,"text":691},{"id":1554,"depth":229,"text":695},"T√¨m hi·ªÉu v·ªÅ Docker v√† kh√°m ph√° c√°c Dockerfile ph·ªï bi·∫øn cho nhi·ªÅu d·ª± √°n nh∆∞ Node.js, PHP v·ªõi Laravel, React, Vue, Nuxt v√† Next.js. Kh√°m ph√° c√°c k·ªπ thu·∫≠t t·ªëi ∆∞u v√† th·ª±c h√†nh t·ªët nh·∫•t.","/images/blog/common-docker-file/banner.webp","docker, dockerfile, file docker m·∫´u, dockerfile cho nodejs, dockerfile cho php, dockerfile cho react, dockerfile cho vue, dockerfile cho nuxt, dockerfile cho next",{},{"title":671,"description":1570},"blog/common-docker-file",[1577],"docker","CUzxmfILXnmQZUL9yB6i6Ie749cZRj4kA_32hthALuQ",{"id":1580,"title":700,"body":1581,"date":1886,"description":702,"extension":501,"image":1887,"keywords":1888,"meta":1889,"navigation":505,"path":699,"published":505,"seo":1890,"stem":1891,"tags":1892,"__hash__":1894},"blog/blog/jwt.md",{"type":7,"value":1582,"toc":1884},[1583,1586,1589,1599,1602,1616,1621,1624,1644,1646,1651,1658,1661,1664,1671,1686,1689,1692,1707,1710,1717,1720,1723,1726,1729,1741,1744,1747,1762,1773,1776,1779,1799,1805,1814,1817,1820,1839,1842,1845,1848,1850,1856,1859,1862],[33,1584,705],{"id":1585},"_1-gi·ªõi-thi·ªáu-v·ªÅ-jwt",[10,1587,1588],{},"JSON Web Token (JWT) l√† m·ªôt ti√™u chu·∫©n m·ªü ( RFC 7519 ) ƒë·ªãnh nghƒ©a m·ªôt c√°ch th·ª©c nh·ªè g·ªçn v√† ƒë·ªôc l·∫≠p ƒë·ªÉ truy·ªÅn th√¥ng tin an to√†n gi·ªØa c√°c b√™n d∆∞·ªõi d·∫°ng ƒë·ªëi t∆∞·ª£ng JSON. Th√¥ng tin n√†y c√≥ th·ªÉ ƒë∆∞·ª£c x√°c minh v√† tin c·∫≠y v√¨ n√≥ ƒë∆∞·ª£c k√Ω k·ªπ thu·∫≠t s·ªë. JWT c√≥ th·ªÉ ƒë∆∞·ª£c k√Ω b·∫±ng m·ªôt b√≠ m·∫≠t (v·ªõi thu·∫≠t to√°n HMAC ) ho·∫∑c m·ªôt c·∫∑p kh√≥a c√¥ng khai/ri√™ng t∆∞ b·∫±ng RSA ho·∫∑c ECDSA .",[10,1590,1591],{},[1592,1593,1594,1595],"em",{},"Tr√≠ch t·ª´: ",[455,1596,1597],{"href":1597,"rel":1598},"https://jwt.io/introduction",[460],[33,1600,710],{"id":1601},"_2-c√°c-th√†nh-ph·∫ßn-c·ªßa-jwt",[10,1603,1604,1605,1608,1609,1538,1612,1615],{},"JWT bao g·ªìm ba th√†nh ph·∫ßn ch√≠nh: ",[87,1606,1607],{},"Header",", ",[87,1610,1611],{},"Payload",[87,1613,1614],{},"Signature",". M·ªói ph·∫ßn ƒë·ªÅu ƒë∆∞·ª£c m√£ h√≥a b·∫±ng Base64Url v√† ƒë∆∞·ª£c ph√¢n t√°ch b·∫±ng d·∫•u ch·∫•m (.).\nM·ªôt JWT token th∆∞·ªùng s·∫Ω tr√¥ng nh∆∞ sau:",[17,1617,1618],{"type":19},[10,1619,1620],{},"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c",[10,1622,1623],{},"nh∆∞ v·∫≠y v·ªõi JWT token ·ªü tr√™n th√¨ c√°c th√†nh ph·∫ßn sau khi ƒë∆∞·ª£c m√£ h√≥a s·∫Ω l√†:",[106,1625,1626,1632,1638],{},[109,1627,1628,1629],{},"Header: ",[87,1630,1631],{},"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9",[109,1633,1634,1635],{},"Payload: ",[87,1636,1637],{},"eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ",[109,1639,1640,1641],{},"Signature: ",[87,1642,1643],{},"SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c",[486,1645],{},[10,1647,1648],{},[13,1649,1650],{},"Chi ti·∫øt v·ªÅ c√°c th√†nh ph·∫ßn",[106,1652,1653],{},[109,1654,1655,1657],{},[13,1656,1607],{},": Th∆∞·ªùng s·∫Ω ch·ª©a th√¥ng tin v·ªÅ thu·∫≠t to√°n m√£ h√≥a v√† lo·∫°i token.",[10,1659,1660],{},"V√≠ d·ª•:",[41,1662],{":files":1663},"[{\"title\":\"json\",\"language\":\"json\",\"content\":\"{\\n  \\\"alg\\\": \\\"HS256\\\",\\n  \\\"typ\\\": \\\"JWT\\\"\\n}\\n\"}]",[106,1665,1666],{},[109,1667,1668,1670],{},[13,1669,1611],{},": ƒê√¢y l√† ph·∫ßn s·∫Ω ch·ª©a c√°c th√¥ng tin m√† ch√∫ng ta mu·ªën m√£ h√≥a v√† truy·ªÅn t·∫£i. Th∆∞·ªùng th√¨ ch√∫ng ta s·∫Ω l∆∞u th√¥ng tin ng∆∞·ªùi d√πng, user_id,...",[17,1672,1673],{"type":19},[10,1674,1675,1676,1608,1679,1608,1682,1685],{},"L∆∞u √Ω r·∫±ng JWT token kh√¥ng c√≥ h·∫øt h·∫°n, tuy nhi√™n ch√∫ng ta c√≥ th·ªÉ gi·ªõi h·∫°n th·ªùi gian s·ªëng c·ªßa token b·∫±ng c√°ch th√™m c√°c tr∆∞·ªùng nh∆∞ ",[87,1677,1678],{},"exp",[87,1680,1681],{},"nbf",[87,1683,1684],{},"iat"," v√†o payload. V√† khi ch√∫ng ta x√°c th·ª±c token ch√∫ng ta s·∫Ω c·∫ßn th√™m m·ªôt b∆∞·ªõc ki·ªÉm tra th·ªùi gian s·ªëng c·ªßa token. Nh∆∞ v·∫≠y ch√∫ng ta c√≥ th·ªÉ s·ª≠ d·ª•ng JWT token nh∆∞ m·ªôt session token.",[10,1687,1688],{},"V√≠ d·ª• v·ªÅ payload:",[41,1690],{":files":1691},"[{\"title\":\"json\",\"language\":\"json\",\"content\":\"{\\n  \\\"sub\\\": \\\"1234567890\\\",\\n  \\\"name\\\": \\\"John Doe\\\",\\n  \\\"iat\\\": 1516239022\\n}\\n\"}]",[106,1693,1694],{},[109,1695,1696,1698,1699,1538,1701,1703,1704],{},[13,1697,1614],{},": ƒê∆∞·ª£c t·∫°o b·∫±ng c√°ch m√£ h√≥a ",[87,1700,1607],{},[87,1702,1611],{}," v·ªõi m·ªôt kh√≥a b√≠ m·∫≠t v√† thu·∫≠t to√°n ƒë√£ ch·ªâ ƒë·ªãnh trong Header. ƒêi·ªÅu n√†y gi√∫p ƒë·∫£m b·∫£o r·∫±ng token kh√¥ng b·ªã thay ƒë·ªïi trong qu√° tr√¨nh truy·ªÅn t·∫£i. V√≠ d·ª•:",[41,1705],{":files":1706},"[{\"title\":\"json\",\"language\":\"json\",\"content\":\"HMACSHA256(\\n  base64UrlEncode(header) + \\\".\\\" +\\n  base64UrlEncode(payload),\\n  your-256-bit-secret\\n)\\n\"}]",[33,1708,715],{"id":1709},"_3-vi·∫øt-l·∫°i-h√†m-ƒë·ªÉ-generate-jwt-token-v√†-verify-jwt-token-trong-nodejs",[10,1711,1712,1713,1716],{},"Khi l√†m vi·ªác v·ªõi jwt v√† nodeJs, h·∫ßu h·∫øt m·ªçi ng∆∞·ªùi s·∫Ω s·ª≠ d·ª•ng th∆∞ vi·ªán ",[87,1714,1715],{},"jsonwebtoken"," ƒë·ªÉ t·∫°o v√† x√°c th·ª±c JWT token. Tuy nhi√™n, ƒë·ªÉ hi·ªÉu r√µ h∆°n v·ªÅ c√°ch ho·∫°t ƒë·ªông c·ªßa JWT, ch√∫ng ta c√≥ th·ªÉ t·ª± vi·∫øt h√†m ƒë·ªÉ t·∫°o v√† x√°c th·ª±c JWT token.",[10,1718,1719],{},"Gi·∫£ s·ª≠ ch√∫ng ta mu·ªën t·∫°o JWT token t·ª´ th√¥ng tin user_id=123, khi ƒë√≥ ph·∫ßn payload s·∫Ω l√†:",[41,1721],{":files":1722},"[{\"title\":\"javascript\",\"language\":\"javascript\",\"content\":\"const payload = {\\n  user_id: 123\\n}\\n\"}]",[10,1724,1725],{},"·ªû ph·∫ßn header, ch√∫ng ta s·∫Ω s·ª≠ d·ª•ng thu·∫≠t to√°n HS256 ƒë·ªÉ m√£ h√≥a JWT token. N√™n payload s·∫Ω c√≥ d·∫°ng nh∆∞ sau:",[41,1727],{":files":1728},"[{\"title\":\"javascript\",\"language\":\"javascript\",\"content\":\"const header = {\\n  alg: 'HS256',\\n  typ: 'JWT'\\n}\\n\"}]",[10,1730,1731,1732,1538,1734,1736,1737,1538,1739,260],{},"ƒê·ªÉ t·∫°o JWT token, ch√∫ng ta c·∫ßn m√£ h√≥a ",[87,1733,1607],{},[87,1735,1611],{}," b·∫±ng Base64Url. Sau ƒë√≥, ch√∫ng ta s·∫Ω t·∫°o ch·ªØ k√Ω b·∫±ng c√°ch s·ª≠ d·ª•ng thu·∫≠t to√°n HMACSHA256 v·ªõi kh√≥a b√≠ m·∫≠t (secret key) v√† k·∫øt h·ª£p ",[87,1738,1607],{},[87,1740,1611],{},[10,1742,1743],{},"ƒê·∫ßu ti√™n ch√∫ng ta c·∫ßn vi·∫øt 1 h√†m ƒë·ªÉ m√£ h√≥a Base64Url:",[41,1745],{":files":1746},"[{\"title\":\"javascript\",\"language\":\"javascript\",\"content\":\"function base64UrlEncode(str) {\\n  return Buffer.from(str)\\n    .toString('base64')\\n    .replace(/=/g, '')\\n    .replace(/\\\\+/g, '-')\\n    .replace(/\\\\//g, '_');\\n}\\n\"}]",[10,1748,1749,1750,1753,1754,1757,1758,1761],{},"·ªû ƒë√¢y, v√¨ ch√∫ng ta s·ª≠ d·ª•ng NodeJs n√™n c√≥ th·ªÉ s·ª≠ d·ª•ng ",[87,1751,1752],{},"Buffer"," ƒë·ªÉ m√£ h√≥a Base64Url. N·∫øu b·∫°n ƒëang l√†m vi·ªác v·ªõi JavaScript tr√™n tr√¨nh duy·ªát, b·∫°n c√≥ th·ªÉ s·ª≠ d·ª•ng ",[87,1755,1756],{},"btoa()"," ƒë·ªÉ m√£ h√≥a Base64Url. Khi mu·ªën gi·∫£i m√£, b·∫°n c√≥ th·ªÉ s·ª≠ d·ª•ng ",[87,1759,1760],{},"atob()",". H√†m n√†y l√† h√†m c√≥ s·∫µn trong tr√¨nh duy·ªát.",[10,1763,1764,1765,1768,1769,1772],{},"Ti·∫øp theo, ch√∫ng ta s·∫Ω tri·ªÉn khai h√†m t·∫°o JWT token. Trong Node.js, ch√∫ng ta c√≥ th·ªÉ d·ªÖ d√†ng th·ª±c hi·ªán ƒëi·ªÅu n√†y b·∫±ng c√°ch d√πng th∆∞ vi·ªán t√≠ch h·ª£p s·∫µn l√† ",[87,1766,1767],{},"crypto",", c·ª• th·ªÉ l√† h√†m ",[87,1770,1771],{},"createHmac",". H√†m n√†y s·∫Ω gi√∫p ch√∫ng ta t·∫°o ra ch·ªØ k√Ω (signature) t·ª´ chu·ªói ƒë√£ m√£ h√≥a g·ªìm Header v√† Payload, k·∫øt h·ª£p v·ªõi secret key ƒë·ªÉ ƒë·∫£m b·∫£o t√≠nh to√†n v·∫πn v√† x√°c th·ª±c c·ªßa token.",[10,1774,1775],{},"Full code m√£ h√≥a JWT token s·∫Ω nh∆∞ sau:",[41,1777],{":files":1778},"[{\"title\":\"javascript\",\"language\":\"javascript\",\"content\":\"const crypto = require('crypto');\\nfunction base64UrlEncode(str) {\\n  return Buffer.from(str)\\n    .toString('base64')\\n    .replace(/=/g, '')\\n    .replace(/\\\\+/g, '-')\\n    .replace(/\\\\//g, '_');\\n}\\n\\nfunction createJWT(payload, secret) {\\n  const header = {\\n    alg: 'HS256',\\n    typ: 'JWT'\\n  };\\n\\n  const encodedHeader = base64UrlEncode(JSON.stringify(header));\\n  const encodedPayload = base64UrlEncode(JSON.stringify(payload));\\n\\n  const signature = crypto\\n    .createHmac('sha256', secret)\\n    .update(`${encodedHeader}.${encodedPayload}`)\\n    .digest('base64')\\n    .replace(/=/g, '')\\n    .replace(/\\\\+/g, '-')\\n    .replace(/\\\\//g, '_');\\n\\n  return `${encodedHeader}.${encodedPayload}.${signature}`;\\n}\\n\"}]",[10,1780,1781,1782,1785,1786,1538,1789,1792,1793,1795,1796,1798],{},"Nh∆∞ v·∫≠y ch√∫ng ta ƒë√£ c√≥ h√†m ",[87,1783,1784],{},"createJWT"," ƒë·ªÉ t·∫°o JWT token. H√†m n√†y s·∫Ω nh·∫≠n v√†o 2 tham s·ªë l√† ",[87,1787,1788],{},"payload",[87,1790,1791],{},"secret",". ",[87,1794,1788],{}," l√† th√¥ng tin m√† ch√∫ng ta mu·ªën m√£ h√≥a v√† truy·ªÅn t·∫£i, c√≤n ",[87,1797,1791],{}," l√† kh√≥a b√≠ m·∫≠t m√† ch√∫ng ta s·∫Ω s·ª≠ d·ª•ng ƒë·ªÉ t·∫°o ch·ªØ k√Ω cho token.",[17,1800,1802],{"type":1801},"error",[10,1803,1804],{},"ƒê·ªëi v·ªõi JWT token, ch√∫ng ta c√≥ th·ªÉ s·ª≠ d·ª•ng b·∫•t k·ª≥ chu·ªói n√†o l√†m kh√≥a b√≠ m·∫≠t. Tuy nhi√™n, ƒë·ªÉ ƒë·∫£m b·∫£o t√≠nh b·∫£o m·∫≠t, ch√∫ng ta n√™n s·ª≠ d·ª•ng m·ªôt chu·ªói ng·∫´u nhi√™n v√† ƒë·ªß d√†i. V√¨ khi s·ª≠ d·ª•ng thu·∫≠t to√°n HMACSHA256, n·∫øu k·∫ª t·∫•n c√¥ng bi·∫øt ƒë∆∞·ª£c kh√≥a b√≠ m·∫≠t, h·ªç c√≥ th·ªÉ t·∫°o ra token gi·∫£ m·∫°o v√† truy c·∫≠p v√†o h·ªá th·ªëng c·ªßa b·∫°n.",[10,1806,1807,1808,1813],{},"C√≥ th·ªÉ s·ª≠ d·ª•ng trang web ",[455,1809,1812],{"href":1810,"rel":1811},"https://randomkeygen.com/",[460],"randomkeygen.com"," ƒë·ªÉ t·∫°o ra m·ªôt chu·ªói ng·∫´u nhi√™n v√† ƒë·ªß d√†i l√†m kh√≥a b√≠ m·∫≠t.",[33,1815,720],{"id":1816},"_4-x√°c-th·ª±c-jwt-token",[10,1818,1819],{},"Token JWT g·ªìm ba ph·∫ßn: Header, Payload v√† Signature, ƒë∆∞·ª£c n·ªëi v·ªõi nhau b·∫±ng d·∫•u ch·∫•m (.). Qu√° tr√¨nh x√°c th·ª±c di·ªÖn ra nh∆∞ sau:",[209,1821,1822,1825,1828],{},[109,1823,1824],{},"T√°ch token th√†nh ba ph·∫ßn: Header, Payload v√† Signature.",[109,1826,1827],{},"T·∫°o l·∫°i ch·ªØ k√Ω b·∫±ng c√°ch k·∫øt h·ª£p Header v√† Payload ƒë√£ m√£ h√≥a b·∫±ng Base64Url, sau ƒë√≥ s·ª≠ d·ª•ng c√πng thu·∫≠t to√°n v√† kh√≥a b√≠ m·∫≠t (secret key) ƒë√£ ƒë∆∞·ª£c d√πng khi t·∫°o token ban ƒë·∫ßu.",[109,1829,1830,1831],{},"So s√°nh ch·ªØ k√Ω m·ªõi t·∫°o v·ªõi ch·ªØ k√Ω ban ƒë·∫ßu trong token:\n",[106,1832,1833,1836],{},[109,1834,1835],{},"N·∫øu hai ch·ªØ k√Ω gi·ªëng nhau, token ƒë∆∞·ª£c x√°c nh·∫≠n l√† h·ª£p l·ªá (kh√¥ng b·ªã ch·ªânh s·ª≠a).",[109,1837,1838],{},"N·∫øu kh√°c nhau, token ƒë√£ b·ªã thay ƒë·ªïi ho·∫∑c kh√¥ng h·ª£p l·ªá.",[41,1840],{":files":1841},"[{\"title\":\"javascript\",\"language\":\"javascript\",\"content\":\"function verifyJWT(token, secret) {\\n  const [encodedHeader, encodedPayload, signature] = token.split('.');\\n  const expectedSignature = crypto\\n    .createHmac('sha256', secret)\\n    .update(`${encodedHeader}.${encodedPayload}`)\\n    .digest('base64')\\n    .replace(/=/g, '')\\n    .replace(/\\\\+/g, '-')\\n    .replace(/\\\\//g, '_');\\n\\n  return expectedSignature === signature;\\n}\\nconst token = createJWT(payload, secret);\\nconst isValid = verifyJWT(token, secret);\\nconsole.log('Token is valid:', isValid);\\n\"}]",[10,1843,1844],{},"Ngo√†i ra, ƒë·ªÉ ki·ªÉm tra xem token c√≥ h·∫øt h·∫°n hay ch∆∞a, b·∫°n c√≥ th·ªÉ th√™m tr∆∞·ªùng exp (expiration) v√†o Payload. Tr∆∞·ªùng n√†y l∆∞u th·ªùi gian h·∫øt h·∫°n d∆∞·ªõi d·∫°ng timestamp (s·ªë gi√¢y k·ªÉ t·ª´ ng√†y 1/1/1970). Khi x√°c th·ª±c, ch·ªâ c·∫ßn so s√°nh gi√° tr·ªã exp v·ªõi th·ªùi gian hi·ªán t·∫°i ƒë·ªÉ bi·∫øt token c√≤n hi·ªáu l·ª±c hay kh√¥ng.",[41,1846],{":files":1847},"[{\"title\":\"javascript\",\"language\":\"javascript\",\"content\":\"const payload = {\\n  user_id: 123,\\n  exp: Math.floor(Date.now() / 1000) + (60 * 60) // H·∫øt h·∫°n sau 1 gi·ªù\\n};\\nconst token = createJWT(payload, secret);\\nconst isValid = verifyJWT(token, secret);\\nconst decodedPayload = JSON.parse(Buffer.from(token.split('.')[1], 'base64').toString());\\nconst isExpired = decodedPayload.exp \u003C Math.floor(Date.now() / 1000);\\nconsole.log('Token is valid:', isValid);\\nconsole.log('Token is expired:', isExpired);\\n\"}]",[33,1849,725],{"id":1424},[10,1851,1852,1853,1855],{},"JWT l√† m·ªôt c√¥ng c·ª• m·∫°nh m·∫Ω ƒë·ªÉ x√°c th·ª±c v√† ph√¢n quy·ªÅn trong c√°c ·ª©ng d·ª•ng web. B·∫±ng c√°ch hi·ªÉu r√µ c√°ch ho·∫°t ƒë·ªông c·ªßa JWT, b·∫°n c√≥ th·ªÉ t·ª± t·∫°o v√† x√°c th·ª±c JWT token m√† kh√¥ng c·∫ßn ph·ª• thu·ªôc v√†o th∆∞ vi·ªán b√™n ngo√†i. Tuy nhi√™n, trong th·ª±c t·∫ø, b·∫°n n√™n s·ª≠ d·ª•ng th∆∞ vi·ªán ",[87,1854,1715],{}," ƒë·ªÉ ti·∫øt ki·ªám th·ªùi gian v√† c√¥ng s·ª©c.",[10,1857,1858],{},"Hy v·ªçng b√†i vi·∫øt n√†y ƒë√£ gi√∫p b·∫°n hi·ªÉu r√µ h∆°n v·ªÅ JWT v√† c√°ch s·ª≠ d·ª•ng n√≥ trong ·ª©ng d·ª•ng c·ªßa m√¨nh. N·∫øu b·∫°n c√≥ b·∫•t k·ª≥ c√¢u h·ªèi n√†o, h√£y li√™n h·ªá v·ªõi m√¨nh qua c√°c k√™nh li√™n l·∫°c nh∆∞ email, facebook, zalo ho·∫∑c telegram nh√©!",[33,1860,730],{"id":1861},"_6-t√†i-li·ªáu-tham-kh·∫£o",[106,1863,1864,1871,1878],{},[109,1865,1866],{},[455,1867,1870],{"href":1868,"rel":1869},"https://jwt.io/",[460],"jwt.io",[109,1872,1873],{},[455,1874,1877],{"href":1875,"rel":1876},"https://datatracker.ietf.org/doc/html/rfc7519",[460],"RFC 7519 - JSON Web Token (JWT)",[109,1879,1880],{},[455,1881,1715],{"href":1882,"rel":1883},"https://www.npmjs.com/package/jsonwebtoken",[460],{"title":497,"searchDepth":229,"depth":229,"links":1885},[],"2025-05-05T00:00:00.000Z","/images/blog/jwt/banner.webp","jwt, jsonwebtoken, nodejs, b·∫£o m·∫≠t, x√°c th·ª±c",{},{"title":700,"description":702},"blog/jwt",[1893],"npm","yD1lXH-8Az6ik7WFkgSdIc4k5xNC5W8to4G-L9vWpKw",{"id":1896,"title":735,"body":1897,"date":2077,"description":737,"extension":501,"image":2078,"keywords":2079,"meta":2080,"navigation":505,"path":734,"published":505,"seo":2081,"stem":2082,"tags":2083,"__hash__":2086},"blog/blog/use-effect-and-use-layout-effect.md",{"type":7,"value":1898,"toc":2071},[1899,1902,1910,1912,1915,1921,1936,1941,1958,1963,1974,1978,1992,1997],[33,1900,740],{"id":1901},"useeffect-v√†-uselayouteffect-trong-react",[10,1903,1904,1905,1538,1907,1909],{},"React cung c·∫•p hai hook m·∫°nh m·∫Ω ƒë·ªÉ x·ª≠ l√Ω hi·ªáu ·ª©ng ph·ª•: ",[87,1906,749],{},[87,1908,755],{},". Tuy ch√∫ng c√≥ c√∫ ph√°p gi·ªëng nhau, nh∆∞ng c√°ch ch√∫ng ho·∫°t ƒë·ªông kh√°c bi·ªát v√† ·∫£nh h∆∞·ªüng tr·ª±c ti·∫øp ƒë·∫øn tr·∫£i nghi·ªám ng∆∞·ªùi d√πng c≈©ng nh∆∞ hi·ªáu su·∫•t c·ªßa ·ª©ng d·ª•ng.",[30,1911],{},[1316,1913,745],{"id":1914},"t√≥m-t·∫Øt-quy-tr√¨nh-th·ª±c-thi",[1916,1917,1919],"h3",{"id":1918},"useeffect",[87,1920,749],{},[106,1922,1923,1929],{},[109,1924,1925,1926,260],{},"Ch·∫°y ",[13,1927,1928],{},"sau khi React c·∫≠p nh·∫≠t DOM xong v√† render UI xong",[109,1930,1931,1932,1935],{},"Th√≠ch h·ª£p cho c√°c ",[13,1933,1934],{},"t√°c v·ª• kh√¥ng ·∫£nh h∆∞·ªüng tr·ª±c ti·∫øp ƒë·∫øn layout",", nh∆∞ g·ªçi API, ƒëƒÉng k√Ω s·ª± ki·ªán, log, animation nh·∫π‚Ä¶",[10,1937,1938],{},[13,1939,1940],{},"Quy tr√¨nh:",[209,1942,1943,1946,1949,1952,1955],{},[109,1944,1945],{},"C·∫≠p nh·∫≠t l·∫°i state",[109,1947,1948],{},"C·∫≠p nh·∫≠t DOM (mutated)",[109,1950,1951],{},"React render l·∫°i UI",[109,1953,1954],{},"Clean up n·∫øu c√≥",[109,1956,1957],{},"G·ªçi useEffect callback",[1916,1959,1961],{"id":1960},"uselayouteffect",[87,1962,755],{},[106,1964,1965,1971],{},[109,1966,1967,1968,260],{},"Ch·∫°y ngay sau khi DOM ƒë∆∞·ª£c c·∫≠p nh·∫≠t, nh∆∞ng ",[13,1969,1970],{},"tr∆∞·ªõc khi browser v·∫Ω l·∫°i giao di·ªán (paint)",[109,1972,1973],{},"D√πng khi b·∫°n c·∫ßn ƒëo l∆∞·ªùng DOM, thay ƒë·ªïi layout ho·∫∑c ngƒÉn nh·∫•p nh√°y giao di·ªán.",[10,1975,1976],{},[13,1977,1940],{},[209,1979,1980,1982,1984,1987,1990],{},[109,1981,1945],{},[109,1983,1948],{},[109,1985,1986],{},"Clean up n·∫øu dependencies thay ƒë·ªïi",[109,1988,1989],{},"G·ªçi useLayoutEffect callback",[109,1991,1951],{},[10,1993,1994],{},[13,1995,1996],{},"Khi n√†o d√πng c√°i n√†o?",[1998,1999,2000,2013],"table",{},[2001,2002,2003],"thead",{},[2004,2005,2006,2010],"tr",{},[2007,2008,2009],"th",{},"T√¨nh hu·ªëng",[2007,2011,2012],{},"N√™n d√πng",[2014,2015,2016,2026,2035,2044,2053,2062],"tbody",{},[2004,2017,2018,2022],{},[2019,2020,2021],"td",{},"G·ªçi API, thao t√°c kh√¥ng ·∫£nh h∆∞·ªüng layout",[2019,2023,2024],{},[87,2025,749],{},[2004,2027,2028,2031],{},[2019,2029,2030],{},"ƒêo k√≠ch th∆∞·ªõc DOM, scroll, position",[2019,2032,2033],{},[87,2034,755],{},[2004,2036,2037,2040],{},[2019,2038,2039],{},"C·∫≠p nh·∫≠t class, focus v√†o input",[2019,2041,2042],{},[87,2043,755],{},[2004,2045,2046,2049],{},[2019,2047,2048],{},"Hi·ªáu ·ª©ng animation nh·∫π sau render",[2019,2050,2051],{},[87,2052,749],{},[2004,2054,2055,2058],{},[2019,2056,2057],{},"NgƒÉn nh√°y layout (flicker) khi hi·ªÉn th·ªã components",[2019,2059,2060],{},[87,2061,755],{},[2004,2063,2064,2067],{},[2019,2065,2066],{},"C·∫≠p nh·∫≠t DOM tr∆∞·ªõc khi browser v·∫Ω l·∫°i",[2019,2068,2069],{},[87,2070,755],{},{"title":497,"searchDepth":229,"depth":229,"links":2072},[2073],{"id":1914,"depth":229,"text":745,"children":2074},[2075,2076],{"id":1918,"depth":752,"text":749},{"id":1960,"depth":752,"text":755},"2025-05-06T00:00:00.000Z","/images/blog/use-effect-and-use-layout-effect/banner.webp","react, useEffect, useLayoutEffect, react hooks, hi·ªáu nƒÉng react",{},{"title":735,"description":737},"blog/use-effect-and-use-layout-effect",[2084,2085],"react","hooks","HXO6Sisd7tUFKWbj14nolEED4VvAwDgBBQlMW2pMGXc",{"id":2088,"title":760,"body":2089,"date":1886,"description":762,"extension":501,"image":2145,"keywords":2146,"meta":2147,"navigation":505,"path":759,"published":505,"seo":2148,"stem":2149,"tags":2150,"__hash__":2151},"blog/blog/useful-npm-package.md",{"type":7,"value":2090,"toc":2143},[2091,2094,2126,2129,2133,2136],[33,2092,765],{"id":2093},"frontend",[106,2095,2096,2108,2114,2120],{},[109,2097,2098,2101,2102,2107],{},[87,2099,2100],{},"react-query"," - ",[455,2103,2106],{"href":2104,"rel":2105},"https://react-query.tanstack.com/",[460],"React Query"," Th∆∞ vi·ªán qu·∫£n l√Ω tr·∫°ng th√°i cho React, gi√∫p x·ª≠ l√Ω c√°c y√™u c·∫ßu API v√† cache d·ªØ li·ªáu m·ªôt c√°ch d·ªÖ d√†ng.",[109,2109,2110,2113],{},[87,2111,2112],{},"@progress/kendo-react-pdf"," - Th∆∞ vi·ªán t·∫°o PDF cho React, hay h∆°n c√°c th∆∞ vi·ªán kh√°c ·ªü ch·ªó h√¨nh ·∫£nh s·∫Ω ƒë∆∞·ª£c xu·∫•t ra d∆∞·ªõi ƒë·ªãnh d·∫°ng SVG, gi√∫p cho vi·ªác xu·∫•t ·∫£nh ch·∫•t l∆∞·ª£ng cao v√† n√©t h∆°n, kh√¥ng b·ªã v·ª° ·∫£nh khi zoom in.",[109,2115,2116,2119],{},[87,2117,2118],{},"react-split-pane"," - Th∆∞ vi·ªán t·∫°o giao di·ªán chia t√°ch (split view) cho React, gi√∫p d·ªÖ d√†ng t·∫°o c√°c layout v·ªõi c√°c ph·∫ßn t·ª≠ c√≥ th·ªÉ k√©o v√† th·∫£.",[109,2121,2122,2125],{},[87,2123,2124],{},"react-window"," - Th∆∞ vi·ªán gi√∫p t·ªëi ∆∞u h√≥a hi·ªáu su·∫•t cho b·∫£ng v√† danh s√°ch l·ªõn trong React b·∫±ng c√°ch ch·ªâ render c√°c ph·∫ßn t·ª≠ ƒëang hi·ªÉn th·ªã tr√™n UI nh·∫π v√† d·ªÖ s·ª≠ d·ª•ng.",[33,2127,770],{"id":2128},"backend",[106,2130,2131],{},[109,2132,772],{},[33,2134,775],{"id":2135},"c√°c-ƒëo·∫°n-code-m·∫´u-h·ªØu-d·ª•ng",[106,2137,2138],{},[109,2139,777,2140],{},[41,2141],{":files":2142},"[{\"title\":\"javascript\",\"language\":\"javascript\",\"content\":\"export const sendEvent = (eventName, detail) => {\\n  document.dispatchEvent(new CustomEvent(eventName, { detail }));\\n}\\nexport const listenEvent = (eventName, callback, context = document) => {\\n  context.addEventListener(eventName, callback);\\n  return () => context.removeEventListener(eventName, callback);\\n}\\n\"}]",{"title":497,"searchDepth":229,"depth":229,"links":2144},[],"/images/blog/useful-npm-package/banner.webp","npm, package, frontend, backend",{},{"title":760,"description":762},"blog/useful-npm-package",[1893],"3WcFSlvMJI3UivaSkcCnPhkOghwUynB93HX-3qAii7M",{"id":2153,"title":780,"body":2154,"date":2077,"description":782,"extension":501,"image":2200,"keywords":2201,"meta":2202,"navigation":505,"path":779,"published":505,"seo":2203,"stem":2204,"tags":2205,"__hash__":2207},"blog/blog/useful-script.md",{"type":7,"value":2155,"toc":2197},[2156,2159,2164,2171,2174,2182,2185,2188,2191,2194],[33,2157,785],{"id":2158},"n√©n-·∫£nh-v√†-convert-·∫£nh-sang-ƒë·ªãnh-d·∫°ng-webp",[106,2160,2161],{},[109,2162,2163],{},"C√†i ƒë·∫∑t cwebp",[10,2165,2166,2167],{},"ƒê·ªëi v·ªõi window th√¨ c√≥ th·ªÉ xem h∆∞·ªõng d·∫´n t·∫°i: ",[455,2168,2169],{"href":2169,"rel":2170},"https://developers.google.com/speed/webp/download?hl=vi",[460],[41,2172],{":files":2173},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"# C√†i ƒë·∫∑t cwebp tr√™n Ubuntu\\nsudo apt-get install webp\\n# C√†i ƒë·∫∑t cwebp tr√™n MacOS\\nbrew install webp\\n\"}]",[106,2175,2176],{},[109,2177,2178,2179],{},"Script n√©n ·∫£nh ",[41,2180],{":files":2181},"[{\"title\":\"compress-image.sh\",\"language\":\"bash\",\"content\":\"#!/bin/bashn# Ki·ªÉm tra ƒë·ªëi s·ªë ƒë·∫ßu v√†onif [ -z \"$1\" ]; thenn  echo \"‚ùå Vui l√≤ng cung c·∫•p ƒë∆∞·ªùng d·∫´n file ·∫£nh.\"n  echo \"üëâ V√≠ d·ª•: ./compress-local-image.sh ./image.png\"n  exit 1nfinnINPUT=\"$1\"nn# Ki·ªÉm tra file t·ªìn t·∫°inif [ ! -f \"$INPUT\" ]; thenn  echo \"‚ùå File kh√¥ng t·ªìn t·∫°i: $INPUT\"n  exit 1nfinn# L·∫•y t√™n filenBASENAME=$(basename \"$INPUT\")nFILENAME=\"${BASENAME%.*}\"nEXT=\"${BASENAME##*.}\"nn# N√©n v√† chuy·ªÉn sang WebPnecho \"üîÑ ƒêang n√©n v√† chuy·ªÉn sang WebP...\"ncwebp -q 80 \"$INPUT\" -o \"${FILENAME}.webp\"nnecho \"‚úÖ ƒê√£ t·∫°o file: ${FILENAME}.webp\"n\"}]",[10,2183,2184],{},"Sau khi t·∫°o xong file, c·∫ßn ph·∫£i g√°n quy·ªÅn th·ª±c thi cho file script b·∫±ng l·ªánh sau:",[41,2186],{":files":2187},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"chmod +x compress-image.sh\\n\"}]",[10,2189,2190],{},"Sau ƒë√≥ c√≥ th·ªÉ ch·∫°y script ƒë·ªÉ c√≥ th·ªÉ th·ª±c hi·ªán n√©n ·∫£nh v√† chuy·ªÉn ƒë·ªïi sang ƒë·ªãnh d·∫°ng webp.",[41,2192],{":files":2193},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"./compress-image.sh ./image.png\\n\"}]",[1316,2195,790],{"id":2196},"ƒëang-c·∫≠p-nh·∫≠t",{"title":497,"searchDepth":229,"depth":229,"links":2198},[2199],{"id":2196,"depth":229,"text":790},"/images/blog/useful-script/banner.webp","scripts, useful scripts",{},{"title":780,"description":782},"blog/useful-script",[2206],"scripts","qqSOA-ZMLw3F0B8UwjhGGvphjBieyLmvOAwAhUmql14",1764818832555]