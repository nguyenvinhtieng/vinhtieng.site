[{"data":1,"prerenderedAt":2219},["ShallowReactive",2],{"blog-basic-nginx":3,"search":509,"related-posts-basic-nginx":790,"all-post":791},{"id":4,"title":5,"body":6,"date":496,"description":497,"extension":498,"image":499,"keywords":500,"meta":501,"navigation":502,"path":503,"published":502,"seo":504,"stem":505,"tags":506,"__hash__":508},"blog/blog/basic-nginx.md","T·ªïng quan v√† c·∫•u h√¨nh th√¥ng d·ª•ng Nginx",{"type":7,"value":8,"toc":493},"minimal",[9,16,19,47,50,55,58,62,65,68,73,76,79,82,89,92,104,107,111,114,128,131,136,139,142,157,160,165,197,200,203,206,209,212,215,223,234,242,253,256,268,271,274,278,281,284,289,297,300,302,306,309,335,338,343,346,349,352,354,358,361,364,366,370,373,376,378,382,385,388,390,394,397,400,403,406,408,412,415,418,421,424,427,430,432,436,439,442,444,448,480,482,485,490],[10,11,12],"p",{},[13,14,15],"strong",{},"H∆∞·ªõng d·∫´n chi ti·∫øt v·ªÅ c·∫•u h√¨nh v√† tri·ªÉn khai Nginx",[10,17,18],{},"Nginx l√† m·ªôt web server m√£ ngu·ªìn m·ªü m·∫°nh m·∫Ω, ƒë∆∞·ª£c s·ª≠ d·ª•ng ph·ªï bi·∫øn ƒë·ªÉ ph·ª•c v·ª• n·ªôi dung tƒ©nh, reverse proxy, c√¢n b·∫±ng t·∫£i, b·∫£o m·∫≠t v√† h·ªó tr·ª£ PHP th√¥ng qua FastCGI. Trong b√†i vi·∫øt n√†y, ch√∫ng ta s·∫Ω ƒëi qua c√°c c·∫•u h√¨nh t·ª´ c∆° b·∫£n ƒë·∫øn n√¢ng cao, bao g·ªìm:",[20,21,22,26,29,32,35,38,41,44],"ul",{},[23,24,25],"li",{},"C√°ch c√†i ƒë·∫∑t Nginx",[23,27,28],{},"C·∫•u h√¨nh m√°y ch·ªß m·∫∑c ƒë·ªãnh (default host)",[23,30,31],{},"T√≠ch h·ª£p v·ªõi PHP-FPM",[23,33,34],{},"Thi·∫øt l·∫≠p Load Balancer (c√¢n b·∫±ng t·∫£i)",[23,36,37],{},"Gzip, HTTP/2, Rate limiting",[23,39,40],{},"Redirect, Rewrites",[23,42,43],{},"Hardening & Security",[23,45,46],{},"Logging n√¢ng cao",[48,49],"hr",{},[51,52,54],"h1",{"id":53},"Ô∏è-c√†i-ƒë·∫∑t-nginx","üõ†Ô∏è C√†i ƒë·∫∑t Nginx",[10,56,57],{},"H∆∞·ªõng d·∫´n c√†i ƒë·∫∑t Nginx tr√™n Ubuntu:",[59,60],"code-block",{":files":61},"[{\"title\":\"bash\",\"language\":\"nginx\",\"content\":\"sudo apt update\\nsudo apt install nginx\\n\"}]",[10,63,64],{},"Sau khi c√†i ƒë·∫∑t, b·∫°n c√≥ th·ªÉ ki·ªÉm tra tr·∫°ng th√°i Nginx:",[59,66],{":files":67},"[{\"title\":\"bash\",\"language\":\"nginx\",\"content\":\"sudo systemctl status nginx\"}]",[10,69,70],{},[13,71,72],{},"Ki·ªÉm tra t∆∞·ªùng l·ª≠a:",[10,74,75],{},"Sau khi c√†i ƒë·∫∑t Nginx, b·∫°n n√™n ƒë·∫£m b·∫£o r·∫±ng t∆∞·ªùng l·ª≠a (firewall) cho ph√©p l∆∞u l∆∞·ª£ng HTTP v√† HTTPS ƒë·ªÉ m√°y ch·ªß c√≥ th·ªÉ ph·ª•c v·ª• n·ªôi dung web.",[59,77],{":files":78},"[{\"title\":\"bash\",\"language\":\"nginx\",\"content\":\"sudo ufw allow ‚ÄòNginx Full‚Äô\\nsudo ufw status\\n\"}]",[10,80,81],{},"L·ªánh sudo ufw allow 'Nginx Full' s·∫Ω m·ªü c·∫£ hai c·ªïng 80 (HTTP) v√† 443 (HTTPS).\nSau ƒë√≥, d√πng sudo ufw status ƒë·ªÉ x√°c nh·∫≠n r·∫±ng c√°c c·ªïng n√†y ƒë√£ ƒë∆∞·ª£c m·ªü.",[83,84,86],"alert",{"type":85},"warning",[10,87,88],{},"N·∫øu b·∫°n ch∆∞a b·∫≠t ufw (Uncomplicated Firewall), b·∫°n c√≥ th·ªÉ b·∫≠t b·∫±ng l·ªánh sudo ufw enable. Tuy nhi√™n, h√£y ƒë·∫£m b·∫£o c·∫•u h√¨nh ch√≠nh x√°c ƒë·ªÉ kh√¥ng b·ªã kh√≥a SSH.",[10,90,91],{},"Ki·ªÉm tra ho·∫°t ƒë·ªông c·ªßa Nginx:",[10,93,94,95,99,100,103],{},"M·ªü tr√¨nh duy·ªát v√† truy c·∫≠p ƒë·ªãa ch·ªâ:\nüëâ ",[96,97,98],"code",{},"http://\u003Cƒë·ªãa_ch·ªâ_IP_c·ªßa_b·∫°n>"," ho·∫∑c ",[96,101,102],{},"http://localhost"," n·∫øu ki·ªÉm tra c·ª•c b·ªô.",[10,105,106],{},"B·∫°n s·∫Ω th·∫•y trang m·∫∑c ƒë·ªãnh ‚ÄúWelcome to nginx!‚Äù n·∫øu m·ªçi th·ª© ho·∫°t ƒë·ªông ƒë√∫ng c√°ch.",[51,108,110],{"id":109},"Ô∏è-c·∫•u-h√¨nh-default-host-trong-nginx","‚öôÔ∏è C·∫•u h√¨nh Default Host trong Nginx",[10,112,113],{},"Tr√™n Ubuntu, file c·∫•u h√¨nh c·ªßa Nginx th∆∞·ªùng ƒë∆∞·ª£c l∆∞u t·∫°i c√°c v·ªã tr√≠ sau:",[20,115,116,122],{},[23,117,118,121],{},[96,119,120],{},"/etc/nginx/sites-available/default"," (N·∫øu s·ª≠ d·ª•ng th∆∞ m·ª•c sites-available v√† sites-enabled).",[23,123,124,127],{},[96,125,126],{},"/etc/nginx/conf.d/default.conf"," (Th√¥ng d·ª•ng cho c√°c c·∫•u h√¨nh ƒë∆°n gi·∫£n).",[10,129,130],{},"M·∫∑c ƒë·ªãnh, khi c√†i ƒë·∫∑t Nginx, s·∫Ω c√≥ m·ªôt file c·∫•u h√¨nh default trong th∆∞ m·ª•c /etc/nginx/sites-available/ v·ªõi m·ªôt s·ªë c·∫•u h√¨nh c∆° b·∫£n. B·∫°n c√≥ th·ªÉ s·ª≠a file n√†y ƒë·ªÉ c·∫•u h√¨nh server block cho website c·ªßa m√¨nh.",[10,132,133],{},[13,134,135],{},"C·∫•u h√¨nh Default Host",[10,137,138],{},"M·ªü file c·∫•u h√¨nh Nginx m·∫∑c ƒë·ªãnh:",[59,140],{":files":141},"[{\"title\":\"default.conf\",\"language\":\"nginx\",\"content\":\"sudo nano /etc/nginx/sites-available/default\"}]",[10,143,144,145,148,149,152,153,156],{},"M·∫∑c ƒë·ªãnh, Nginx s·∫Ω ch·ªçn block ƒë·∫ßu ti√™n khi kh√¥ng t√¨m th·∫•y ",[96,146,147],{},"server_name"," t∆∞∆°ng ·ª©ng. ƒê·ªÉ c·∫•u h√¨nh r√µ r√†ng host m·∫∑c ƒë·ªãnh, b·∫°n th√™m ",[96,150,151],{},"default_server"," v√†o d√≤ng ",[96,154,155],{},"listen",":",[59,158],{":files":159},"[{\"title\":\"default.conf\",\"language\":\"nginx\",\"content\":\"server {\\n    listen 80 default_server;\\n    server_name _;\\n    root /var/www/html;\\n    index index.html index.htm;\\n\\n    location / {\\n        try_files $uri $uri/ =404;\\n    }\\n}\\n\"}]",[10,161,162],{},[13,163,164],{},"Ghi ch√∫:",[20,166,167,173,179,185,191],{},[23,168,169,172],{},[96,170,171],{},"listen 80 default_server;",": C·∫•u h√¨nh Nginx l·∫Øng nghe c·ªïng 80 (HTTP) v√† ƒë√°nh d·∫•u ƒë√¢y l√† default_server (server m·∫∑c ƒë·ªãnh cho c√°c y√™u c·∫ßu kh√¥ng kh·ªõp v·ªõi server block kh√°c).",[23,174,175,178],{},[96,176,177],{},"root /var/www/html;",": ƒê∆∞·ªùng d·∫´n t·ªõi th∆∞ m·ª•c ch·ª©a c√°c t·ªáp tin c·ªßa website. B·∫°n c√≥ th·ªÉ thay ƒë·ªïi ƒë∆∞·ªùng d·∫´n n√†y th√†nh th∆∞ m·ª•c c·ªßa website b·∫°n mu·ªën ph·ª•c v·ª•.",[23,180,181,184],{},[96,182,183],{},"server_name _;",": Ch·ªâ th·ªã n√†y cho ph√©p server ch·∫•p nh·∫≠n t·∫•t c·∫£ c√°c y√™u c·∫ßu kh√¥ng kh·ªõp v·ªõi server block kh√°c. N·∫øu b·∫°n c√≥ t√™n mi·ªÅn c·ª• th·ªÉ, h√£y thay th·∫ø d·∫•u g·∫°ch d∆∞·ªõi (_) b·∫±ng t√™n mi·ªÅn c·ªßa b·∫°n.",[23,186,187,190],{},[96,188,189],{},"location /",": ƒê√¢y l√† ph·∫ßn c·∫•u h√¨nh ƒë·ªãnh tuy·∫øn cho c√°c y√™u c·∫ßu ƒë·∫øn. C·∫•u h√¨nh n√†y gi√∫p Nginx t√¨m ki·∫øm c√°c t·ªáp tin khi ng∆∞·ªùi d√πng truy c·∫≠p v√†o website.",[23,192,193,196],{},[96,194,195],{},"try_files $uri $uri/ =404;",": N·∫øu y√™u c·∫ßu kh√¥ng tr√πng kh·ªõp v·ªõi t·ªáp tin ho·∫∑c th∆∞ m·ª•c, s·∫Ω tr·∫£ v·ªÅ l·ªói 404.",[10,198,199],{},"Sau khi ch·ªânh s·ª≠a xong, b·∫°n c·∫ßn ki·ªÉm tra xem c·∫•u h√¨nh c√≥ ch√≠nh x√°c kh√¥ng:",[59,201],{":files":202},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"sudo nginx -t\"}]",[10,204,205],{},"N·∫øu kh√¥ng c√≥ l·ªói n√†o, b·∫°n c√≥ th·ªÉ kh·ªüi ƒë·ªông l·∫°i Nginx ƒë·ªÉ √°p d·ª•ng c·∫•u h√¨nh m·ªõi:",[59,207],{":files":208},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"sudo systemctl restart nginx\"}]",[10,210,211],{},"Gi·ªõi thi·ªáu v·ªÅ sites-available v√† sites-enabled",[10,213,214],{},"Trong Nginx, th∆∞ m·ª•c sites-available v√† sites-enabled l√† m·ªôt c∆° ch·∫ø ƒë·ªÉ qu·∫£n l√Ω c√°c website (virtual hosts) m√† Nginx c√≥ th·ªÉ ph·ª•c v·ª•. C·∫•u tr√∫c n√†y gi√∫p d·ªÖ d√†ng b·∫≠t/t·∫Øt c√°c website m√† kh√¥ng c·∫ßn ph·∫£i x√≥a ho·∫∑c thay ƒë·ªïi c·∫•u h√¨nh tr·ª±c ti·∫øp.",[216,217,218],"ol",{},[23,219,220,156],{},[96,221,222],{},"sites-available",[20,224,225,228,231],{},[23,226,227],{},"ƒê√¢y l√† n∆°i b·∫°n t·∫°o v√† l∆∞u tr·ªØ t·∫•t c·∫£ c√°c file c·∫•u h√¨nh c·ªßa c√°c website ho·∫∑c ·ª©ng d·ª•ng m√† b·∫°n mu·ªën Nginx ph·ª•c v·ª•.",[23,229,230],{},"M·ªói file c·∫•u h√¨nh trong sites-available ƒë·∫°i di·ªán cho m·ªôt website ho·∫∑c ·ª©ng d·ª•ng ri√™ng bi·ªát.",[23,232,233],{},"V√≠ d·ª•: /etc/nginx/sites-available/example.com l√† c·∫•u h√¨nh cho website example.com.",[216,235,237],{"start":236},2,[23,238,239,156],{},[96,240,241],{},"sites-enabled",[20,243,244,247,250],{},[23,245,246],{},"ƒê√¢y l√† n∆°i ch·ª©a c√°c li√™n k·∫øt t∆∞·ª£ng tr∆∞ng (symlink) ƒë·∫øn c√°c file c·∫•u h√¨nh trong sites-available m√† b·∫°n mu·ªën Nginx th·ª±c thi.",[23,248,249],{},"C√°c li√™n k·∫øt n√†y cho ph√©p Nginx bi·∫øt ƒë∆∞·ª£c website n√†o s·∫Ω ƒë∆∞·ª£c k√≠ch ho·∫°t.",[23,251,252],{},"B·∫°n kh√¥ng n√™n tr·ª±c ti·∫øp ch·ªânh s·ª≠a c√°c file trong sites-enabled. Thay v√†o ƒë√≥, b·∫°n t·∫°o symlink t·ª´ sites-available.",[10,254,255],{},"C√°ch th·ª©c ho·∫°t ƒë·ªông:",[20,257,258,261],{},[23,259,260],{},"Khi b·∫°n t·∫°o m·ªôt file c·∫•u h√¨nh trong sites-available, b·∫°n c√≥ th·ªÉ k√≠ch ho·∫°t n√≥ b·∫±ng c√°ch t·∫°o m·ªôt symlink ƒë·∫øn file ƒë√≥ trong th∆∞ m·ª•c sites-enabled.",[23,262,263,264,267],{},"ƒê·ªÉ t·∫°o symlink, s·ª≠ d·ª•ng l·ªánh ",[96,265,266],{},"ln -s",".",[10,269,270],{},"V√≠ d·ª•, n·∫øu b·∫°n c√≥ c·∫•u h√¨nh example.com trong sites-available, b·∫°n c√≥ th·ªÉ t·∫°o symlink v√†o sites-enabled nh∆∞ sau:",[59,272],{":files":273},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"sudo ln -s /etc/nginx/sites-available/example.com /etc/nginx/sites-enabled/\"}]",[51,275,277],{"id":276},"c·∫•u-h√¨nh-nginx-v·ªõi-php-fpm","üêò C·∫•u h√¨nh Nginx v·ªõi PHP-FPM",[10,279,280],{},"ƒê·ªÉ x·ª≠ l√Ω c√°c file PHP, b·∫°n c·∫ßn k·∫øt n·ªëi Nginx v·ªõi PHP-FPM qua socket ho·∫∑c TCP:",[59,282],{":files":283},"[{\"title\":\"php-fpm.conf\",\"language\":\"nginx\",\"content\":\"location ~ \\\\.php$ {\\n  try_files $uri =404;\\n  fastcgi_pass unix:/var/run/php/php8.1-fpm.sock;\\n  fastcgi_index index.php;\\n  fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;\\n  include fastcgi_params;\\n}\\n\"}]",[10,285,286],{},[13,287,288],{},"L∆∞u √Ω:",[20,290,291,294],{},[23,292,293],{},"ƒê∆∞·ªùng d·∫´n socket c√≥ th·ªÉ thay ƒë·ªïi t√πy phi√™n b·∫£n PHP.",[23,295,296],{},"N·∫øu d√πng TCP:",[59,298],{":files":299},"[{\"title\":\"php-fpm.conf\",\"language\":\"nginx\",\"content\":\"fastcgi_pass 127.0.0.1:9000;\"}]",[48,301],{},[51,303,305],{"id":304},"load-balancer-trong-nginx","üåê Load Balancer trong Nginx",[10,307,308],{},"Nginx h·ªó tr·ª£ c·∫•u h√¨nh c√¢n b·∫±ng t·∫£i v·ªõi nhi·ªÅu thu·∫≠t to√°n l·ª±a ch·ªçn backend:",[20,310,311,317,323,329],{},[23,312,313,316],{},[96,314,315],{},"round-robin",": M·∫∑c ƒë·ªãnh, ph√¢n ph·ªëi ƒë·ªÅu cho c√°c request.",[23,318,319,322],{},[96,320,321],{},"least_conn",": Ch·ªçn server √≠t k·∫øt n·ªëi nh·∫•t.",[23,324,325,328],{},[96,326,327],{},"ip_hash",": Duy tr√¨ session cho client.",[23,330,331,334],{},[96,332,333],{},"least_time",": ch·ªçn server c√≥ th·ªùi gian ph·∫£n h·ªìi √≠t nh·∫•t",[10,336,337],{},"C√≥ th·ªÉ th√™m tr·ªçng s·ªë cho server b·∫±ng c√°ch th√™m s·ªë sau ip:port",[20,339,340],{},[23,341,342],{},"Ex: server 192.168.1.0:8000 weight=3;",[59,344],{":files":345},"[{\"title\":\"upstream.conf\",\"language\":\"nginx\",\"content\":\"upstream myapp1 {\\n    ip_hash;\\n    server 192.168.1.10:8000;\\n    server 192.168.2.10:8000;\\n    # server 192.168.1.10:8000 weight=3;\\n}\\n\"}]",[10,347,348],{},"C·∫•u h√¨nh server block proxy ƒë·∫øn upstream:",[59,350],{":files":351},"[{\"title\":\"proxy.conf\",\"language\":\"nginx\",\"content\":\"server {\\n  listen 80 default_server;\\n  server_name _;\\n  root /var/www/html;\\n  index index.html index.htm;\\n\\n  location / {\\n      proxy_pass http://myapp1;\\n      proxy_set_header Host $host;\\n      proxy_set_header X-Real-IP $remote_addr;\\n      proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\\n      proxy_set_header X-Forwarded-Proto $scheme;\\n  }\\n}\\n\"}]",[48,353],{},[51,355,357],{"id":356},"gzip-compression","üì¶ Gzip Compression",[10,359,360],{},"B·∫≠t gzip gi√∫p tƒÉng t·ªëc ƒë·ªô t·∫£i trang b·∫±ng c√°ch n√©n n·ªôi dung tr·∫£ v·ªÅ:",[59,362],{":files":363},"[{\"title\":\"gzip.conf\",\"language\":\"nginx\",\"content\":\"gzip on;\\ngzip_disable \\\"msie6\\\";\\ngzip_vary on;\\ngzip_proxied any;\\ngzip_comp_level 6;\\ngzip_types text/plain text/css application/json application/javascript text/xml application/xml application/xml+rss text/javascript;\\n\"}]",[48,365],{},[51,367,369],{"id":368},"k√≠ch-ho·∫°t-http2","‚ö° K√≠ch ho·∫°t HTTP/2",[10,371,372],{},"HTTP/2 c·∫£i thi·ªán hi·ªáu su·∫•t th√¥ng qua multiplexing v√† header compression:",[59,374],{":files":375},"[{\"title\":\"http2.conf\",\"language\":\"nginx\",\"content\":\"listen 443 ssl http2;\\n\"}]",[48,377],{},[51,379,381],{"id":380},"rate-limiting","üö¶ Rate Limiting",[10,383,384],{},"Gi·ªõi h·∫°n s·ªë l∆∞·ª£ng request ƒë·ªÉ tr√°nh DDoS v√† abuse:",[59,386],{":files":387},"[{\"title\":\"rate-limiting.conf\",\"language\":\"nginx\",\"content\":\"limit_req_zone $binary_remote_addr zone=mylimit:10m rate=1r/s;\\n\\nlocation /api/ {\\n    limit_req zone=mylimit burst=5;\\n}\\n\"}]",[48,389],{},[51,391,393],{"id":392},"redirect-v√†-rewrites","üîÅ Redirect v√† Rewrites",[10,395,396],{},"Chuy·ªÉn h∆∞·ªõng to√†n b·ªô traffic HTTP sang HTTPS:",[59,398],{":files":399},"[{\"title\":\"redirect.conf\",\"language\":\"nginx\",\"content\":\"server {\\n    listen 80;\\n    server_name example.com;\\n    return 301 https://$host$request_uri;\\n}\\nserver {\\n    listen 443 ssl;\\n    server_name example.com;\\n    ssl_certificate /path/to/cert.pem;\\n    ssl_certificate_key /path/to/key.pem;\\n}\\n\"}]",[10,401,402],{},"Vi·∫øt l·∫°i URL cho SPA:",[59,404],{":files":405},"[{\"title\":\"rewrite.conf\",\"language\":\"nginx\",\"content\":\"location /api/ {\\n    rewrite ^/api/(.*)$ /$1 break;\\n}\\n\"}]",[48,407],{},[51,409,411],{"id":410},"hardening-security","üîê Hardening & Security",[10,413,414],{},"B·∫£o v·ªá server b·∫±ng c√°ch t·ª´ ch·ªëi truy c·∫≠p file nh·∫°y c·∫£m:",[59,416],{":files":417},"[{\"title\":\"deny.conf\",\"language\":\"nginx\",\"content\":\"location ~* \\\\\\\\.(git|env|bak|log)$ {\\n  deny all;\\n}\\n\"}]",[10,419,420],{},"·∫®n th√¥ng tin server:",[59,422],{":files":423},"[{\"title\":\"security.conf\",\"language\":\"nginx\",\"content\":\"server_tokens off;\\n\"}]",[10,425,426],{},"Ch·ªëng clickjacking v√† XSS:",[59,428],{":files":429},"[{\"title\":\"headers.conf\",\"language\":\"nginx\",\"content\":\"add_header X-Content-Security-Policy \\\"default-src 'self'\\\";\\nadd_header X-Frame-Options \\\"DENY\\\";\\nadd_header X-XSS-Protection \\\"1; mode=block\\\";\\nadd_header Referrer-Policy \\\"no-referrer\\\";\\n\"}]",[48,431],{},[51,433,435],{"id":434},"logging-n√¢ng-cao","üìä Logging n√¢ng cao",[10,437,438],{},"C·∫•u h√¨nh custom log format ƒë·ªÉ d·ªÖ debug:",[59,440],{":files":441},"[{\"title\":\"logging.conf\",\"language\":\"nginx\",\"content\":\"log_format main '$remote_addr - $remote_user [$time_local] \\\"$request\\\" '\\n               '$status $body_bytes_sent \\\"$http_referer\\\" '\\n               '\\\"$http_user_agent\\\" \\\"$http_x_forwarded_for\\\"';\\naccess_log /var/log/nginx/access.log main;\\n\"}]",[48,443],{},[51,445,447],{"id":446},"t√†i-li·ªáu-tham-kh·∫£o","üìö T√†i li·ªáu tham kh·∫£o",[20,449,450,459,466,473],{},[23,451,452],{},[453,454,458],"a",{"href":455,"rel":456},"https://nginx.org/en/docs/",[457],"nofollow","Nginx Documentation",[23,460,461],{},[453,462,465],{"href":463,"rel":464},"https://docs.nginx.com/nginx/admin-guide/load-balancer/http-load-balancer/",[457],"Nginx Load Balancing Guide",[23,467,468],{},[453,469,472],{"href":470,"rel":471},"https://www.php.net/manual/en/install.fpm.configuration.php",[457],"Nginx + PHP-FPM Setup",[23,474,475],{},[453,476,479],{"href":477,"rel":478},"https://owasp.org/www-project-secure-headers/",[457],"OWASP Nginx Hardening Guide",[48,481],{},[483,484],"br",{},[10,486,487],{},[13,488,489],{},"T√≥m l·∫°i:",[10,491,492],{},"Nginx l√† c√¥ng c·ª• c·ª±c k·ª≥ m·∫°nh m·∫Ω v√† linh ho·∫°t, kh√¥ng ch·ªâ gi·ªõi h·∫°n ·ªü web server m√† c√≤n l√† reverse proxy, caching layer, v√† load balancer. Vi·ªác n·∫Øm v·ªØng v√† khai th√°c t·ªët c√°c t√≠nh nƒÉng s·∫Ω gi√∫p h·ªá th·ªëng c·ªßa b·∫°n hi·ªáu su·∫•t cao, b·∫£o m·∫≠t v√† d·ªÖ m·ªü r·ªông.",{"title":494,"searchDepth":236,"depth":236,"links":495},"",[],"2025-04-25T00:00:00.000Z","H∆∞·ªõng d·∫´n chi ti·∫øt v·ªÅ c·∫•u h√¨nh m·∫∑c ƒë·ªãnh, PHP-FPM v√† thi·∫øt l·∫≠p Load Balancer v·ªõi Nginx.","md","/images/blog/basic-nginx/banner.webp","nginx, c·∫•u h√¨nh, load balancer, php-fpm",{},true,"/blog/basic-nginx",{"title":5,"description":497},"blog/basic-nginx",[507],"nginx","HD2m_BWB56LMZrpcr_Dma_Q9HlPP695j9xqke5zmgZ8",[510,516,521,526,531,536,541,545,548,552,556,560,564,567,570,573,577,581,584,588,593,598,603,608,613,618,623,628,633,638,643,648,653,658,663,668,673,677,681,686,691,695,700,705,710,715,720,725,730,735,740,745,749,755,760,765,770,775,780,785],{"id":511,"title":512,"titles":513,"content":514,"level":515},"/blog/ansible","T·ªïng quan v√† c·∫•u h√¨nh Ansible",[],"H∆∞·ªõng d·∫´n chi ti·∫øt v·ªÅ c√†i ƒë·∫∑t, c·∫•u h√¨nh SSH, inventory v√† s·ª≠ d·ª•ng Playbook trong Ansible. H∆∞·ªõng d·∫´n chi ti·∫øt v·ªÅ c√†i ƒë·∫∑t v√† tri·ªÉn khai Ansible Ansible l√† m·ªôt c√¥ng c·ª• t·ª± ƒë·ªông h√≥a m·∫°nh m·∫Ω, gi√∫p qu·∫£n l√Ω c·∫•u h√¨nh, tri·ªÉn khai ·ª©ng d·ª•ng v√† ƒëi·ªÅu ph·ªëi h·ªá th·ªëng m·ªôt c√°ch d·ªÖ d√†ng. Trong b√†i vi·∫øt n√†y, ch√∫ng ta s·∫Ω t√¨m hi·ªÉu c√°ch c√†i ƒë·∫∑t, c·∫•u h√¨nh v√† s·ª≠ d·ª•ng Ansible th√¥ng qua c√°c v√≠ d·ª• th·ª±c t·∫ø.",1,{"id":517,"title":518,"titles":519,"content":520,"level":515},"/blog/ansible#Ô∏è-c√†i-ƒë·∫∑t-ansible","üõ†Ô∏è C√†i ƒë·∫∑t Ansible",[],"H∆∞·ªõng d·∫´n c√†i ƒë·∫∑t Ansible tr√™n Ubuntu: Sau khi c√†i ƒë·∫∑t, b·∫°n c√≥ th·ªÉ ki·ªÉm tra phi√™n b·∫£n Ansible:",{"id":522,"title":523,"titles":524,"content":525,"level":515},"/blog/ansible#c·∫•u-h√¨nh-ssh","üîë C·∫•u h√¨nh SSH",[],"ƒê·ªÉ Ansible c√≥ th·ªÉ k·∫øt n·ªëi ƒë·∫øn c√°c m√°y ch·ªß t·ª´ xa, b·∫°n c·∫ßn c·∫•u h√¨nh SSH. D∆∞·ªõi ƒë√¢y l√† c√°ch sao ch√©p SSH key ƒë·∫øn m√°y ch·ªß kh√°c: L∆∞u √Ω: Thay vinhtieng@123.3123.12 b·∫±ng t√™n ng∆∞·ªùi d√πng v√† ƒë·ªãa ch·ªâ IP c·ªßa m√°y ch·ªß t·ª´ xa.",{"id":527,"title":528,"titles":529,"content":530,"level":515},"/blog/ansible#hosts-inventory","üìã Hosts - Inventory",[],"File inventory l√† n∆°i b·∫°n ƒë·ªãnh nghƒ©a danh s√°ch c√°c m√°y ch·ªß m√† Ansible s·∫Ω qu·∫£n l√Ω. ƒê√¢y l√† m·ªôt v√≠ d·ª• c∆° b·∫£n:",{"id":532,"title":533,"titles":534,"content":535,"level":515},"/blog/ansible#ki·ªÉm-tra-k·∫øt-n·ªëi-ping","üèì Ki·ªÉm tra k·∫øt n·ªëi (Ping)",[],"B·∫°n c√≥ th·ªÉ ki·ªÉm tra k·∫øt n·ªëi ƒë·∫øn c√°c m√°y ch·ªß b·∫±ng l·ªánh ping: Ping v·ªõi file hosts m·∫∑c ƒë·ªãnh: Ping v·ªõi file inventory t√πy ch·ªânh:",{"id":537,"title":538,"titles":539,"content":540,"level":515},"/blog/ansible#playbook-task-module","üìú Playbook - Task - Module",[],"Playbook l√† n∆°i b·∫°n ƒë·ªãnh nghƒ©a c√°c t√°c v·ª• (tasks) c·∫ßn th·ª±c hi·ªán tr√™n c√°c m√°y ch·ªß. D∆∞·ªõi ƒë√¢y l√† c√°ch ch·∫°y m·ªôt playbook: V√≠ d·ª• v·ªÅ Playbook ƒë∆°n gi·∫£n:",{"id":542,"title":447,"titles":543,"content":544,"level":515},"/blog/ansible#t√†i-li·ªáu-tham-kh·∫£o",[],"Ansible DocumentationAnsible GalaxyAnsible Playbook Guide T√≥m l·∫°i: Ansible l√† c√¥ng c·ª• m·∫°nh m·∫Ω gi√∫p t·ª± ƒë·ªông h√≥a c√°c t√°c v·ª• qu·∫£n tr·ªã h·ªá th·ªëng. Vi·ªác n·∫Øm v·ªØng c√°ch s·ª≠ d·ª•ng Ansible s·∫Ω gi√∫p b·∫°n ti·∫øt ki·ªám th·ªùi gian v√† gi·∫£m thi·ªÉu l·ªói trong qu√° tr√¨nh qu·∫£n l√Ω h·ªá th·ªëng.",{"id":503,"title":5,"titles":546,"content":547,"level":515},[],"H∆∞·ªõng d·∫´n chi ti·∫øt v·ªÅ c·∫•u h√¨nh m·∫∑c ƒë·ªãnh, PHP-FPM v√† thi·∫øt l·∫≠p Load Balancer v·ªõi Nginx. H∆∞·ªõng d·∫´n chi ti·∫øt v·ªÅ c·∫•u h√¨nh v√† tri·ªÉn khai Nginx Nginx l√† m·ªôt web server m√£ ngu·ªìn m·ªü m·∫°nh m·∫Ω, ƒë∆∞·ª£c s·ª≠ d·ª•ng ph·ªï bi·∫øn ƒë·ªÉ ph·ª•c v·ª• n·ªôi dung tƒ©nh, reverse proxy, c√¢n b·∫±ng t·∫£i, b·∫£o m·∫≠t v√† h·ªó tr·ª£ PHP th√¥ng qua FastCGI. Trong b√†i vi·∫øt n√†y, ch√∫ng ta s·∫Ω ƒëi qua c√°c c·∫•u h√¨nh t·ª´ c∆° b·∫£n ƒë·∫øn n√¢ng cao, bao g·ªìm: C√°ch c√†i ƒë·∫∑t NginxC·∫•u h√¨nh m√°y ch·ªß m·∫∑c ƒë·ªãnh (default host)T√≠ch h·ª£p v·ªõi PHP-FPMThi·∫øt l·∫≠p Load Balancer (c√¢n b·∫±ng t·∫£i)Gzip, HTTP/2, Rate limitingRedirect, RewritesHardening & SecurityLogging n√¢ng cao",{"id":549,"title":54,"titles":550,"content":551,"level":515},"/blog/basic-nginx#Ô∏è-c√†i-ƒë·∫∑t-nginx",[],"H∆∞·ªõng d·∫´n c√†i ƒë·∫∑t Nginx tr√™n Ubuntu: Sau khi c√†i ƒë·∫∑t, b·∫°n c√≥ th·ªÉ ki·ªÉm tra tr·∫°ng th√°i Nginx: Ki·ªÉm tra t∆∞·ªùng l·ª≠a: Sau khi c√†i ƒë·∫∑t Nginx, b·∫°n n√™n ƒë·∫£m b·∫£o r·∫±ng t∆∞·ªùng l·ª≠a (firewall) cho ph√©p l∆∞u l∆∞·ª£ng HTTP v√† HTTPS ƒë·ªÉ m√°y ch·ªß c√≥ th·ªÉ ph·ª•c v·ª• n·ªôi dung web. L·ªánh sudo ufw allow 'Nginx Full' s·∫Ω m·ªü c·∫£ hai c·ªïng 80 (HTTP) v√† 443 (HTTPS).\nSau ƒë√≥, d√πng sudo ufw status ƒë·ªÉ x√°c nh·∫≠n r·∫±ng c√°c c·ªïng n√†y ƒë√£ ƒë∆∞·ª£c m·ªü. N·∫øu b·∫°n ch∆∞a b·∫≠t ufw (Uncomplicated Firewall), b·∫°n c√≥ th·ªÉ b·∫≠t b·∫±ng l·ªánh sudo ufw enable. Tuy nhi√™n, h√£y ƒë·∫£m b·∫£o c·∫•u h√¨nh ch√≠nh x√°c ƒë·ªÉ kh√¥ng b·ªã kh√≥a SSH. Ki·ªÉm tra ho·∫°t ƒë·ªông c·ªßa Nginx: M·ªü tr√¨nh duy·ªát v√† truy c·∫≠p ƒë·ªãa ch·ªâ:\nüëâ http://\u003Cƒë·ªãa_ch·ªâ_IP_c·ªßa_b·∫°n> ho·∫∑c http://localhost n·∫øu ki·ªÉm tra c·ª•c b·ªô. B·∫°n s·∫Ω th·∫•y trang m·∫∑c ƒë·ªãnh ‚ÄúWelcome to nginx!‚Äù n·∫øu m·ªçi th·ª© ho·∫°t ƒë·ªông ƒë√∫ng c√°ch.",{"id":553,"title":110,"titles":554,"content":555,"level":515},"/blog/basic-nginx#Ô∏è-c·∫•u-h√¨nh-default-host-trong-nginx",[],"Tr√™n Ubuntu, file c·∫•u h√¨nh c·ªßa Nginx th∆∞·ªùng ƒë∆∞·ª£c l∆∞u t·∫°i c√°c v·ªã tr√≠ sau: /etc/nginx/sites-available/default (N·∫øu s·ª≠ d·ª•ng th∆∞ m·ª•c sites-available v√† sites-enabled)./etc/nginx/conf.d/default.conf (Th√¥ng d·ª•ng cho c√°c c·∫•u h√¨nh ƒë∆°n gi·∫£n). M·∫∑c ƒë·ªãnh, khi c√†i ƒë·∫∑t Nginx, s·∫Ω c√≥ m·ªôt file c·∫•u h√¨nh default trong th∆∞ m·ª•c /etc/nginx/sites-available/ v·ªõi m·ªôt s·ªë c·∫•u h√¨nh c∆° b·∫£n. B·∫°n c√≥ th·ªÉ s·ª≠a file n√†y ƒë·ªÉ c·∫•u h√¨nh server block cho website c·ªßa m√¨nh. C·∫•u h√¨nh Default Host M·ªü file c·∫•u h√¨nh Nginx m·∫∑c ƒë·ªãnh: M·∫∑c ƒë·ªãnh, Nginx s·∫Ω ch·ªçn block ƒë·∫ßu ti√™n khi kh√¥ng t√¨m th·∫•y server_name t∆∞∆°ng ·ª©ng. ƒê·ªÉ c·∫•u h√¨nh r√µ r√†ng host m·∫∑c ƒë·ªãnh, b·∫°n th√™m default_server v√†o d√≤ng listen: Ghi ch√∫: listen 80 default_server;: C·∫•u h√¨nh Nginx l·∫Øng nghe c·ªïng 80 (HTTP) v√† ƒë√°nh d·∫•u ƒë√¢y l√† default_server (server m·∫∑c ƒë·ªãnh cho c√°c y√™u c·∫ßu kh√¥ng kh·ªõp v·ªõi server block kh√°c).root /var/www/html;: ƒê∆∞·ªùng d·∫´n t·ªõi th∆∞ m·ª•c ch·ª©a c√°c t·ªáp tin c·ªßa website. B·∫°n c√≥ th·ªÉ thay ƒë·ªïi ƒë∆∞·ªùng d·∫´n n√†y th√†nh th∆∞ m·ª•c c·ªßa website b·∫°n mu·ªën ph·ª•c v·ª•.server_name _;: Ch·ªâ th·ªã n√†y cho ph√©p server ch·∫•p nh·∫≠n t·∫•t c·∫£ c√°c y√™u c·∫ßu kh√¥ng kh·ªõp v·ªõi server block kh√°c. N·∫øu b·∫°n c√≥ t√™n mi·ªÅn c·ª• th·ªÉ, h√£y thay th·∫ø d·∫•u g·∫°ch d∆∞·ªõi (_) b·∫±ng t√™n mi·ªÅn c·ªßa b·∫°n.location /: ƒê√¢y l√† ph·∫ßn c·∫•u h√¨nh ƒë·ªãnh tuy·∫øn cho c√°c y√™u c·∫ßu ƒë·∫øn. C·∫•u h√¨nh n√†y gi√∫p Nginx t√¨m ki·∫øm c√°c t·ªáp tin khi ng∆∞·ªùi d√πng truy c·∫≠p v√†o website.try_files $uri $uri/ =404;: N·∫øu y√™u c·∫ßu kh√¥ng tr√πng kh·ªõp v·ªõi t·ªáp tin ho·∫∑c th∆∞ m·ª•c, s·∫Ω tr·∫£ v·ªÅ l·ªói 404. Sau khi ch·ªânh s·ª≠a xong, b·∫°n c·∫ßn ki·ªÉm tra xem c·∫•u h√¨nh c√≥ ch√≠nh x√°c kh√¥ng: N·∫øu kh√¥ng c√≥ l·ªói n√†o, b·∫°n c√≥ th·ªÉ kh·ªüi ƒë·ªông l·∫°i Nginx ƒë·ªÉ √°p d·ª•ng c·∫•u h√¨nh m·ªõi: Gi·ªõi thi·ªáu v·ªÅ sites-available v√† sites-enabled Trong Nginx, th∆∞ m·ª•c sites-available v√† sites-enabled l√† m·ªôt c∆° ch·∫ø ƒë·ªÉ qu·∫£n l√Ω c√°c website (virtual hosts) m√† Nginx c√≥ th·ªÉ ph·ª•c v·ª•. C·∫•u tr√∫c n√†y gi√∫p d·ªÖ d√†ng b·∫≠t/t·∫Øt c√°c website m√† kh√¥ng c·∫ßn ph·∫£i x√≥a ho·∫∑c thay ƒë·ªïi c·∫•u h√¨nh tr·ª±c ti·∫øp. sites-available: ƒê√¢y l√† n∆°i b·∫°n t·∫°o v√† l∆∞u tr·ªØ t·∫•t c·∫£ c√°c file c·∫•u h√¨nh c·ªßa c√°c website ho·∫∑c ·ª©ng d·ª•ng m√† b·∫°n mu·ªën Nginx ph·ª•c v·ª•.M·ªói file c·∫•u h√¨nh trong sites-available ƒë·∫°i di·ªán cho m·ªôt website ho·∫∑c ·ª©ng d·ª•ng ri√™ng bi·ªát.V√≠ d·ª•: /etc/nginx/sites-available/example.com l√† c·∫•u h√¨nh cho website example.com. sites-enabled: ƒê√¢y l√† n∆°i ch·ª©a c√°c li√™n k·∫øt t∆∞·ª£ng tr∆∞ng (symlink) ƒë·∫øn c√°c file c·∫•u h√¨nh trong sites-available m√† b·∫°n mu·ªën Nginx th·ª±c thi.C√°c li√™n k·∫øt n√†y cho ph√©p Nginx bi·∫øt ƒë∆∞·ª£c website n√†o s·∫Ω ƒë∆∞·ª£c k√≠ch ho·∫°t.B·∫°n kh√¥ng n√™n tr·ª±c ti·∫øp ch·ªânh s·ª≠a c√°c file trong sites-enabled. Thay v√†o ƒë√≥, b·∫°n t·∫°o symlink t·ª´ sites-available. C√°ch th·ª©c ho·∫°t ƒë·ªông: Khi b·∫°n t·∫°o m·ªôt file c·∫•u h√¨nh trong sites-available, b·∫°n c√≥ th·ªÉ k√≠ch ho·∫°t n√≥ b·∫±ng c√°ch t·∫°o m·ªôt symlink ƒë·∫øn file ƒë√≥ trong th∆∞ m·ª•c sites-enabled.ƒê·ªÉ t·∫°o symlink, s·ª≠ d·ª•ng l·ªánh ln -s. V√≠ d·ª•, n·∫øu b·∫°n c√≥ c·∫•u h√¨nh example.com trong sites-available, b·∫°n c√≥ th·ªÉ t·∫°o symlink v√†o sites-enabled nh∆∞ sau:",{"id":557,"title":277,"titles":558,"content":559,"level":515},"/blog/basic-nginx#c·∫•u-h√¨nh-nginx-v·ªõi-php-fpm",[],"ƒê·ªÉ x·ª≠ l√Ω c√°c file PHP, b·∫°n c·∫ßn k·∫øt n·ªëi Nginx v·ªõi PHP-FPM qua socket ho·∫∑c TCP: L∆∞u √Ω: ƒê∆∞·ªùng d·∫´n socket c√≥ th·ªÉ thay ƒë·ªïi t√πy phi√™n b·∫£n PHP.N·∫øu d√πng TCP:",{"id":561,"title":305,"titles":562,"content":563,"level":515},"/blog/basic-nginx#load-balancer-trong-nginx",[],"Nginx h·ªó tr·ª£ c·∫•u h√¨nh c√¢n b·∫±ng t·∫£i v·ªõi nhi·ªÅu thu·∫≠t to√°n l·ª±a ch·ªçn backend: round-robin: M·∫∑c ƒë·ªãnh, ph√¢n ph·ªëi ƒë·ªÅu cho c√°c request.least_conn: Ch·ªçn server √≠t k·∫øt n·ªëi nh·∫•t.ip_hash: Duy tr√¨ session cho client.least_time: ch·ªçn server c√≥ th·ªùi gian ph·∫£n h·ªìi √≠t nh·∫•t C√≥ th·ªÉ th√™m tr·ªçng s·ªë cho server b·∫±ng c√°ch th√™m s·ªë sau ip:port Ex: server 192.168.1.0:8000 weight=3; C·∫•u h√¨nh server block proxy ƒë·∫øn upstream:",{"id":565,"title":357,"titles":566,"content":360,"level":515},"/blog/basic-nginx#gzip-compression",[],{"id":568,"title":369,"titles":569,"content":372,"level":515},"/blog/basic-nginx#k√≠ch-ho·∫°t-http2",[],{"id":571,"title":381,"titles":572,"content":384,"level":515},"/blog/basic-nginx#rate-limiting",[],{"id":574,"title":393,"titles":575,"content":576,"level":515},"/blog/basic-nginx#redirect-v√†-rewrites",[],"Chuy·ªÉn h∆∞·ªõng to√†n b·ªô traffic HTTP sang HTTPS: Vi·∫øt l·∫°i URL cho SPA:",{"id":578,"title":411,"titles":579,"content":580,"level":515},"/blog/basic-nginx#hardening-security",[],"B·∫£o v·ªá server b·∫±ng c√°ch t·ª´ ch·ªëi truy c·∫≠p file nh·∫°y c·∫£m: ·∫®n th√¥ng tin server: Ch·ªëng clickjacking v√† XSS:",{"id":582,"title":435,"titles":583,"content":438,"level":515},"/blog/basic-nginx#logging-n√¢ng-cao",[],{"id":585,"title":447,"titles":586,"content":587,"level":515},"/blog/basic-nginx#t√†i-li·ªáu-tham-kh·∫£o",[],"Nginx DocumentationNginx Load Balancing GuideNginx + PHP-FPM SetupOWASP Nginx Hardening Guide T√≥m l·∫°i: Nginx l√† c√¥ng c·ª• c·ª±c k·ª≥ m·∫°nh m·∫Ω v√† linh ho·∫°t, kh√¥ng ch·ªâ gi·ªõi h·∫°n ·ªü web server m√† c√≤n l√† reverse proxy, caching layer, v√† load balancer. Vi·ªác n·∫Øm v·ªØng v√† khai th√°c t·ªët c√°c t√≠nh nƒÉng s·∫Ω gi√∫p h·ªá th·ªëng c·ªßa b·∫°n hi·ªáu su·∫•t cao, b·∫£o m·∫≠t v√† d·ªÖ m·ªü r·ªông.",{"id":589,"title":590,"titles":591,"content":592,"level":515},"/blog/basic-redis","C∆° B·∫£n V·ªÅ Redis v√† T√≠ch H·ª£p V·ªõi Node.js",[],"T√¨m hi·ªÉu c√°c kh√°i ni·ªám c∆° b·∫£n v·ªÅ Redis bao g·ªìm c√°c ki·ªÉu d·ªØ li·ªáu v√† ph∆∞∆°ng th·ª©c, c≈©ng nh∆∞ c√°ch t√≠ch h·ª£p Redis v√†o ·ª©ng d·ª•ng Node.js ƒë·ªÉ s·ª≠ d·ª•ng b·ªô nh·ªõ ƒë·ªám v√† c√°c t√≠nh nƒÉng th·ªùi gian th·ª±c. C∆° B·∫£n V·ªÅ Redis v√† T√≠ch H·ª£p V·ªõi Node.js Redis l√† m·ªôt kho d·ªØ li·ªáu key-value trong b·ªô nh·ªõ, m√£ ngu·ªìn m·ªü, n·ªïi ti·∫øng v·ªõi hi·ªáu su·∫•t v√† t√≠nh linh ho·∫°t. Redis h·ªó tr·ª£ nhi·ªÅu ki·ªÉu d·ªØ li·ªáu, ph√π h·ª£p cho vi·ªác s·ª≠ d·ª•ng b·ªô nh·ªõ ƒë·ªám, ·ª©ng d·ª•ng th·ªùi gian th·ª±c, h·ªá th·ªëng pub/sub, v√† nhi·ªÅu h∆°n n·ªØa. Trong h∆∞·ªõng d·∫´n n√†y, ch√∫ng ta s·∫Ω t√¨m hi·ªÉu: C√°c ki·ªÉu d·ªØ li·ªáu trong RedisC√°c l·ªánh ph·ªï bi·∫øn c·ªßa RedisC√°ch t√≠ch h·ª£p Redis v√†o d·ª± √°n Node.js",{"id":594,"title":595,"titles":596,"content":597,"level":515},"/blog/basic-redis#c√°c-ki·ªÉu-d·ªØ-li·ªáu-l·ªánh-redis","üì¶ C√°c Ki·ªÉu D·ªØ Li·ªáu & L·ªánh Redis",[],"Redis h·ªó tr·ª£ nhi·ªÅu c·∫•u tr√∫c d·ªØ li·ªáu kh√°c nhau:",{"id":599,"title":600,"titles":601,"content":602,"level":236},"/blog/basic-redis#_1-chu·ªói-strings","1. Chu·ªói (Strings)",[595],"Chu·ªói l√† ki·ªÉu d·ªØ li·ªáu c∆° b·∫£n nh·∫•t trong Redis. B·∫°n c√≥ th·ªÉ l∆∞u tr·ªØ b·∫•t k·ª≥ gi√° tr·ªã n√†o d∆∞·ªõi d·∫°ng chu·ªói, bao g·ªìm c·∫£ s·ªë nguy√™n v√† JSON ƒë∆∞·ª£c tu·∫ßn t·ª± h√≥a.",{"id":604,"title":605,"titles":606,"content":607,"level":236},"/blog/basic-redis#_2-danh-s√°ch-lists","2. Danh s√°ch (Lists)",[595],"Danh s√°ch l√† c√°c t·∫≠p h·ª£p c√≥ th·ª© t·ª± c·ªßa chu·ªói. B·∫°n c√≥ th·ªÉ th√™m ph·∫ßn t·ª≠ v√†o ƒë·∫ßu ho·∫∑c cu·ªëi danh s√°ch.",{"id":609,"title":610,"titles":611,"content":612,"level":236},"/blog/basic-redis#_3-t·∫≠p-h·ª£p-sets","3. T·∫≠p h·ª£p (Sets)",[595],"T·∫≠p h·ª£p l√† c√°c t·∫≠p h·ª£p kh√¥ng c√≥ th·ª© t·ª± c·ªßa c√°c chu·ªói duy nh·∫•t. Ch√∫ng h·ªó tr·ª£ c√°c ph√©p to√°n nh∆∞ h·ª£p, giao, v√† hi·ªáu.",{"id":614,"title":615,"titles":616,"content":617,"level":236},"/blog/basic-redis#_4-bƒÉm-hashes","4. BƒÉm (Hashes)",[595],"BƒÉm l√† c√°c b·∫£n ƒë·ªì gi·ªØa tr∆∞·ªùng chu·ªói v√† gi√° tr·ªã chu·ªói, r·∫•t l√Ω t∆∞·ªüng ƒë·ªÉ bi·ªÉu di·ªÖn c√°c ƒë·ªëi t∆∞·ª£ng.",{"id":619,"title":620,"titles":621,"content":622,"level":236},"/blog/basic-redis#_5-t·∫≠p-h·ª£p-c√≥-th·ª©-t·ª±-sorted-sets","5. T·∫≠p h·ª£p c√≥ th·ª© t·ª± (Sorted Sets)",[595],"T·∫≠p h·ª£p c√≥ th·ª© t·ª± t∆∞∆°ng t·ª± nh∆∞ t·∫≠p h·ª£p nh∆∞ng c√≥ m·ªôt ƒëi·ªÉm s·ªë li√™n k·∫øt v·ªõi m·ªói ph·∫ßn t·ª≠, cho ph√©p truy xu·∫•t theo th·ª© t·ª±.",{"id":624,"title":625,"titles":626,"content":627,"level":236},"/blog/basic-redis#_6-bitmaps-hyperloglogs-streams","6. Bitmaps, HyperLogLogs, Streams",[595],"ƒê√¢y l√† c√°c c·∫•u tr√∫c n√¢ng cao h∆°n:\nBitmaps ƒë∆∞·ª£c s·ª≠ d·ª•ng cho c√°c thao t√°c c·∫•p bit, cho ph√©p b·∫°n thao t√°c c√°c bit ri√™ng l·∫ª trong m·ªôt chu·ªói. HyperLogLogs ƒë∆∞·ª£c s·ª≠ d·ª•ng ƒë·ªÉ ∆∞·ªõc t√≠nh s·ªë l∆∞·ª£ng ph·∫ßn t·ª≠ duy nh·∫•t trong m·ªôt t·∫≠p h·ª£p, r·∫•t h·ªØu √≠ch cho c√°c tr∆∞·ªùng h·ª£p nh∆∞ theo d√µi s·ªë l∆∞·ª£ng kh√°ch truy c·∫≠p duy nh·∫•t. Streams ƒë∆∞·ª£c thi·∫øt k·∫ø cho c√°c ƒë∆∞·ªùng d·∫´n d·ªØ li·ªáu th·ªùi gian th·ª±c v√† ngu·ªìn s·ª± ki·ªán, cho ph√©p b·∫°n th√™m v√† truy v·∫•n d·ªØ li·ªáu theo chu·ªói th·ªùi gian.",{"id":629,"title":630,"titles":631,"content":632,"level":515},"/blog/basic-redis#t√≠ch-h·ª£p-redis-v·ªõi-nodejs","üîß T√≠ch H·ª£p Redis V·ªõi Node.js",[],"B·∫°n c√≥ th·ªÉ s·ª≠ d·ª•ng th∆∞ vi·ªán ioredis ho·∫∑c redis client ph·ªï bi·∫øn. D∆∞·ªõi ƒë√¢y l√† m·ªôt v√≠ d·ª• v·ªõi ioredis.",{"id":634,"title":635,"titles":636,"content":637,"level":236},"/blog/basic-redis#_1-c√†i-ƒë·∫∑t-redis-v√†-ioredis","1. C√†i ƒê·∫∑t Redis v√† ioredis",[630],"ƒê·∫£m b·∫£o r·∫±ng b·∫°n ƒë√£ c√†i ƒë·∫∑t v√† ch·∫°y Redis. B·∫°n c√≥ th·ªÉ s·ª≠ d·ª•ng Docker ƒë·ªÉ ch·∫°y Redis m·ªôt c√°ch d·ªÖ d√†ng:",{"id":639,"title":640,"titles":641,"content":642,"level":236},"/blog/basic-redis#_2-thi·∫øt-l·∫≠p-c∆°-b·∫£n","2. Thi·∫øt L·∫≠p C∆° B·∫£n",[630],"T·∫°o m·ªôt t·ªáp c√≥ t√™n redis.js v√† th√™m ƒëo·∫°n m√£ sau:",{"id":644,"title":645,"titles":646,"content":647,"level":236},"/blog/basic-redis#_3-s·ª≠-d·ª•ng-redis-trong-·ª©ng-d·ª•ng","3. S·ª≠ D·ª•ng Redis Trong ·ª®ng D·ª•ng",[630],"B√¢y gi·ªù b·∫°n c√≥ th·ªÉ s·ª≠ d·ª•ng Redis trong ·ª©ng d·ª•ng c·ªßa m√¨nh. D∆∞·ªõi ƒë√¢y l√† m·ªôt v√≠ d·ª• v·ªÅ vi·ªác thi·∫øt l·∫≠p v√† l·∫•y gi√° tr·ªã:",{"id":649,"title":650,"titles":651,"content":652,"level":236},"/blog/basic-redis#_4-v√≠-d·ª•-v·ªÅ-b·ªô-nh·ªõ-ƒë·ªám","4. V√≠ D·ª• V·ªÅ B·ªô Nh·ªõ ƒê·ªám",[630],"B·∫°n c√≥ th·ªÉ s·ª≠ d·ª•ng Redis l√†m b·ªô nh·ªõ ƒë·ªám ƒë·ªÉ l∆∞u tr·ªØ d·ªØ li·ªáu ƒë∆∞·ª£c truy c·∫≠p th∆∞·ªùng xuy√™n. D∆∞·ªõi ƒë√¢y l√† m·ªôt v√≠ d·ª• v·ªÅ vi·ªác l∆∞u tr·ªØ k·∫øt qu·∫£ truy v·∫•n c∆° s·ªü d·ªØ li·ªáu v√†o b·ªô nh·ªõ ƒë·ªám:",{"id":654,"title":655,"titles":656,"content":657,"level":236},"/blog/basic-redis#_5-k·∫øt-lu·∫≠n","5. K·∫øt Lu·∫≠n",[630],"Redis l√† m·ªôt c√¥ng c·ª• m·∫°nh m·∫Ω cho b·ªô nh·ªõ ƒë·ªám v√† c√°c ·ª©ng d·ª•ng th·ªùi gian th·ª±c. B·∫±ng c√°ch t√≠ch h·ª£p Redis v√†o c√°c d·ª± √°n Node.js, b·∫°n c√≥ th·ªÉ c·∫£i thi·ªán ƒë√°ng k·ªÉ hi·ªáu su·∫•t v√† kh·∫£ nƒÉng m·ªü r·ªông. H∆∞·ªõng d·∫´n n√†y ƒë√£ bao qu√°t c√°c kh√°i ni·ªám c∆° b·∫£n v·ªÅ ki·ªÉu d·ªØ li·ªáu, l·ªánh, v√† c√°ch s·ª≠ d·ª•ng Redis trong ·ª©ng d·ª•ng Node.js.\nH√£y kh√°m ph√° th√™m c√°c t√≠nh nƒÉng n√¢ng cao nh∆∞ giao d·ªãch, scripting Lua, v√† clustering khi b·∫°n ƒë√£ quen thu·ªôc h∆°n v·ªõi Redis.\nRedis l√† m·ªôt c√¥ng c·ª• ƒëa nƒÉng c√≥ th·ªÉ n√¢ng cao ƒë√°ng k·ªÉ ·ª©ng d·ª•ng c·ªßa b·∫°n. Happy Coding",{"id":659,"title":660,"titles":661,"content":662,"level":236},"/blog/basic-redis#_6-t√†i-nguy√™n-tham-kh·∫£o","6. T√†i Nguy√™n Tham Kh·∫£o",[630],"T√†i li·ªáu RedisT√†i li·ªáu ioredis",{"id":664,"title":665,"titles":666,"content":667,"level":515},"/blog/common-docker-file","C√°c Dockerfile Ph·ªï Bi·∫øn Cho Nhi·ªÅu D·ª± √Ån Kh√°c Nhau",[],"T√¨m hi·ªÉu v·ªÅ Docker v√† kh√°m ph√° c√°c Dockerfile ph·ªï bi·∫øn cho nhi·ªÅu d·ª± √°n nh∆∞ Node.js, PHP v·ªõi Laravel, React, Vue, Nuxt v√† Next.js. Kh√°m ph√° c√°c k·ªπ thu·∫≠t t·ªëi ∆∞u v√† th·ª±c h√†nh t·ªët nh·∫•t. C√°c Dockerfile Ph·ªï Bi·∫øn Cho Nhi·ªÅu D·ª± √Ån Kh√°c Nhau Docker l√† m·ªôt c√¥ng c·ª• ·∫£o h√≥a nh·∫π gi√∫p ph√°t tri·ªÉn, tri·ªÉn khai v√† ch·∫°y ·ª©ng d·ª•ng trong c√°c container. N√≥ cho ph√©p b·∫°n ƒë√≥ng g√≥i ·ª©ng d·ª•ng v√† t·∫•t c·∫£ c√°c ph·ª• thu·ªôc c·ªßa n√≥ v√†o m·ªôt container duy nh·∫•t, gi√∫p d·ªÖ d√†ng tri·ªÉn khai tr√™n b·∫•t k·ª≥ m√¥i tr∆∞·ªùng n√†o m√† kh√¥ng c·∫ßn lo l·∫Øng v·ªÅ s·ª± kh√°c bi·ªát gi·ªØa c√°c m√¥i tr∆∞·ªùng. ƒê√¢y l√† m·ªôt s·ªë Dockerfile cho c√°c d·ª± √°n th∆∞·ªùng g·∫∑p, b·∫°n c√≥ th·ªÉ tham kh·∫£o v√† ƒëi·ªÅu ch·ªânh theo nhu c·∫ßu c·ªßa m√¨nh. N·ªôi dung b√†i vi·∫øt ƒë∆∞·ª£c t·ªïng h·ª£p v√† t√≠ch g√≥p t·ª´ nhi·ªÅu ngu·ªìn kh√°c nhau, bao g·ªìm c·∫£ c√°c d·ª± √°n th·ª±c t·∫ø m√† m√¨nh ƒë√£ l√†m.",{"id":669,"title":670,"titles":671,"content":672,"level":236},"/blog/common-docker-file#dockerfile-cho-nodejs","Dockerfile cho Node.js",[665],"Dockerfile cho Node.js r·∫•t quan tr·ªçng khi tri·ªÉn khai ·ª©ng d·ª•ng JavaScript ph√≠a server. ƒê√¢y l√† m·ªôt Dockerfile ƒë√£ ƒë∆∞·ª£c t·ªëi ∆∞u cho m·ªôt d·ª± √°n Node.js ƒëi·ªÉn h√¨nh: C√°ch 2, s·ª≠ d·ª•ng pm2. V·ªÅ c∆° b·∫£n th√¨ c√°ch n√†y nh·∫π h∆°n kha kh√° so v·ªõi npm",{"id":674,"title":675,"titles":676,"content":494,"level":236},"/blog/common-docker-file#dockerfile-nodejs-nestjs","Dockerfile NodeJS (NestJS)",[665],{"id":678,"title":679,"titles":680,"content":494,"level":236},"/blog/common-docker-file#dockerfile-nodejs-expressjs","Dockerfile NodeJS (Express.js)",[665],{"id":682,"title":683,"titles":684,"content":685,"level":236},"/blog/common-docker-file#dockerfile-reactjs","Dockerfile ReactJs",[665],"C√≥ th·ªÉ s·ª≠ d·ª•ng Dockerfile n√†y cho c√°c d·ª± √°n nh∆∞ Vue, Angular,... L∆∞u √Ω: ·ªü ƒë√¢y th∆∞ m·ª•c ch·ª©a nginx/nginx.conf ƒë·∫∑t c√πng c·∫•p v·ªõi Dockerfile",{"id":687,"title":688,"titles":689,"content":690,"level":236},"/blog/common-docker-file#dockerfile-cho-php-v·ªõi-laravel","Dockerfile cho PHP v·ªõi Laravel",[665],"L∆∞u √Ω: th∆∞ m·ª•c conf/nginx.conf v√† conf/supervisord.conf c√πng c·∫•p v·ªõi Dockerfile",{"id":692,"title":693,"titles":694,"content":494,"level":236},"/blog/common-docker-file#dockerfile-cho-nextjs","Dockerfile cho NextJs",[665],{"id":696,"title":697,"titles":698,"content":699,"level":236},"/blog/common-docker-file#ƒëang-c·∫≠p-nh·∫≠t","ƒêang c·∫≠p nh·∫≠t...",[665],"N·∫øu b·∫°n c√≥ c√°c c·∫•u h√¨nh ho·∫∑c Dockerfile kh√°c mu·ªën chia s·∫ª, vui l√≤ng g·ª≠i email v·ªÅ vinhtieng123@gmail.com. M√¨nh r·∫•t tr√¢n tr·ªçng ƒëi·ªÅu ƒë√≥.",{"id":701,"title":702,"titles":703,"content":704,"level":515},"/blog/jwt","JWT l√† g√¨? C√°ch ho·∫°t ƒë·ªông v√† ·ª©ng d·ª•ng th·ª±c t·∫ø",[],"JWT (JSON Web Token) l√† g√¨? C√°ch JWT ho·∫°t ƒë·ªông, c·∫•u tr√∫c g·ªìm Header, Payload, Signature v√† c√°ch ·ª©ng d·ª•ng trong x√°c th·ª±c b·∫£o m·∫≠t.",{"id":706,"title":707,"titles":708,"content":709,"level":515},"/blog/jwt#_1-gi·ªõi-thi·ªáu-v·ªÅ-jwt","1. Gi·ªõi thi·ªáu v·ªÅ JWT",[],"JSON Web Token (JWT) l√† m·ªôt ti√™u chu·∫©n m·ªü ( RFC 7519 ) ƒë·ªãnh nghƒ©a m·ªôt c√°ch th·ª©c nh·ªè g·ªçn v√† ƒë·ªôc l·∫≠p ƒë·ªÉ truy·ªÅn th√¥ng tin an to√†n gi·ªØa c√°c b√™n d∆∞·ªõi d·∫°ng ƒë·ªëi t∆∞·ª£ng JSON. Th√¥ng tin n√†y c√≥ th·ªÉ ƒë∆∞·ª£c x√°c minh v√† tin c·∫≠y v√¨ n√≥ ƒë∆∞·ª£c k√Ω k·ªπ thu·∫≠t s·ªë. JWT c√≥ th·ªÉ ƒë∆∞·ª£c k√Ω b·∫±ng m·ªôt b√≠ m·∫≠t (v·ªõi thu·∫≠t to√°n HMAC ) ho·∫∑c m·ªôt c·∫∑p kh√≥a c√¥ng khai/ri√™ng t∆∞ b·∫±ng RSA ho·∫∑c ECDSA . Tr√≠ch t·ª´: https://jwt.io/introduction",{"id":711,"title":712,"titles":713,"content":714,"level":515},"/blog/jwt#_2-c√°c-th√†nh-ph·∫ßn-c·ªßa-jwt","2. C√°c th√†nh ph·∫ßn c·ªßa JWT",[],"JWT bao g·ªìm ba th√†nh ph·∫ßn ch√≠nh: Header, Payload v√† Signature. M·ªói ph·∫ßn ƒë·ªÅu ƒë∆∞·ª£c m√£ h√≥a b·∫±ng Base64Url v√† ƒë∆∞·ª£c ph√¢n t√°ch b·∫±ng d·∫•u ch·∫•m (.).\nM·ªôt JWT token th∆∞·ªùng s·∫Ω tr√¥ng nh∆∞ sau: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c nh∆∞ v·∫≠y v·ªõi JWT token ·ªü tr√™n th√¨ c√°c th√†nh ph·∫ßn sau khi ƒë∆∞·ª£c m√£ h√≥a s·∫Ω l√†: Header: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9Payload: eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQSignature: SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c Chi ti·∫øt v·ªÅ c√°c th√†nh ph·∫ßn Header: Th∆∞·ªùng s·∫Ω ch·ª©a th√¥ng tin v·ªÅ thu·∫≠t to√°n m√£ h√≥a v√† lo·∫°i token. V√≠ d·ª•: Payload: ƒê√¢y l√† ph·∫ßn s·∫Ω ch·ª©a c√°c th√¥ng tin m√† ch√∫ng ta mu·ªën m√£ h√≥a v√† truy·ªÅn t·∫£i. Th∆∞·ªùng th√¨ ch√∫ng ta s·∫Ω l∆∞u th√¥ng tin ng∆∞·ªùi d√πng, user_id,... L∆∞u √Ω r·∫±ng JWT token kh√¥ng c√≥ h·∫øt h·∫°n, tuy nhi√™n ch√∫ng ta c√≥ th·ªÉ gi·ªõi h·∫°n th·ªùi gian s·ªëng c·ªßa token b·∫±ng c√°ch th√™m c√°c tr∆∞·ªùng nh∆∞ exp, nbf, iat v√†o payload. V√† khi ch√∫ng ta x√°c th·ª±c token ch√∫ng ta s·∫Ω c·∫ßn th√™m m·ªôt b∆∞·ªõc ki·ªÉm tra th·ªùi gian s·ªëng c·ªßa token. Nh∆∞ v·∫≠y ch√∫ng ta c√≥ th·ªÉ s·ª≠ d·ª•ng JWT token nh∆∞ m·ªôt session token. V√≠ d·ª• v·ªÅ payload: Signature: ƒê∆∞·ª£c t·∫°o b·∫±ng c√°ch m√£ h√≥a Header v√† Payload v·ªõi m·ªôt kh√≥a b√≠ m·∫≠t v√† thu·∫≠t to√°n ƒë√£ ch·ªâ ƒë·ªãnh trong Header. ƒêi·ªÅu n√†y gi√∫p ƒë·∫£m b·∫£o r·∫±ng token kh√¥ng b·ªã thay ƒë·ªïi trong qu√° tr√¨nh truy·ªÅn t·∫£i. V√≠ d·ª•:",{"id":716,"title":717,"titles":718,"content":719,"level":515},"/blog/jwt#_3-vi·∫øt-l·∫°i-h√†m-ƒë·ªÉ-generate-jwt-token-v√†-verify-jwt-token-trong-nodejs","3. Vi·∫øt l·∫°i h√†m ƒë·ªÉ generate JWT token v√† verify JWT token trong NodeJs",[],"Khi l√†m vi·ªác v·ªõi jwt v√† nodeJs, h·∫ßu h·∫øt m·ªçi ng∆∞·ªùi s·∫Ω s·ª≠ d·ª•ng th∆∞ vi·ªán jsonwebtoken ƒë·ªÉ t·∫°o v√† x√°c th·ª±c JWT token. Tuy nhi√™n, ƒë·ªÉ hi·ªÉu r√µ h∆°n v·ªÅ c√°ch ho·∫°t ƒë·ªông c·ªßa JWT, ch√∫ng ta c√≥ th·ªÉ t·ª± vi·∫øt h√†m ƒë·ªÉ t·∫°o v√† x√°c th·ª±c JWT token. Gi·∫£ s·ª≠ ch√∫ng ta mu·ªën t·∫°o JWT token t·ª´ th√¥ng tin user_id=123, khi ƒë√≥ ph·∫ßn payload s·∫Ω l√†: ·ªû ph·∫ßn header, ch√∫ng ta s·∫Ω s·ª≠ d·ª•ng thu·∫≠t to√°n HS256 ƒë·ªÉ m√£ h√≥a JWT token. N√™n payload s·∫Ω c√≥ d·∫°ng nh∆∞ sau: ƒê·ªÉ t·∫°o JWT token, ch√∫ng ta c·∫ßn m√£ h√≥a Header v√† Payload b·∫±ng Base64Url. Sau ƒë√≥, ch√∫ng ta s·∫Ω t·∫°o ch·ªØ k√Ω b·∫±ng c√°ch s·ª≠ d·ª•ng thu·∫≠t to√°n HMACSHA256 v·ªõi kh√≥a b√≠ m·∫≠t (secret key) v√† k·∫øt h·ª£p Header v√† Payload. ƒê·∫ßu ti√™n ch√∫ng ta c·∫ßn vi·∫øt 1 h√†m ƒë·ªÉ m√£ h√≥a Base64Url: ·ªû ƒë√¢y, v√¨ ch√∫ng ta s·ª≠ d·ª•ng NodeJs n√™n c√≥ th·ªÉ s·ª≠ d·ª•ng Buffer ƒë·ªÉ m√£ h√≥a Base64Url. N·∫øu b·∫°n ƒëang l√†m vi·ªác v·ªõi JavaScript tr√™n tr√¨nh duy·ªát, b·∫°n c√≥ th·ªÉ s·ª≠ d·ª•ng btoa() ƒë·ªÉ m√£ h√≥a Base64Url. Khi mu·ªën gi·∫£i m√£, b·∫°n c√≥ th·ªÉ s·ª≠ d·ª•ng atob(). H√†m n√†y l√† h√†m c√≥ s·∫µn trong tr√¨nh duy·ªát. Ti·∫øp theo, ch√∫ng ta s·∫Ω tri·ªÉn khai h√†m t·∫°o JWT token. Trong Node.js, ch√∫ng ta c√≥ th·ªÉ d·ªÖ d√†ng th·ª±c hi·ªán ƒëi·ªÅu n√†y b·∫±ng c√°ch d√πng th∆∞ vi·ªán t√≠ch h·ª£p s·∫µn l√† crypto, c·ª• th·ªÉ l√† h√†m createHmac. H√†m n√†y s·∫Ω gi√∫p ch√∫ng ta t·∫°o ra ch·ªØ k√Ω (signature) t·ª´ chu·ªói ƒë√£ m√£ h√≥a g·ªìm Header v√† Payload, k·∫øt h·ª£p v·ªõi secret key ƒë·ªÉ ƒë·∫£m b·∫£o t√≠nh to√†n v·∫πn v√† x√°c th·ª±c c·ªßa token. Full code m√£ h√≥a JWT token s·∫Ω nh∆∞ sau: Nh∆∞ v·∫≠y ch√∫ng ta ƒë√£ c√≥ h√†m createJWT ƒë·ªÉ t·∫°o JWT token. H√†m n√†y s·∫Ω nh·∫≠n v√†o 2 tham s·ªë l√† payload v√† secret. payload l√† th√¥ng tin m√† ch√∫ng ta mu·ªën m√£ h√≥a v√† truy·ªÅn t·∫£i, c√≤n secret l√† kh√≥a b√≠ m·∫≠t m√† ch√∫ng ta s·∫Ω s·ª≠ d·ª•ng ƒë·ªÉ t·∫°o ch·ªØ k√Ω cho token. ƒê·ªëi v·ªõi JWT token, ch√∫ng ta c√≥ th·ªÉ s·ª≠ d·ª•ng b·∫•t k·ª≥ chu·ªói n√†o l√†m kh√≥a b√≠ m·∫≠t. Tuy nhi√™n, ƒë·ªÉ ƒë·∫£m b·∫£o t√≠nh b·∫£o m·∫≠t, ch√∫ng ta n√™n s·ª≠ d·ª•ng m·ªôt chu·ªói ng·∫´u nhi√™n v√† ƒë·ªß d√†i. V√¨ khi s·ª≠ d·ª•ng thu·∫≠t to√°n HMACSHA256, n·∫øu k·∫ª t·∫•n c√¥ng bi·∫øt ƒë∆∞·ª£c kh√≥a b√≠ m·∫≠t, h·ªç c√≥ th·ªÉ t·∫°o ra token gi·∫£ m·∫°o v√† truy c·∫≠p v√†o h·ªá th·ªëng c·ªßa b·∫°n. C√≥ th·ªÉ s·ª≠ d·ª•ng trang web randomkeygen.com ƒë·ªÉ t·∫°o ra m·ªôt chu·ªói ng·∫´u nhi√™n v√† ƒë·ªß d√†i l√†m kh√≥a b√≠ m·∫≠t.",{"id":721,"title":722,"titles":723,"content":724,"level":515},"/blog/jwt#_4-x√°c-th·ª±c-jwt-token","4. X√°c th·ª±c JWT token",[],"Token JWT g·ªìm ba ph·∫ßn: Header, Payload v√† Signature, ƒë∆∞·ª£c n·ªëi v·ªõi nhau b·∫±ng d·∫•u ch·∫•m (.). Qu√° tr√¨nh x√°c th·ª±c di·ªÖn ra nh∆∞ sau: T√°ch token th√†nh ba ph·∫ßn: Header, Payload v√† Signature.T·∫°o l·∫°i ch·ªØ k√Ω b·∫±ng c√°ch k·∫øt h·ª£p Header v√† Payload ƒë√£ m√£ h√≥a b·∫±ng Base64Url, sau ƒë√≥ s·ª≠ d·ª•ng c√πng thu·∫≠t to√°n v√† kh√≥a b√≠ m·∫≠t (secret key) ƒë√£ ƒë∆∞·ª£c d√πng khi t·∫°o token ban ƒë·∫ßu.So s√°nh ch·ªØ k√Ω m·ªõi t·∫°o v·ªõi ch·ªØ k√Ω ban ƒë·∫ßu trong token:\nN·∫øu hai ch·ªØ k√Ω gi·ªëng nhau, token ƒë∆∞·ª£c x√°c nh·∫≠n l√† h·ª£p l·ªá (kh√¥ng b·ªã ch·ªânh s·ª≠a).N·∫øu kh√°c nhau, token ƒë√£ b·ªã thay ƒë·ªïi ho·∫∑c kh√¥ng h·ª£p l·ªá. Ngo√†i ra, ƒë·ªÉ ki·ªÉm tra xem token c√≥ h·∫øt h·∫°n hay ch∆∞a, b·∫°n c√≥ th·ªÉ th√™m tr∆∞·ªùng exp (expiration) v√†o Payload. Tr∆∞·ªùng n√†y l∆∞u th·ªùi gian h·∫øt h·∫°n d∆∞·ªõi d·∫°ng timestamp (s·ªë gi√¢y k·ªÉ t·ª´ ng√†y 1/1/1970). Khi x√°c th·ª±c, ch·ªâ c·∫ßn so s√°nh gi√° tr·ªã exp v·ªõi th·ªùi gian hi·ªán t·∫°i ƒë·ªÉ bi·∫øt token c√≤n hi·ªáu l·ª±c hay kh√¥ng.",{"id":726,"title":727,"titles":728,"content":729,"level":515},"/blog/jwt#_5-k·∫øt-lu·∫≠n","5. K·∫øt lu·∫≠n",[],"JWT l√† m·ªôt c√¥ng c·ª• m·∫°nh m·∫Ω ƒë·ªÉ x√°c th·ª±c v√† ph√¢n quy·ªÅn trong c√°c ·ª©ng d·ª•ng web. B·∫±ng c√°ch hi·ªÉu r√µ c√°ch ho·∫°t ƒë·ªông c·ªßa JWT, b·∫°n c√≥ th·ªÉ t·ª± t·∫°o v√† x√°c th·ª±c JWT token m√† kh√¥ng c·∫ßn ph·ª• thu·ªôc v√†o th∆∞ vi·ªán b√™n ngo√†i. Tuy nhi√™n, trong th·ª±c t·∫ø, b·∫°n n√™n s·ª≠ d·ª•ng th∆∞ vi·ªán jsonwebtoken ƒë·ªÉ ti·∫øt ki·ªám th·ªùi gian v√† c√¥ng s·ª©c. Hy v·ªçng b√†i vi·∫øt n√†y ƒë√£ gi√∫p b·∫°n hi·ªÉu r√µ h∆°n v·ªÅ JWT v√† c√°ch s·ª≠ d·ª•ng n√≥ trong ·ª©ng d·ª•ng c·ªßa m√¨nh. N·∫øu b·∫°n c√≥ b·∫•t k·ª≥ c√¢u h·ªèi n√†o, h√£y li√™n h·ªá v·ªõi m√¨nh qua c√°c k√™nh li√™n l·∫°c nh∆∞ email, facebook, zalo ho·∫∑c telegram nh√©!",{"id":731,"title":732,"titles":733,"content":734,"level":515},"/blog/jwt#_6-t√†i-li·ªáu-tham-kh·∫£o","6. T√†i li·ªáu tham kh·∫£o",[],"jwt.ioRFC 7519 - JSON Web Token (JWT)jsonwebtoken",{"id":736,"title":737,"titles":738,"content":739,"level":515},"/blog/use-effect-and-use-layout-effect","Ph√¢n bi·ªát useEffect v√† useLayoutEffect trong React",[],"T√¨m hi·ªÉu ƒëi·ªÉm kh√°c nhau gi·ªØa useEffect v√† useLayoutEffect trong React, gi√∫p b·∫°n s·ª≠ d·ª•ng ƒë√∫ng hook trong t·ª´ng t√¨nh hu·ªëng c·ª• th·ªÉ ƒë·ªÉ t·ªëi ∆∞u hi·ªáu nƒÉng v√† tr·∫£i nghi·ªám ng∆∞·ªùi d√πng.",{"id":741,"title":742,"titles":743,"content":744,"level":515},"/blog/use-effect-and-use-layout-effect#useeffect-v√†-uselayouteffect-trong-react","useEffect v√† useLayoutEffect trong React",[],"React cung c·∫•p hai hook m·∫°nh m·∫Ω ƒë·ªÉ x·ª≠ l√Ω hi·ªáu ·ª©ng ph·ª•: useEffect v√† useLayoutEffect. Tuy ch√∫ng c√≥ c√∫ ph√°p gi·ªëng nhau, nh∆∞ng c√°ch ch√∫ng ho·∫°t ƒë·ªông kh√°c bi·ªát v√† ·∫£nh h∆∞·ªüng tr·ª±c ti·∫øp ƒë·∫øn tr·∫£i nghi·ªám ng∆∞·ªùi d√πng c≈©ng nh∆∞ hi·ªáu su·∫•t c·ªßa ·ª©ng d·ª•ng.",{"id":746,"title":747,"titles":748,"content":494,"level":236},"/blog/use-effect-and-use-layout-effect#t√≥m-t·∫Øt-quy-tr√¨nh-th·ª±c-thi","T√≥m t·∫Øt quy tr√¨nh th·ª±c thi",[742],{"id":750,"title":751,"titles":752,"content":753,"level":754},"/blog/use-effect-and-use-layout-effect#useeffect","useEffect",[742,747],"Ch·∫°y sau khi React c·∫≠p nh·∫≠t DOM xong v√† render UI xong.Th√≠ch h·ª£p cho c√°c t√°c v·ª• kh√¥ng ·∫£nh h∆∞·ªüng tr·ª±c ti·∫øp ƒë·∫øn layout, nh∆∞ g·ªçi API, ƒëƒÉng k√Ω s·ª± ki·ªán, log, animation nh·∫π‚Ä¶ Quy tr√¨nh: C·∫≠p nh·∫≠t l·∫°i stateC·∫≠p nh·∫≠t DOM (mutated)React render l·∫°i UIClean up n·∫øu c√≥G·ªçi useEffect callback",3,{"id":756,"title":757,"titles":758,"content":759,"level":754},"/blog/use-effect-and-use-layout-effect#uselayouteffect","useLayoutEffect",[742,747],"Ch·∫°y ngay sau khi DOM ƒë∆∞·ª£c c·∫≠p nh·∫≠t, nh∆∞ng tr∆∞·ªõc khi browser v·∫Ω l·∫°i giao di·ªán (paint).D√πng khi b·∫°n c·∫ßn ƒëo l∆∞·ªùng DOM, thay ƒë·ªïi layout ho·∫∑c ngƒÉn nh·∫•p nh√°y giao di·ªán. Quy tr√¨nh: C·∫≠p nh·∫≠t l·∫°i stateC·∫≠p nh·∫≠t DOM (mutated)Clean up n·∫øu dependencies thay ƒë·ªïiG·ªçi useLayoutEffect callbackReact render l·∫°i UI Khi n√†o d√πng c√°i n√†o? T√¨nh hu·ªëngN√™n d√πngG·ªçi API, thao t√°c kh√¥ng ·∫£nh h∆∞·ªüng layoutuseEffectƒêo k√≠ch th∆∞·ªõc DOM, scroll, positionuseLayoutEffectC·∫≠p nh·∫≠t class, focus v√†o inputuseLayoutEffectHi·ªáu ·ª©ng animation nh·∫π sau renderuseEffectNgƒÉn nh√°y layout (flicker) khi hi·ªÉn th·ªã componentsuseLayoutEffectC·∫≠p nh·∫≠t DOM tr∆∞·ªõc khi browser v·∫Ω l·∫°iuseLayoutEffect",{"id":761,"title":762,"titles":763,"content":764,"level":515},"/blog/useful-npm-package","T·ªïng h·ª£p c√°c npm package h·ªØu √≠ch cho Frontend v√† Backend",[],"Danh s√°ch c√°c npm package h·ªØu √≠ch cho l·∫≠p tr√¨nh Frontend v√† Backend, ƒë∆∞·ª£c t·ªïng h·ª£p t·ª´ kinh nghi·ªám th·ª±c t·∫ø v√† c√°c chia s·∫ª trong c·ªông ƒë·ªìng.",{"id":766,"title":767,"titles":768,"content":769,"level":515},"/blog/useful-npm-package#frontend","Frontend",[],"react-query - React Query Th∆∞ vi·ªán qu·∫£n l√Ω tr·∫°ng th√°i cho React, gi√∫p x·ª≠ l√Ω c√°c y√™u c·∫ßu API v√† cache d·ªØ li·ªáu m·ªôt c√°ch d·ªÖ d√†ng.@progress/kendo-react-pdf - Th∆∞ vi·ªán t·∫°o PDF cho React, hay h∆°n c√°c th∆∞ vi·ªán kh√°c ·ªü ch·ªó h√¨nh ·∫£nh s·∫Ω ƒë∆∞·ª£c xu·∫•t ra d∆∞·ªõi ƒë·ªãnh d·∫°ng SVG, gi√∫p cho vi·ªác xu·∫•t ·∫£nh ch·∫•t l∆∞·ª£ng cao v√† n√©t h∆°n, kh√¥ng b·ªã v·ª° ·∫£nh khi zoom in.react-split-pane - Th∆∞ vi·ªán t·∫°o giao di·ªán chia t√°ch (split view) cho React, gi√∫p d·ªÖ d√†ng t·∫°o c√°c layout v·ªõi c√°c ph·∫ßn t·ª≠ c√≥ th·ªÉ k√©o v√† th·∫£.react-window - Th∆∞ vi·ªán gi√∫p t·ªëi ∆∞u h√≥a hi·ªáu su·∫•t cho b·∫£ng v√† danh s√°ch l·ªõn trong React b·∫±ng c√°ch ch·ªâ render c√°c ph·∫ßn t·ª≠ ƒëang hi·ªÉn th·ªã tr√™n UI nh·∫π v√† d·ªÖ s·ª≠ d·ª•ng.",{"id":771,"title":772,"titles":773,"content":774,"level":515},"/blog/useful-npm-package#backend","Backend",[],"Updating...",{"id":776,"title":777,"titles":778,"content":779,"level":515},"/blog/useful-npm-package#c√°c-ƒëo·∫°n-code-m·∫´u-h·ªØu-d·ª•ng","C√°c ƒëo·∫°n code m·∫´u h·ªØu d·ª•ng",[],"Code template cho custom send and listen event document",{"id":781,"title":782,"titles":783,"content":784,"level":515},"/blog/useful-script","T·ªïng h·ª£p c√°c scripts h·ªØu √≠ch",[],"Danh s√°ch c√°c scripts h·ªØu √≠ch cho l·∫≠p tr√¨nh vi√™n, gi√∫p ti·∫øt ki·ªám th·ªùi gian v√† c√¥ng s·ª©c trong qu√° tr√¨nh ph√°t tri·ªÉn ph·∫ßn m·ªÅm.",{"id":786,"title":787,"titles":788,"content":789,"level":515},"/blog/useful-script#n√©n-·∫£nh-v√†-convert-·∫£nh-sang-ƒë·ªãnh-d·∫°ng-webp","N√©n ·∫£nh v√† convert ·∫£nh sang ƒë·ªãnh d·∫°ng webp",[],"C√†i ƒë·∫∑t cwebp ƒê·ªëi v·ªõi window th√¨ c√≥ th·ªÉ xem h∆∞·ªõng d·∫´n t·∫°i: https://developers.google.com/speed/webp/download?hl=vi Script n√©n ·∫£nh Sau khi t·∫°o xong file, c·∫ßn ph·∫£i g√°n quy·ªÅn th·ª±c thi cho file script b·∫±ng l·ªánh sau: Sau ƒë√≥ c√≥ th·ªÉ ch·∫°y script ƒë·ªÉ c√≥ th·ªÉ th·ª±c hi·ªán n√©n ·∫£nh v√† chuy·ªÉn ƒë·ªïi sang ƒë·ªãnh d·∫°ng webp.",[],[792,950,1282,1473,1594,1910,2102,2167],{"id":793,"title":512,"body":794,"date":496,"description":941,"extension":498,"image":942,"keywords":943,"meta":944,"navigation":502,"path":511,"published":502,"seo":945,"stem":946,"tags":947,"__hash__":949},"blog/blog/ansible.md",{"type":7,"value":795,"toc":939},[796,801,804,806,809,812,815,818,821,823,826,829,832,841,843,846,848,851,853,856,862,869,872,879,882,884,887,890,893,898,901,903,905,928,930,932,936],[10,797,798],{},[13,799,800],{},"H∆∞·ªõng d·∫´n chi ti·∫øt v·ªÅ c√†i ƒë·∫∑t v√† tri·ªÉn khai Ansible",[10,802,803],{},"Ansible l√† m·ªôt c√¥ng c·ª• t·ª± ƒë·ªông h√≥a m·∫°nh m·∫Ω, gi√∫p qu·∫£n l√Ω c·∫•u h√¨nh, tri·ªÉn khai ·ª©ng d·ª•ng v√† ƒëi·ªÅu ph·ªëi h·ªá th·ªëng m·ªôt c√°ch d·ªÖ d√†ng. Trong b√†i vi·∫øt n√†y, ch√∫ng ta s·∫Ω t√¨m hi·ªÉu c√°ch c√†i ƒë·∫∑t, c·∫•u h√¨nh v√† s·ª≠ d·ª•ng Ansible th√¥ng qua c√°c v√≠ d·ª• th·ª±c t·∫ø.",[48,805],{},[51,807,518],{"id":808},"Ô∏è-c√†i-ƒë·∫∑t-ansible",[10,810,811],{},"H∆∞·ªõng d·∫´n c√†i ƒë·∫∑t Ansible tr√™n Ubuntu:",[59,813],{":files":814},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"sudo apt update -y\\nsudo apt install software-properties-common -y\\nsudo apt-add-repository --yes --update ppa:ansible/ansible\\nsudo apt install ansible -y\\n\"}]",[10,816,817],{},"Sau khi c√†i ƒë·∫∑t, b·∫°n c√≥ th·ªÉ ki·ªÉm tra phi√™n b·∫£n Ansible:",[59,819],{":files":820},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"ansible --version\"}]",[48,822],{},[51,824,523],{"id":825},"c·∫•u-h√¨nh-ssh",[10,827,828],{},"ƒê·ªÉ Ansible c√≥ th·ªÉ k·∫øt n·ªëi ƒë·∫øn c√°c m√°y ch·ªß t·ª´ xa, b·∫°n c·∫ßn c·∫•u h√¨nh SSH. D∆∞·ªõi ƒë√¢y l√† c√°ch sao ch√©p SSH key ƒë·∫øn m√°y ch·ªß kh√°c:",[59,830],{":files":831},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"ssh-copy-id -i ~/.ssh/id_rsa.pub vinhtieng@123.3123.12\"}]",[10,833,834,836,837,840],{},[13,835,288],{}," Thay ",[96,838,839],{},"vinhtieng@123.3123.12"," b·∫±ng t√™n ng∆∞·ªùi d√πng v√† ƒë·ªãa ch·ªâ IP c·ªßa m√°y ch·ªß t·ª´ xa.",[48,842],{},[51,844,528],{"id":845},"hosts-inventory",[10,847,530],{},[59,849],{":files":850},"[{\"title\":\"inventory\",\"language\":\"ini\",\"content\":\"[webservers]\\nweb1.example.com\\nweb2.example.com\\n\\n[databases]\\ndb1.example.com\\n\\n[webservers:vars]\\nansible_user=your_ssh_user\\nansible_ssh_private_key_file=/path/to/private/key\\n\\n[webservers1]\\nweb1.example.com ansible_user=user1 ansible_ssh_private_key_file=/path/to/key1\\nweb2.example.com ansible_user=user2 ansible_ssh_private_key_file=/path/to/key2\\n\"}]",[48,852],{},[51,854,533],{"id":855},"ki·ªÉm-tra-k·∫øt-n·ªëi-ping",[10,857,858,859,156],{},"B·∫°n c√≥ th·ªÉ ki·ªÉm tra k·∫øt n·ªëi ƒë·∫øn c√°c m√°y ch·ªß b·∫±ng l·ªánh ",[96,860,861],{},"ping",[216,863,864],{},[23,865,866],{},[13,867,868],{},"Ping v·ªõi file hosts m·∫∑c ƒë·ªãnh:",[59,870],{":files":871},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"ansible -m ping all\"}]",[216,873,874],{"start":236},[23,875,876],{},[13,877,878],{},"Ping v·ªõi file inventory t√πy ch·ªânh:",[59,880],{":files":881},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"ansible -i my_hosts all -m ping\"}]",[48,883],{},[51,885,538],{"id":886},"playbook-task-module",[10,888,889],{},"Playbook l√† n∆°i b·∫°n ƒë·ªãnh nghƒ©a c√°c t√°c v·ª• (tasks) c·∫ßn th·ª±c hi·ªán tr√™n c√°c m√°y ch·ªß. D∆∞·ªõi ƒë√¢y l√† c√°ch ch·∫°y m·ªôt playbook:",[59,891],{":files":892},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"ansible-playbook my_playbook.yml -i inventory_file\"}]",[10,894,895],{},[13,896,897],{},"V√≠ d·ª• v·ªÅ Playbook ƒë∆°n gi·∫£n:",[59,899],{":files":900},"[{\"title\":\"my_playbook.yml\",\"language\":\"yaml\",\"content\":\"---\\n- name: C√†i ƒë·∫∑t v√† kh·ªüi ƒë·ªông Apache\\n  hosts: webservers\\n  become: yes\\n  tasks:\\n    - name: C√†i ƒë·∫∑t Apache\\n      apt:\\n        name: apache2\\n        state: present\\n    - name: ƒê·∫£m b·∫£o Apache ƒëang ch·∫°y\\n      service:\\n        name: apache2\\n        state: started\\n\"}]",[48,902],{},[51,904,447],{"id":446},[20,906,907,914,921],{},[23,908,909],{},[453,910,913],{"href":911,"rel":912},"https://docs.ansible.com/",[457],"Ansible Documentation",[23,915,916],{},[453,917,920],{"href":918,"rel":919},"https://galaxy.ansible.com/",[457],"Ansible Galaxy",[23,922,923],{},[453,924,927],{"href":925,"rel":926},"https://docs.ansible.com/ansible/latest/user_guide/playbooks.html",[457],"Ansible Playbook Guide",[48,929],{},[483,931],{},[10,933,934],{},[13,935,489],{},[10,937,938],{},"Ansible l√† c√¥ng c·ª• m·∫°nh m·∫Ω gi√∫p t·ª± ƒë·ªông h√≥a c√°c t√°c v·ª• qu·∫£n tr·ªã h·ªá th·ªëng. Vi·ªác n·∫Øm v·ªØng c√°ch s·ª≠ d·ª•ng Ansible s·∫Ω gi√∫p b·∫°n ti·∫øt ki·ªám th·ªùi gian v√† gi·∫£m thi·ªÉu l·ªói trong qu√° tr√¨nh qu·∫£n l√Ω h·ªá th·ªëng.",{"title":494,"searchDepth":236,"depth":236,"links":940},[],"H∆∞·ªõng d·∫´n chi ti·∫øt v·ªÅ c√†i ƒë·∫∑t, c·∫•u h√¨nh SSH, inventory v√† s·ª≠ d·ª•ng Playbook trong Ansible.","/images/blog/ansible/banner.webp","ansible, automation, configuration management",{},{"title":512,"description":941},"blog/ansible",[948],"ansible","TDOKqPCKfBmvSL-G-wacqQdrgbcbAiBJrgMPYjtJtIc",{"id":4,"title":5,"body":951,"date":496,"description":497,"extension":498,"image":499,"keywords":500,"meta":1279,"navigation":502,"path":503,"published":502,"seo":1280,"stem":505,"tags":1281,"__hash__":508},{"type":7,"value":952,"toc":1277},[953,957,959,977,979,981,983,985,987,989,993,995,997,999,1003,1005,1011,1013,1015,1017,1027,1029,1033,1035,1037,1045,1047,1051,1073,1075,1077,1079,1081,1083,1085,1091,1099,1105,1113,1115,1123,1125,1127,1129,1131,1133,1137,1143,1145,1147,1149,1151,1169,1171,1175,1177,1179,1181,1183,1185,1187,1189,1191,1193,1195,1197,1199,1201,1203,1205,1207,1209,1211,1213,1215,1217,1219,1221,1223,1225,1227,1229,1231,1233,1235,1237,1239,1241,1243,1245,1267,1269,1271,1275],[10,954,955],{},[13,956,15],{},[10,958,18],{},[20,960,961,963,965,967,969,971,973,975],{},[23,962,25],{},[23,964,28],{},[23,966,31],{},[23,968,34],{},[23,970,37],{},[23,972,40],{},[23,974,43],{},[23,976,46],{},[48,978],{},[51,980,54],{"id":53},[10,982,57],{},[59,984],{":files":61},[10,986,64],{},[59,988],{":files":67},[10,990,991],{},[13,992,72],{},[10,994,75],{},[59,996],{":files":78},[10,998,81],{},[83,1000,1001],{"type":85},[10,1002,88],{},[10,1004,91],{},[10,1006,94,1007,99,1009,103],{},[96,1008,98],{},[96,1010,102],{},[10,1012,106],{},[51,1014,110],{"id":109},[10,1016,113],{},[20,1018,1019,1023],{},[23,1020,1021,121],{},[96,1022,120],{},[23,1024,1025,127],{},[96,1026,126],{},[10,1028,130],{},[10,1030,1031],{},[13,1032,135],{},[10,1034,138],{},[59,1036],{":files":141},[10,1038,144,1039,148,1041,152,1043,156],{},[96,1040,147],{},[96,1042,151],{},[96,1044,155],{},[59,1046],{":files":159},[10,1048,1049],{},[13,1050,164],{},[20,1052,1053,1057,1061,1065,1069],{},[23,1054,1055,172],{},[96,1056,171],{},[23,1058,1059,178],{},[96,1060,177],{},[23,1062,1063,184],{},[96,1064,183],{},[23,1066,1067,190],{},[96,1068,189],{},[23,1070,1071,196],{},[96,1072,195],{},[10,1074,199],{},[59,1076],{":files":202},[10,1078,205],{},[59,1080],{":files":208},[10,1082,211],{},[10,1084,214],{},[216,1086,1087],{},[23,1088,1089,156],{},[96,1090,222],{},[20,1092,1093,1095,1097],{},[23,1094,227],{},[23,1096,230],{},[23,1098,233],{},[216,1100,1101],{"start":236},[23,1102,1103,156],{},[96,1104,241],{},[20,1106,1107,1109,1111],{},[23,1108,246],{},[23,1110,249],{},[23,1112,252],{},[10,1114,255],{},[20,1116,1117,1119],{},[23,1118,260],{},[23,1120,263,1121,267],{},[96,1122,266],{},[10,1124,270],{},[59,1126],{":files":273},[51,1128,277],{"id":276},[10,1130,280],{},[59,1132],{":files":283},[10,1134,1135],{},[13,1136,288],{},[20,1138,1139,1141],{},[23,1140,293],{},[23,1142,296],{},[59,1144],{":files":299},[48,1146],{},[51,1148,305],{"id":304},[10,1150,308],{},[20,1152,1153,1157,1161,1165],{},[23,1154,1155,316],{},[96,1156,315],{},[23,1158,1159,322],{},[96,1160,321],{},[23,1162,1163,328],{},[96,1164,327],{},[23,1166,1167,334],{},[96,1168,333],{},[10,1170,337],{},[20,1172,1173],{},[23,1174,342],{},[59,1176],{":files":345},[10,1178,348],{},[59,1180],{":files":351},[48,1182],{},[51,1184,357],{"id":356},[10,1186,360],{},[59,1188],{":files":363},[48,1190],{},[51,1192,369],{"id":368},[10,1194,372],{},[59,1196],{":files":375},[48,1198],{},[51,1200,381],{"id":380},[10,1202,384],{},[59,1204],{":files":387},[48,1206],{},[51,1208,393],{"id":392},[10,1210,396],{},[59,1212],{":files":399},[10,1214,402],{},[59,1216],{":files":405},[48,1218],{},[51,1220,411],{"id":410},[10,1222,414],{},[59,1224],{":files":417},[10,1226,420],{},[59,1228],{":files":423},[10,1230,426],{},[59,1232],{":files":429},[48,1234],{},[51,1236,435],{"id":434},[10,1238,438],{},[59,1240],{":files":441},[48,1242],{},[51,1244,447],{"id":446},[20,1246,1247,1252,1257,1262],{},[23,1248,1249],{},[453,1250,458],{"href":455,"rel":1251},[457],[23,1253,1254],{},[453,1255,465],{"href":463,"rel":1256},[457],[23,1258,1259],{},[453,1260,472],{"href":470,"rel":1261},[457],[23,1263,1264],{},[453,1265,479],{"href":477,"rel":1266},[457],[48,1268],{},[483,1270],{},[10,1272,1273],{},[13,1274,489],{},[10,1276,492],{},{"title":494,"searchDepth":236,"depth":236,"links":1278},[],{},{"title":5,"description":497},[507],{"id":1283,"title":590,"body":1284,"date":496,"description":1464,"extension":498,"image":1465,"keywords":1466,"meta":1467,"navigation":502,"path":589,"published":502,"seo":1468,"stem":1469,"tags":1470,"__hash__":1472},"blog/blog/basic-redis.md",{"type":7,"value":1285,"toc":1450},[1286,1290,1293,1296,1307,1309,1312,1314,1318,1320,1323,1326,1328,1331,1334,1336,1339,1342,1344,1347,1350,1352,1355,1358,1361,1364,1367,1370,1373,1376,1379,1381,1384,1387,1389,1392,1395,1402,1405,1408,1410,1413,1416,1418,1421,1424,1427,1432,1435],[10,1287,1288],{},[13,1289,590],{},[10,1291,1292],{},"Redis l√† m·ªôt kho d·ªØ li·ªáu key-value trong b·ªô nh·ªõ, m√£ ngu·ªìn m·ªü, n·ªïi ti·∫øng v·ªõi hi·ªáu su·∫•t v√† t√≠nh linh ho·∫°t. Redis h·ªó tr·ª£ nhi·ªÅu ki·ªÉu d·ªØ li·ªáu, ph√π h·ª£p cho vi·ªác s·ª≠ d·ª•ng b·ªô nh·ªõ ƒë·ªám, ·ª©ng d·ª•ng th·ªùi gian th·ª±c, h·ªá th·ªëng pub/sub, v√† nhi·ªÅu h∆°n n·ªØa.",[10,1294,1295],{},"Trong h∆∞·ªõng d·∫´n n√†y, ch√∫ng ta s·∫Ω t√¨m hi·ªÉu:",[20,1297,1298,1301,1304],{},[23,1299,1300],{},"C√°c ki·ªÉu d·ªØ li·ªáu trong Redis",[23,1302,1303],{},"C√°c l·ªánh ph·ªï bi·∫øn c·ªßa Redis",[23,1305,1306],{},"C√°ch t√≠ch h·ª£p Redis v√†o d·ª± √°n Node.js",[48,1308],{},[51,1310,595],{"id":1311},"c√°c-ki·ªÉu-d·ªØ-li·ªáu-l·ªánh-redis",[10,1313,597],{},[1315,1316,600],"h2",{"id":1317},"_1-chu·ªói-strings",[10,1319,602],{},[59,1321],{":files":1322},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"SET name \\\"Jay\\\"\\nGET name\\nINCR counter\\n\"}]",[1315,1324,605],{"id":1325},"_2-danh-s√°ch-lists",[10,1327,607],{},[59,1329],{":files":1330},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"LPUSH mylist \\\"apple\\\"\\nRPUSH mylist \\\"banana\\\"\\nLRANGE mylist 0 -1\\n\"}]",[1315,1332,610],{"id":1333},"_3-t·∫≠p-h·ª£p-sets",[10,1335,612],{},[59,1337],{":files":1338},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"SADD myset \\\"apple\\\"\\nSADD myset \\\"banana\\\"\\nSADD myset \\\"apple\\\" # Tr√πng l·∫∑p, s·∫Ω kh√¥ng ƒë∆∞·ª£c th√™m\\nSMEMBERS myset\\n\"}]",[1315,1340,615],{"id":1341},"_4-bƒÉm-hashes",[10,1343,617],{},[59,1345],{":files":1346},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"HSET user:1000 name \\\"Jay\\\" age 30\\nHGETALL user:1000\\n\"}]",[1315,1348,620],{"id":1349},"_5-t·∫≠p-h·ª£p-c√≥-th·ª©-t·ª±-sorted-sets",[10,1351,622],{},[59,1353],{":files":1354},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"ZADD mysortedset 1 \\\"apple\\\"\\nZADD mysortedset 2 \\\"banana\\\"\\nZRANGE mysortedset 0 -1\\n\"}]",[1315,1356,625],{"id":1357},"_6-bitmaps-hyperloglogs-streams",[10,1359,1360],{},"ƒê√¢y l√† c√°c c·∫•u tr√∫c n√¢ng cao h∆°n:\nBitmaps ƒë∆∞·ª£c s·ª≠ d·ª•ng cho c√°c thao t√°c c·∫•p bit, cho ph√©p b·∫°n thao t√°c c√°c bit ri√™ng l·∫ª trong m·ªôt chu·ªói.",[59,1362],{":files":1363},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"SETBIT mybitmap 0 1\\nSETBIT mybitmap 1 1\\nBITCOUNT mybitmap\\n\"}]",[10,1365,1366],{},"HyperLogLogs ƒë∆∞·ª£c s·ª≠ d·ª•ng ƒë·ªÉ ∆∞·ªõc t√≠nh s·ªë l∆∞·ª£ng ph·∫ßn t·ª≠ duy nh·∫•t trong m·ªôt t·∫≠p h·ª£p, r·∫•t h·ªØu √≠ch cho c√°c tr∆∞·ªùng h·ª£p nh∆∞ theo d√µi s·ªë l∆∞·ª£ng kh√°ch truy c·∫≠p duy nh·∫•t.",[59,1368],{":files":1369},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"PFADD myhll \\\"apple\\\" \\\"banana\\\" \\\"orange\\\"\\nPFCOUNT myhll\\n\"}]",[10,1371,1372],{},"Streams ƒë∆∞·ª£c thi·∫øt k·∫ø cho c√°c ƒë∆∞·ªùng d·∫´n d·ªØ li·ªáu th·ªùi gian th·ª±c v√† ngu·ªìn s·ª± ki·ªán, cho ph√©p b·∫°n th√™m v√† truy v·∫•n d·ªØ li·ªáu theo chu·ªói th·ªùi gian.",[59,1374],{":files":1375},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"XADD mystream * name \\\"Jay\\\" age 30\\nXRANGE mystream - +\\n\"}]",[51,1377,630],{"id":1378},"t√≠ch-h·ª£p-redis-v·ªõi-nodejs",[10,1380,632],{},[1315,1382,635],{"id":1383},"_1-c√†i-ƒë·∫∑t-redis-v√†-ioredis",[59,1385],{":files":1386},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"npm install ioredis\\n# ho·∫∑c\\nyarn add ioredis\\n\"}]",[10,1388,637],{},[59,1390],{":files":1391},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"docker run -d -p 6379:6379 redis\\n\"}]",[1315,1393,640],{"id":1394},"_2-thi·∫øt-l·∫≠p-c∆°-b·∫£n",[10,1396,1397,1398,1401],{},"T·∫°o m·ªôt t·ªáp c√≥ t√™n ",[96,1399,1400],{},"redis.js"," v√† th√™m ƒëo·∫°n m√£ sau:",[59,1403],{":files":1404},"[{\"title\":\"redis.js\",\"language\":\"javascript\",\"content\":\"// redis.ts\\nimport Redis from 'ioredis';\\n\\nconst redis = new Redis({\\n  host: '127.0.0.1',\\n  port: 6379,\\n  // password: 'm·∫≠t_kh·∫©u_n·∫øu_c√≥'\\n});\\n\\nexport default redis;\\n\"}]",[1315,1406,645],{"id":1407},"_3-s·ª≠-d·ª•ng-redis-trong-·ª©ng-d·ª•ng",[10,1409,647],{},[59,1411],{":files":1412},"[{\"title\":\"example.js\",\"language\":\"javascript\",\"content\":\"// example.ts\\nimport redis from './redis';\\n\\n// Chu·ªói\\nawait redis.set('greeting', 'Hello Redis');\\nconst greeting = await redis.get('greeting');\\nconsole.log(greeting); // Hello Redis\\n\\n// Danh s√°ch\\nawait redis.lpush('queue', 'task1');\\nconst task = await redis.rpop('queue');\\nconsole.log(task); // task1\\n\\n// BƒÉm\\nawait redis.hset('user:1', { name: 'Jay', role: 'admin' });\\nconst user = await redis.hgetall('user:1');\\nconsole.log(user); // { name: 'Jay', role: 'admin' }\\n\\n// T·∫≠p h·ª£p c√≥ th·ª© t·ª±\\nawait redis.zadd('scores', 100, 'Jay');\\nconst scores = await redis.zrange('scores', 0, -1, 'WITHSCORES');\\nconsole.log(scores);\\n\\n// Pub/Sub\\nredis.subscribe('news');\\nredis.on('message', (channel, message) => {\\n  console.log(`Nh·∫≠n tin nh·∫Øn t·ª´ ${channel}: ${message}`);\\n});\\n\\nconst publisher = new Redis();\\npublisher.publish('news', 'Tin n√≥ng!');\\n\"}]",[1315,1414,650],{"id":1415},"_4-v√≠-d·ª•-v·ªÅ-b·ªô-nh·ªõ-ƒë·ªám",[10,1417,652],{},[59,1419],{":files":1420},"[{\"title\":\"cache.js\",\"language\":\"javascript\",\"content\":\"import redis from './redis';\\n\\nasync function getUserData(userId) {\\n  const cacheKey = `user:${userId}`;\\n  const cachedData = await redis.get(cacheKey);\\n\\n  if (cachedData) {\\n    return JSON.parse(cachedData);\\n  }\\n\\n  // M√¥ ph·ªèng truy v·∫•n c∆° s·ªü d·ªØ li·ªáu\\n  const userData = await queryDatabase(userId);\\n  await redis.set(cacheKey, JSON.stringify(userData), 'EX', 3600); // L∆∞u v√†o b·ªô nh·ªõ ƒë·ªám trong 1 gi·ªù\\n  return userData;\\n}\\n\\nasync function queryDatabase(userId) {\\n  // M√¥ ph·ªèng truy v·∫•n c∆° s·ªü d·ªØ li·ªáu\\n  return { id: userId, name: 'Jay', age: 30 };\\n}\\n\"}]",[1315,1422,655],{"id":1423},"_5-k·∫øt-lu·∫≠n",[10,1425,1426],{},"Redis l√† m·ªôt c√¥ng c·ª• m·∫°nh m·∫Ω cho b·ªô nh·ªõ ƒë·ªám v√† c√°c ·ª©ng d·ª•ng th·ªùi gian th·ª±c. B·∫±ng c√°ch t√≠ch h·ª£p Redis v√†o c√°c d·ª± √°n Node.js, b·∫°n c√≥ th·ªÉ c·∫£i thi·ªán ƒë√°ng k·ªÉ hi·ªáu su·∫•t v√† kh·∫£ nƒÉng m·ªü r·ªông. H∆∞·ªõng d·∫´n n√†y ƒë√£ bao qu√°t c√°c kh√°i ni·ªám c∆° b·∫£n v·ªÅ ki·ªÉu d·ªØ li·ªáu, l·ªánh, v√† c√°ch s·ª≠ d·ª•ng Redis trong ·ª©ng d·ª•ng Node.js.\nH√£y kh√°m ph√° th√™m c√°c t√≠nh nƒÉng n√¢ng cao nh∆∞ giao d·ªãch, scripting Lua, v√† clustering khi b·∫°n ƒë√£ quen thu·ªôc h∆°n v·ªõi Redis.\nRedis l√† m·ªôt c√¥ng c·ª• ƒëa nƒÉng c√≥ th·ªÉ n√¢ng cao ƒë√°ng k·ªÉ ·ª©ng d·ª•ng c·ªßa b·∫°n.",[10,1428,1429],{},[13,1430,1431],{},"Happy Coding",[1315,1433,660],{"id":1434},"_6-t√†i-nguy√™n-tham-kh·∫£o",[20,1436,1437,1444],{},[23,1438,1439],{},[453,1440,1443],{"href":1441,"target":1442},"https://redis.io/documentation","_blank","T√†i li·ªáu Redis",[23,1445,1446],{},[453,1447,1449],{"href":1448,"target":1442},"https://github.com/redis/ioredis","T√†i li·ªáu ioredis",{"title":494,"searchDepth":236,"depth":236,"links":1451},[1452,1453,1454,1455,1456,1457,1458,1459,1460,1461,1462,1463],{"id":1317,"depth":236,"text":600},{"id":1325,"depth":236,"text":605},{"id":1333,"depth":236,"text":610},{"id":1341,"depth":236,"text":615},{"id":1349,"depth":236,"text":620},{"id":1357,"depth":236,"text":625},{"id":1383,"depth":236,"text":635},{"id":1394,"depth":236,"text":640},{"id":1407,"depth":236,"text":645},{"id":1415,"depth":236,"text":650},{"id":1423,"depth":236,"text":655},{"id":1434,"depth":236,"text":660},"T√¨m hi·ªÉu c√°c kh√°i ni·ªám c∆° b·∫£n v·ªÅ Redis bao g·ªìm c√°c ki·ªÉu d·ªØ li·ªáu v√† ph∆∞∆°ng th·ª©c, c≈©ng nh∆∞ c√°ch t√≠ch h·ª£p Redis v√†o ·ª©ng d·ª•ng Node.js ƒë·ªÉ s·ª≠ d·ª•ng b·ªô nh·ªõ ƒë·ªám v√† c√°c t√≠nh nƒÉng th·ªùi gian th·ª±c.","/images/blog/basic-redis/banner.webp","redis, nodejs, cache, in-memory database",{},{"title":590,"description":1464},"blog/basic-redis",[1471],"redis","3d0XvNroUY6-txkS2aldMngWhf075Own2Hqsb5sjDmM",{"id":1474,"title":665,"body":1475,"date":496,"description":1585,"extension":498,"image":1586,"keywords":1587,"meta":1588,"navigation":502,"path":664,"published":502,"seo":1589,"stem":1590,"tags":1591,"__hash__":1593},"blog/blog/common-docker-file.md",{"type":7,"value":1476,"toc":1576},[1477,1481,1484,1490,1495,1498,1501,1504,1511,1514,1517,1520,1523,1526,1529,1532,1537,1540,1543,1556,1559,1562,1565,1568],[10,1478,1479],{},[13,1480,665],{},[10,1482,1483],{},"Docker l√† m·ªôt c√¥ng c·ª• ·∫£o h√≥a nh·∫π gi√∫p ph√°t tri·ªÉn, tri·ªÉn khai v√† ch·∫°y ·ª©ng d·ª•ng trong c√°c container. N√≥ cho ph√©p b·∫°n ƒë√≥ng g√≥i ·ª©ng d·ª•ng v√† t·∫•t c·∫£ c√°c ph·ª• thu·ªôc c·ªßa n√≥ v√†o m·ªôt container duy nh·∫•t, gi√∫p d·ªÖ d√†ng tri·ªÉn khai tr√™n b·∫•t k·ª≥ m√¥i tr∆∞·ªùng n√†o m√† kh√¥ng c·∫ßn lo l·∫Øng v·ªÅ s·ª± kh√°c bi·ªát gi·ªØa c√°c m√¥i tr∆∞·ªùng.",[83,1485,1487],{"type":1486},"info",[10,1488,1489],{},"ƒê√¢y l√† m·ªôt s·ªë Dockerfile cho c√°c d·ª± √°n th∆∞·ªùng g·∫∑p, b·∫°n c√≥ th·ªÉ tham kh·∫£o v√† ƒëi·ªÅu ch·ªânh theo nhu c·∫ßu c·ªßa m√¨nh.",[10,1491,1492,1493],{},"N·ªôi dung b√†i vi·∫øt ƒë∆∞·ª£c t·ªïng h·ª£p v√† t√≠ch g√≥p t·ª´ nhi·ªÅu ngu·ªìn kh√°c nhau, bao g·ªìm c·∫£ c√°c d·ª± √°n th·ª±c t·∫ø m√† m√¨nh ƒë√£ l√†m.\n",[483,1494],{},[1315,1496,670],{"id":1497},"dockerfile-cho-nodejs",[10,1499,1500],{},"Dockerfile cho Node.js r·∫•t quan tr·ªçng khi tri·ªÉn khai ·ª©ng d·ª•ng JavaScript ph√≠a server. ƒê√¢y l√† m·ªôt Dockerfile ƒë√£ ƒë∆∞·ª£c t·ªëi ∆∞u cho m·ªôt d·ª± √°n Node.js ƒëi·ªÉn h√¨nh:",[59,1502],{":files":1503},"[{\"title\":\"Dockerfile\",\"language\":\"dockerfile\",\"content\":\"# Stage 1: Build\\nFROM node:18-alpine AS build\\n\\nWORKDIR /app\\nCOPY package*.json ./\\n\\nRUN npm ci --only=production\\n\\nCOPY . .\\n\\nRUN npm run build\\n\\n# Stage 2: Run\\nFROM node:18-alpine\\n\\nWORKDIR /app\\nCOPY --from=build /app/node_modules ./node_modules\\nCOPY --from=build /app .\\n\\nENV NODE_ENV=production\\nENV PORT=3000\\n\\nEXPOSE 3000\\nCMD [\\\"node\\\", \\\"server.js\\\"]\\n\"}]",[10,1505,1506,1507,1510],{},"C√°ch 2, s·ª≠ d·ª•ng ",[96,1508,1509],{},"pm2",". V·ªÅ c∆° b·∫£n th√¨ c√°ch n√†y nh·∫π h∆°n kha kh√° so v·ªõi npm",[59,1512],{":files":1513},"[{\"title\":\"Dockerfile\",\"language\":\"dockerfile\",\"content\":\"# Stage 1: Build\\nFROM node:18-alpine AS build\\n\\nWORKDIR /app\\n\\nCOPY package*.json ./\\n\\nRUN npm ci --only=production\\n\\nCOPY . .\\n\\nRUN npm run build\\n\\n# Stage 2: Run\\nFROM node:18-alpine\\n\\nRUN npm install -g pm2\\n\\nWORKDIR /app\\nCOPY --from=build /app/node_modules ./node_modules\\nCOPY --from=build /app .\\n\\nENV NODE_ENV=production\\nENV PORT=3000\\n\\nEXPOSE 3000\\nCMD [\\\"pm2-runtime\\\", \\\"start\\\", \\\"server.js\\\"]\\n\"}]",[1315,1515,675],{"id":1516},"dockerfile-nodejs-nestjs",[59,1518],{":files":1519},"[{\"title\":\"Dockerfile\",\"language\":\"dockerfile\",\"content\":\"# Stage 1: Build\\nFROM node:18-alpine AS build\\n\\nWORKDIR /app\\n\\nCOPY package*.json ./\\n\\nRUN npm ci\\n\\nCOPY . .\\n\\nRUN npm run build\\n\\n# Stage 2: Run\\nFROM node:18-alpine\\n\\nWORKDIR /app\\n\\nCOPY --from=build /app/node_modules ./node_modules\\nCOPY --from=build /app/dist ./dist\\n\\nEXPOSE 3000\\nCMD [\\\"node\\\", \\\"dist/main\\\"]\\n\"}]",[1315,1521,679],{"id":1522},"dockerfile-nodejs-expressjs",[59,1524],{":files":1525},"[{\"title\":\"Dockerfile\",\"language\":\"dockerfile\",\"content\":\"# Stage 1: Build\\nFROM node:18-alpine AS build\\n\\nWORKDIR /app\\n\\nCOPY package*.json ./\\n\\nRUN npm ci\\n\\nCOPY . .\\n\\n# Stage 2: Run\\nFROM node:18-alpine\\n\\nWORKDIR /app\\n\\nCOPY --from=build /app/node_modules ./node_modules\\nCOPY --from=build /app .\\n\\nEXPOSE 3000\\nCMD [\\\"node\\\", \\\"index.js\\\"]\\n\"}]",[1315,1527,683],{"id":1528},"dockerfile-reactjs",[10,1530,1531],{},"C√≥ th·ªÉ s·ª≠ d·ª•ng Dockerfile n√†y cho c√°c d·ª± √°n nh∆∞ Vue, Angular,...",[10,1533,1534,1536],{},[13,1535,288],{}," ·ªü ƒë√¢y th∆∞ m·ª•c ch·ª©a nginx/nginx.conf ƒë·∫∑t c√πng c·∫•p v·ªõi Dockerfile",[59,1538],{":files":1539},"[{\"title\":\"Dockerfile\",\"language\":\"dockerfile\",\"content\":\"# Stage 1: Build\\nFROM node:18-alpine AS build\\nWORKDIR /app\\n\\nCOPY package*.json ./\\n\\nRUN npm ci\\n\\nCOPY . .\\n\\nRUN npm run build\\n\\n# Stage 2: Run\\nFROM nginx:alpine\\n\\nCOPY --from=build /app/build /usr/share/nginx/html\\nCOPY nginx.conf /etc/nginx/nginx.conf\\n\\nEXPOSE 3000\\nCMD [\\\"nginx\\\", \\\"-g\\\", \\\"daemon off;\\\"]\\n\"},{\"title\":\"nginx.conf\",\"language\":\"nginx\",\"content\":\"worker_processes auto;\\nerror_log /var/log/nginx/error.log warn;\\npid /var/run/nginx.pid;\\n\\nevents {\\n    worker_connections 1024;\\n}\\n\\nhttp {\\n    include /etc/nginx/mime.types;\\n    default_type application/octet-stream;\\n\\n    log_format main '$remote_addr - $remote_user [$time_local] \\\"$request\\\" '\\n                  '$status $body_bytes_sent \\\"$http_referer\\\" '\\n                  '\\\"$http_user_agent\\\" \\\"$http_x_forwarded_for\\\"';\\n\\n    access_log /var/log/nginx/access.log main;\\n\\n    server_tokens off;\\n\\n    gzip on;\\n    gzip_types text/plain text/css application/json application/javascript text/xml application/xml application/xml+rss text/javascript;\\n\\n    server {\\n        listen 3000;  # L·∫Øng nghe tr√™n c·ªïng 3000\\n        server_name localhost;\\n\\n        root /usr/share/nginx/html;\\n        index index.html;\\n\\n        location / {\\n            try_files $uri $uri/ /index.html;\\n        }\\n\\n        location ~* \\\\.(js|css|png|jpg|jpeg|gif|ico|svg|woff|woff2|ttf|eot)$ {\\n            expires 1y;\\n            add_header Cache-Control \\\"public, no-transform\\\";\\n        }\\n\\n        error_page 404 /404.html;\\n        location = /404.html {\\n            internal;\\n        }\\n\\n        error_page 500 502 503 504 /50x.html;\\n        location = /50x.html {\\n            internal;\\n        }\\n\\n        location ~ /\\\\.ht {\\n            deny all;\\n        }\\n\\n        add_header X-Frame-Options \\\"SAMEORIGIN\\\";\\n        add_header X-Content-Type-Options \\\"nosniff\\\";\\n        add_header X-XSS-Protection \\\"1; mode=block\\\";\\n        add_header Referrer-Policy \\\"no-referrer-when-downgrade\\\";\\n        add_header Content-Security-Policy \\\"default-src 'self'; script-src 'self' 'unsafe-inline' 'unsafe-eval'; style-src 'self' 'unsafe-inline'; img-src 'self' data:; font-src 'self'; connect-src 'self'; frame-ancestors 'self';\\\";\\n    }\\n}\\n\"}]",[1315,1541,688],{"id":1542},"dockerfile-cho-php-v·ªõi-laravel",[10,1544,1545,1547,1548,1551,1552,1555],{},[13,1546,288],{}," th∆∞ m·ª•c ",[13,1549,1550],{},"conf/nginx.conf"," v√† ",[13,1553,1554],{},"conf/supervisord.conf"," c√πng c·∫•p v·ªõi Dockerfile",[59,1557],{":files":1558},"[{\"title\":\"Dockerfile\",\"language\":\"dockerfile\",\"content\":\"# Stage 1: Composer Dependencies\\nFROM composer:2 AS composer\\n\\nWORKDIR /app\\nCOPY composer.json composer.lock ./\\n\\nRUN composer install --no-dev --optimize-autoloader --no-interaction\\n\\n# Stage 2: Build\\nFROM php:8.2-fpm-alpine AS php\\n\\nWORKDIR /var/www/html\\nCOPY --from=composer /app/vendor ./vendor\\nCOPY . .\\n\\nRUN apk add --no-cache \\\\\\n        libzip-dev \\\\\\n        libpng-dev \\\\\\n        libjpeg-turbo-dev \\\\\\n        freetype-dev \\\\\\n        && docker-php-ext-configure gd --with-freetype --with-jpeg \\\\\\n        && docker-php-ext-install -j$(nproc) gd pdo_mysql zip opcache\\n\\nRUN { \\\\\\n        echo 'opcache.enable=1'; \\\\\\n        echo 'opcache.revalidate_freq=0'; \\\\\\n        echo 'opcache.validate_timestamps=1'; \\\\\\n        echo 'opcache.max_accelerated_files=10000'; \\\\\\n        echo 'opcache.memory_consumption=192'; \\\\\\n        echo 'opcache.max_wasted_percentage=10'; \\\\\\n        echo 'opcache.interned_strings_buffer=16'; \\\\\\n        echo 'opcache.fast_shutdown=1'; \\\\\\n    } > /usr/local/etc/php/conf.d/opcache-recommended.ini\\n\\nRUN chown -R www-data:www-data /var/www/html/storage /var/www/html/bootstrap/cache\\n\\n# Stage 3: Nginx v√† Supervisord\\nFROM nginx:alpine AS nginx\\n\\nWORKDIR /var/www/html\\nCOPY --from=php /var/www/html /var/www/html\\nCOPY conf/nginx.conf /etc/nginx/conf.d/default.conf\\n\\nRUN apk add --no-cache supervisor\\n\\nCOPY conf/supervisord.conf /etc/supervisor/conf.d/supervisord.conf\\n\\nEXPOSE 80\\nCMD [\\\"supervisord\\\", \\\"-c\\\", \\\"/etc/supervisor/conf.d/supervisord.conf\\\"]\\n\"},{\"title\":\"nginx.conf\",\"language\":\"nginx\",\"content\":\"server {\\n  listen 80;\\n  server_name localhost;\\n\\n  root /var/www/html/public;\\n  index index.php index.html index.htm;\\n\\n  location / {\\n      try_files $uri $uri/ /index.php?$query_string;\\n  }\\n\\n  location ~ \\\\.php$ {\\n      include fastcgi_params;\\n      fastcgi_pass 127.0.0.1:9000;\\n      fastcgi_index index.php;\\n      fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;\\n  }\\n\\n  location ~ /\\\\.ht {\\n      deny all;\\n  }\\n\\n  error_log /var/log/nginx/error.log;\\n  access_log /var/log/nginx/access.log;\\n}\\n\"},{\"title\":\"conf/supervisord.conf\",\"language\":\"ini\",\"content\":\"[supervisord]\\nnodaemon=true\\n\\n[program:php-fpm]\\ncommand=php-fpm\\nautostart=true\\nautorestart=true\\nstderr_logfile=/var/log/php-fpm.err.log\\nstdout_logfile=/var/log/php-fpm.out.log\\n\\n[program:nginx]\\ncommand=nginx -g \\\"daemon off;\\\"\\nautostart=true\\nautorestart=true\\nstderr_logfile=/var/log/nginx.err.log\\nstdout_logfile=/var/log/nginx.out.log\\n\"}]",[1315,1560,693],{"id":1561},"dockerfile-cho-nextjs",[59,1563],{":files":1564},"[{\"title\":\"Dockerfile\",\"language\":\"dockerfile\",\"content\":\"# Stage 1: Build\\nFROM node:18-alpine AS build\\n\\nWORKDIR /app\\nCOPY package*.json ./\\n\\nRUN npm ci\\n\\nCOPY . .\\n\\nRUN npm run build\\n\\n# Stage 2: Run\\nFROM node:18-alpine\\n\\nWORKDIR /app\\nCOPY --from=build /app/node_modules ./node_modules\\nCOPY --from=build /app .\\n\\nENV NODE_ENV=production\\nENV PORT=3000\\n\\nEXPOSE 3000\\nCMD [\\\"npm\\\", \\\"start\\\"]\\n\"},{\"title\":\"conf/nginx.conf\",\"language\":\"nginx\",\"content\":\"server {\\n    listen 3000;\\n    server_name localhost;\\n\\n    location / {\\n        proxy_pass http://localhost:3000;\\n        proxy_http_version 1.1;\\n        proxy_set_header Upgrade $http_upgrade;\\n        proxy_set_header Connection 'upgrade';\\n        proxy_set_header Host $host;\\n        proxy_cache_bypass $http_upgrade;\\n    }\\n}\\n\"}]",[1315,1566,697],{"id":1567},"ƒëang-c·∫≠p-nh·∫≠t",[10,1569,1570,1571,1575],{},"N·∫øu b·∫°n c√≥ c√°c c·∫•u h√¨nh ho·∫∑c Dockerfile kh√°c mu·ªën chia s·∫ª, vui l√≤ng g·ª≠i email v·ªÅ ",[453,1572,1574],{"href":1573},"mailto:vinhtieng123@gmail.com","vinhtieng123@gmail.com",". M√¨nh r·∫•t tr√¢n tr·ªçng ƒëi·ªÅu ƒë√≥.",{"title":494,"searchDepth":236,"depth":236,"links":1577},[1578,1579,1580,1581,1582,1583,1584],{"id":1497,"depth":236,"text":670},{"id":1516,"depth":236,"text":675},{"id":1522,"depth":236,"text":679},{"id":1528,"depth":236,"text":683},{"id":1542,"depth":236,"text":688},{"id":1561,"depth":236,"text":693},{"id":1567,"depth":236,"text":697},"T√¨m hi·ªÉu v·ªÅ Docker v√† kh√°m ph√° c√°c Dockerfile ph·ªï bi·∫øn cho nhi·ªÅu d·ª± √°n nh∆∞ Node.js, PHP v·ªõi Laravel, React, Vue, Nuxt v√† Next.js. Kh√°m ph√° c√°c k·ªπ thu·∫≠t t·ªëi ∆∞u v√† th·ª±c h√†nh t·ªët nh·∫•t.","/images/blog/common-docker-file/banner.webp","docker, dockerfile, file docker m·∫´u, dockerfile cho nodejs, dockerfile cho php, dockerfile cho react, dockerfile cho vue, dockerfile cho nuxt, dockerfile cho next",{},{"title":665,"description":1585},"blog/common-docker-file",[1592],"docker","ngoWrLm6syqa7aWjq2s0Or4XmD2WS_C5jmz1Gb9eNJc",{"id":1595,"title":702,"body":1596,"date":1901,"description":704,"extension":498,"image":1902,"keywords":1903,"meta":1904,"navigation":502,"path":701,"published":502,"seo":1905,"stem":1906,"tags":1907,"__hash__":1909},"blog/blog/jwt.md",{"type":7,"value":1597,"toc":1899},[1598,1601,1604,1614,1617,1631,1636,1639,1659,1661,1666,1673,1676,1679,1686,1701,1704,1707,1722,1725,1732,1735,1738,1741,1744,1756,1759,1762,1777,1788,1791,1794,1814,1820,1829,1832,1835,1854,1857,1860,1863,1865,1871,1874,1877],[51,1599,707],{"id":1600},"_1-gi·ªõi-thi·ªáu-v·ªÅ-jwt",[10,1602,1603],{},"JSON Web Token (JWT) l√† m·ªôt ti√™u chu·∫©n m·ªü ( RFC 7519 ) ƒë·ªãnh nghƒ©a m·ªôt c√°ch th·ª©c nh·ªè g·ªçn v√† ƒë·ªôc l·∫≠p ƒë·ªÉ truy·ªÅn th√¥ng tin an to√†n gi·ªØa c√°c b√™n d∆∞·ªõi d·∫°ng ƒë·ªëi t∆∞·ª£ng JSON. Th√¥ng tin n√†y c√≥ th·ªÉ ƒë∆∞·ª£c x√°c minh v√† tin c·∫≠y v√¨ n√≥ ƒë∆∞·ª£c k√Ω k·ªπ thu·∫≠t s·ªë. JWT c√≥ th·ªÉ ƒë∆∞·ª£c k√Ω b·∫±ng m·ªôt b√≠ m·∫≠t (v·ªõi thu·∫≠t to√°n HMAC ) ho·∫∑c m·ªôt c·∫∑p kh√≥a c√¥ng khai/ri√™ng t∆∞ b·∫±ng RSA ho·∫∑c ECDSA .",[10,1605,1606],{},[1607,1608,1609,1610],"em",{},"Tr√≠ch t·ª´: ",[453,1611,1612],{"href":1612,"rel":1613},"https://jwt.io/introduction",[457],[51,1615,712],{"id":1616},"_2-c√°c-th√†nh-ph·∫ßn-c·ªßa-jwt",[10,1618,1619,1620,1623,1624,1551,1627,1630],{},"JWT bao g·ªìm ba th√†nh ph·∫ßn ch√≠nh: ",[96,1621,1622],{},"Header",", ",[96,1625,1626],{},"Payload",[96,1628,1629],{},"Signature",". M·ªói ph·∫ßn ƒë·ªÅu ƒë∆∞·ª£c m√£ h√≥a b·∫±ng Base64Url v√† ƒë∆∞·ª£c ph√¢n t√°ch b·∫±ng d·∫•u ch·∫•m (.).\nM·ªôt JWT token th∆∞·ªùng s·∫Ω tr√¥ng nh∆∞ sau:",[83,1632,1633],{"type":1486},[10,1634,1635],{},"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c",[10,1637,1638],{},"nh∆∞ v·∫≠y v·ªõi JWT token ·ªü tr√™n th√¨ c√°c th√†nh ph·∫ßn sau khi ƒë∆∞·ª£c m√£ h√≥a s·∫Ω l√†:",[20,1640,1641,1647,1653],{},[23,1642,1643,1644],{},"Header: ",[96,1645,1646],{},"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9",[23,1648,1649,1650],{},"Payload: ",[96,1651,1652],{},"eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ",[23,1654,1655,1656],{},"Signature: ",[96,1657,1658],{},"SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c",[483,1660],{},[10,1662,1663],{},[13,1664,1665],{},"Chi ti·∫øt v·ªÅ c√°c th√†nh ph·∫ßn",[20,1667,1668],{},[23,1669,1670,1672],{},[13,1671,1622],{},": Th∆∞·ªùng s·∫Ω ch·ª©a th√¥ng tin v·ªÅ thu·∫≠t to√°n m√£ h√≥a v√† lo·∫°i token.",[10,1674,1675],{},"V√≠ d·ª•:",[59,1677],{":files":1678},"[{\"title\":\"json\",\"language\":\"json\",\"content\":\"{\\n  \\\"alg\\\": \\\"HS256\\\",\\n  \\\"typ\\\": \\\"JWT\\\"\\n}\\n\"}]",[20,1680,1681],{},[23,1682,1683,1685],{},[13,1684,1626],{},": ƒê√¢y l√† ph·∫ßn s·∫Ω ch·ª©a c√°c th√¥ng tin m√† ch√∫ng ta mu·ªën m√£ h√≥a v√† truy·ªÅn t·∫£i. Th∆∞·ªùng th√¨ ch√∫ng ta s·∫Ω l∆∞u th√¥ng tin ng∆∞·ªùi d√πng, user_id,...",[83,1687,1688],{"type":1486},[10,1689,1690,1691,1623,1694,1623,1697,1700],{},"L∆∞u √Ω r·∫±ng JWT token kh√¥ng c√≥ h·∫øt h·∫°n, tuy nhi√™n ch√∫ng ta c√≥ th·ªÉ gi·ªõi h·∫°n th·ªùi gian s·ªëng c·ªßa token b·∫±ng c√°ch th√™m c√°c tr∆∞·ªùng nh∆∞ ",[96,1692,1693],{},"exp",[96,1695,1696],{},"nbf",[96,1698,1699],{},"iat"," v√†o payload. V√† khi ch√∫ng ta x√°c th·ª±c token ch√∫ng ta s·∫Ω c·∫ßn th√™m m·ªôt b∆∞·ªõc ki·ªÉm tra th·ªùi gian s·ªëng c·ªßa token. Nh∆∞ v·∫≠y ch√∫ng ta c√≥ th·ªÉ s·ª≠ d·ª•ng JWT token nh∆∞ m·ªôt session token.",[10,1702,1703],{},"V√≠ d·ª• v·ªÅ payload:",[59,1705],{":files":1706},"[{\"title\":\"json\",\"language\":\"json\",\"content\":\"{\\n  \\\"sub\\\": \\\"1234567890\\\",\\n  \\\"name\\\": \\\"John Doe\\\",\\n  \\\"iat\\\": 1516239022\\n}\\n\"}]",[20,1708,1709],{},[23,1710,1711,1713,1714,1551,1716,1718,1719],{},[13,1712,1629],{},": ƒê∆∞·ª£c t·∫°o b·∫±ng c√°ch m√£ h√≥a ",[96,1715,1622],{},[96,1717,1626],{}," v·ªõi m·ªôt kh√≥a b√≠ m·∫≠t v√† thu·∫≠t to√°n ƒë√£ ch·ªâ ƒë·ªãnh trong Header. ƒêi·ªÅu n√†y gi√∫p ƒë·∫£m b·∫£o r·∫±ng token kh√¥ng b·ªã thay ƒë·ªïi trong qu√° tr√¨nh truy·ªÅn t·∫£i. V√≠ d·ª•:",[59,1720],{":files":1721},"[{\"title\":\"json\",\"language\":\"json\",\"content\":\"HMACSHA256(\\n  base64UrlEncode(header) + \\\".\\\" +\\n  base64UrlEncode(payload),\\n  your-256-bit-secret\\n)\\n\"}]",[51,1723,717],{"id":1724},"_3-vi·∫øt-l·∫°i-h√†m-ƒë·ªÉ-generate-jwt-token-v√†-verify-jwt-token-trong-nodejs",[10,1726,1727,1728,1731],{},"Khi l√†m vi·ªác v·ªõi jwt v√† nodeJs, h·∫ßu h·∫øt m·ªçi ng∆∞·ªùi s·∫Ω s·ª≠ d·ª•ng th∆∞ vi·ªán ",[96,1729,1730],{},"jsonwebtoken"," ƒë·ªÉ t·∫°o v√† x√°c th·ª±c JWT token. Tuy nhi√™n, ƒë·ªÉ hi·ªÉu r√µ h∆°n v·ªÅ c√°ch ho·∫°t ƒë·ªông c·ªßa JWT, ch√∫ng ta c√≥ th·ªÉ t·ª± vi·∫øt h√†m ƒë·ªÉ t·∫°o v√† x√°c th·ª±c JWT token.",[10,1733,1734],{},"Gi·∫£ s·ª≠ ch√∫ng ta mu·ªën t·∫°o JWT token t·ª´ th√¥ng tin user_id=123, khi ƒë√≥ ph·∫ßn payload s·∫Ω l√†:",[59,1736],{":files":1737},"[{\"title\":\"javascript\",\"language\":\"javascript\",\"content\":\"const payload = {\\n  user_id: 123\\n}\\n\"}]",[10,1739,1740],{},"·ªû ph·∫ßn header, ch√∫ng ta s·∫Ω s·ª≠ d·ª•ng thu·∫≠t to√°n HS256 ƒë·ªÉ m√£ h√≥a JWT token. N√™n payload s·∫Ω c√≥ d·∫°ng nh∆∞ sau:",[59,1742],{":files":1743},"[{\"title\":\"javascript\",\"language\":\"javascript\",\"content\":\"const header = {\\n  alg: 'HS256',\\n  typ: 'JWT'\\n}\\n\"}]",[10,1745,1746,1747,1551,1749,1751,1752,1551,1754,267],{},"ƒê·ªÉ t·∫°o JWT token, ch√∫ng ta c·∫ßn m√£ h√≥a ",[96,1748,1622],{},[96,1750,1626],{}," b·∫±ng Base64Url. Sau ƒë√≥, ch√∫ng ta s·∫Ω t·∫°o ch·ªØ k√Ω b·∫±ng c√°ch s·ª≠ d·ª•ng thu·∫≠t to√°n HMACSHA256 v·ªõi kh√≥a b√≠ m·∫≠t (secret key) v√† k·∫øt h·ª£p ",[96,1753,1622],{},[96,1755,1626],{},[10,1757,1758],{},"ƒê·∫ßu ti√™n ch√∫ng ta c·∫ßn vi·∫øt 1 h√†m ƒë·ªÉ m√£ h√≥a Base64Url:",[59,1760],{":files":1761},"[{\"title\":\"javascript\",\"language\":\"javascript\",\"content\":\"function base64UrlEncode(str) {\\n  return Buffer.from(str)\\n    .toString('base64')\\n    .replace(/=/g, '')\\n    .replace(/\\\\+/g, '-')\\n    .replace(/\\\\//g, '_');\\n}\\n\"}]",[10,1763,1764,1765,1768,1769,1772,1773,1776],{},"·ªû ƒë√¢y, v√¨ ch√∫ng ta s·ª≠ d·ª•ng NodeJs n√™n c√≥ th·ªÉ s·ª≠ d·ª•ng ",[96,1766,1767],{},"Buffer"," ƒë·ªÉ m√£ h√≥a Base64Url. N·∫øu b·∫°n ƒëang l√†m vi·ªác v·ªõi JavaScript tr√™n tr√¨nh duy·ªát, b·∫°n c√≥ th·ªÉ s·ª≠ d·ª•ng ",[96,1770,1771],{},"btoa()"," ƒë·ªÉ m√£ h√≥a Base64Url. Khi mu·ªën gi·∫£i m√£, b·∫°n c√≥ th·ªÉ s·ª≠ d·ª•ng ",[96,1774,1775],{},"atob()",". H√†m n√†y l√† h√†m c√≥ s·∫µn trong tr√¨nh duy·ªát.",[10,1778,1779,1780,1783,1784,1787],{},"Ti·∫øp theo, ch√∫ng ta s·∫Ω tri·ªÉn khai h√†m t·∫°o JWT token. Trong Node.js, ch√∫ng ta c√≥ th·ªÉ d·ªÖ d√†ng th·ª±c hi·ªán ƒëi·ªÅu n√†y b·∫±ng c√°ch d√πng th∆∞ vi·ªán t√≠ch h·ª£p s·∫µn l√† ",[96,1781,1782],{},"crypto",", c·ª• th·ªÉ l√† h√†m ",[96,1785,1786],{},"createHmac",". H√†m n√†y s·∫Ω gi√∫p ch√∫ng ta t·∫°o ra ch·ªØ k√Ω (signature) t·ª´ chu·ªói ƒë√£ m√£ h√≥a g·ªìm Header v√† Payload, k·∫øt h·ª£p v·ªõi secret key ƒë·ªÉ ƒë·∫£m b·∫£o t√≠nh to√†n v·∫πn v√† x√°c th·ª±c c·ªßa token.",[10,1789,1790],{},"Full code m√£ h√≥a JWT token s·∫Ω nh∆∞ sau:",[59,1792],{":files":1793},"[{\"title\":\"javascript\",\"language\":\"javascript\",\"content\":\"const crypto = require('crypto');\\nfunction base64UrlEncode(str) {\\n  return Buffer.from(str)\\n    .toString('base64')\\n    .replace(/=/g, '')\\n    .replace(/\\\\+/g, '-')\\n    .replace(/\\\\//g, '_');\\n}\\n\\nfunction createJWT(payload, secret) {\\n  const header = {\\n    alg: 'HS256',\\n    typ: 'JWT'\\n  };\\n\\n  const encodedHeader = base64UrlEncode(JSON.stringify(header));\\n  const encodedPayload = base64UrlEncode(JSON.stringify(payload));\\n\\n  const signature = crypto\\n    .createHmac('sha256', secret)\\n    .update(`${encodedHeader}.${encodedPayload}`)\\n    .digest('base64')\\n    .replace(/=/g, '')\\n    .replace(/\\\\+/g, '-')\\n    .replace(/\\\\//g, '_');\\n\\n  return `${encodedHeader}.${encodedPayload}.${signature}`;\\n}\\n\"}]",[10,1795,1796,1797,1800,1801,1551,1804,1807,1808,1810,1811,1813],{},"Nh∆∞ v·∫≠y ch√∫ng ta ƒë√£ c√≥ h√†m ",[96,1798,1799],{},"createJWT"," ƒë·ªÉ t·∫°o JWT token. H√†m n√†y s·∫Ω nh·∫≠n v√†o 2 tham s·ªë l√† ",[96,1802,1803],{},"payload",[96,1805,1806],{},"secret",". ",[96,1809,1803],{}," l√† th√¥ng tin m√† ch√∫ng ta mu·ªën m√£ h√≥a v√† truy·ªÅn t·∫£i, c√≤n ",[96,1812,1806],{}," l√† kh√≥a b√≠ m·∫≠t m√† ch√∫ng ta s·∫Ω s·ª≠ d·ª•ng ƒë·ªÉ t·∫°o ch·ªØ k√Ω cho token.",[83,1815,1817],{"type":1816},"error",[10,1818,1819],{},"ƒê·ªëi v·ªõi JWT token, ch√∫ng ta c√≥ th·ªÉ s·ª≠ d·ª•ng b·∫•t k·ª≥ chu·ªói n√†o l√†m kh√≥a b√≠ m·∫≠t. Tuy nhi√™n, ƒë·ªÉ ƒë·∫£m b·∫£o t√≠nh b·∫£o m·∫≠t, ch√∫ng ta n√™n s·ª≠ d·ª•ng m·ªôt chu·ªói ng·∫´u nhi√™n v√† ƒë·ªß d√†i. V√¨ khi s·ª≠ d·ª•ng thu·∫≠t to√°n HMACSHA256, n·∫øu k·∫ª t·∫•n c√¥ng bi·∫øt ƒë∆∞·ª£c kh√≥a b√≠ m·∫≠t, h·ªç c√≥ th·ªÉ t·∫°o ra token gi·∫£ m·∫°o v√† truy c·∫≠p v√†o h·ªá th·ªëng c·ªßa b·∫°n.",[10,1821,1822,1823,1828],{},"C√≥ th·ªÉ s·ª≠ d·ª•ng trang web ",[453,1824,1827],{"href":1825,"rel":1826},"https://randomkeygen.com/",[457],"randomkeygen.com"," ƒë·ªÉ t·∫°o ra m·ªôt chu·ªói ng·∫´u nhi√™n v√† ƒë·ªß d√†i l√†m kh√≥a b√≠ m·∫≠t.",[51,1830,722],{"id":1831},"_4-x√°c-th·ª±c-jwt-token",[10,1833,1834],{},"Token JWT g·ªìm ba ph·∫ßn: Header, Payload v√† Signature, ƒë∆∞·ª£c n·ªëi v·ªõi nhau b·∫±ng d·∫•u ch·∫•m (.). Qu√° tr√¨nh x√°c th·ª±c di·ªÖn ra nh∆∞ sau:",[216,1836,1837,1840,1843],{},[23,1838,1839],{},"T√°ch token th√†nh ba ph·∫ßn: Header, Payload v√† Signature.",[23,1841,1842],{},"T·∫°o l·∫°i ch·ªØ k√Ω b·∫±ng c√°ch k·∫øt h·ª£p Header v√† Payload ƒë√£ m√£ h√≥a b·∫±ng Base64Url, sau ƒë√≥ s·ª≠ d·ª•ng c√πng thu·∫≠t to√°n v√† kh√≥a b√≠ m·∫≠t (secret key) ƒë√£ ƒë∆∞·ª£c d√πng khi t·∫°o token ban ƒë·∫ßu.",[23,1844,1845,1846],{},"So s√°nh ch·ªØ k√Ω m·ªõi t·∫°o v·ªõi ch·ªØ k√Ω ban ƒë·∫ßu trong token:\n",[20,1847,1848,1851],{},[23,1849,1850],{},"N·∫øu hai ch·ªØ k√Ω gi·ªëng nhau, token ƒë∆∞·ª£c x√°c nh·∫≠n l√† h·ª£p l·ªá (kh√¥ng b·ªã ch·ªânh s·ª≠a).",[23,1852,1853],{},"N·∫øu kh√°c nhau, token ƒë√£ b·ªã thay ƒë·ªïi ho·∫∑c kh√¥ng h·ª£p l·ªá.",[59,1855],{":files":1856},"[{\"title\":\"javascript\",\"language\":\"javascript\",\"content\":\"function verifyJWT(token, secret) {\\n  const [encodedHeader, encodedPayload, signature] = token.split('.');\\n  const expectedSignature = crypto\\n    .createHmac('sha256', secret)\\n    .update(`${encodedHeader}.${encodedPayload}`)\\n    .digest('base64')\\n    .replace(/=/g, '')\\n    .replace(/\\\\+/g, '-')\\n    .replace(/\\\\//g, '_');\\n\\n  return expectedSignature === signature;\\n}\\nconst token = createJWT(payload, secret);\\nconst isValid = verifyJWT(token, secret);\\nconsole.log('Token is valid:', isValid);\\n\"}]",[10,1858,1859],{},"Ngo√†i ra, ƒë·ªÉ ki·ªÉm tra xem token c√≥ h·∫øt h·∫°n hay ch∆∞a, b·∫°n c√≥ th·ªÉ th√™m tr∆∞·ªùng exp (expiration) v√†o Payload. Tr∆∞·ªùng n√†y l∆∞u th·ªùi gian h·∫øt h·∫°n d∆∞·ªõi d·∫°ng timestamp (s·ªë gi√¢y k·ªÉ t·ª´ ng√†y 1/1/1970). Khi x√°c th·ª±c, ch·ªâ c·∫ßn so s√°nh gi√° tr·ªã exp v·ªõi th·ªùi gian hi·ªán t·∫°i ƒë·ªÉ bi·∫øt token c√≤n hi·ªáu l·ª±c hay kh√¥ng.",[59,1861],{":files":1862},"[{\"title\":\"javascript\",\"language\":\"javascript\",\"content\":\"const payload = {\\n  user_id: 123,\\n  exp: Math.floor(Date.now() / 1000) + (60 * 60) // H·∫øt h·∫°n sau 1 gi·ªù\\n};\\nconst token = createJWT(payload, secret);\\nconst isValid = verifyJWT(token, secret);\\nconst decodedPayload = JSON.parse(Buffer.from(token.split('.')[1], 'base64').toString());\\nconst isExpired = decodedPayload.exp \u003C Math.floor(Date.now() / 1000);\\nconsole.log('Token is valid:', isValid);\\nconsole.log('Token is expired:', isExpired);\\n\"}]",[51,1864,727],{"id":1423},[10,1866,1867,1868,1870],{},"JWT l√† m·ªôt c√¥ng c·ª• m·∫°nh m·∫Ω ƒë·ªÉ x√°c th·ª±c v√† ph√¢n quy·ªÅn trong c√°c ·ª©ng d·ª•ng web. B·∫±ng c√°ch hi·ªÉu r√µ c√°ch ho·∫°t ƒë·ªông c·ªßa JWT, b·∫°n c√≥ th·ªÉ t·ª± t·∫°o v√† x√°c th·ª±c JWT token m√† kh√¥ng c·∫ßn ph·ª• thu·ªôc v√†o th∆∞ vi·ªán b√™n ngo√†i. Tuy nhi√™n, trong th·ª±c t·∫ø, b·∫°n n√™n s·ª≠ d·ª•ng th∆∞ vi·ªán ",[96,1869,1730],{}," ƒë·ªÉ ti·∫øt ki·ªám th·ªùi gian v√† c√¥ng s·ª©c.",[10,1872,1873],{},"Hy v·ªçng b√†i vi·∫øt n√†y ƒë√£ gi√∫p b·∫°n hi·ªÉu r√µ h∆°n v·ªÅ JWT v√† c√°ch s·ª≠ d·ª•ng n√≥ trong ·ª©ng d·ª•ng c·ªßa m√¨nh. N·∫øu b·∫°n c√≥ b·∫•t k·ª≥ c√¢u h·ªèi n√†o, h√£y li√™n h·ªá v·ªõi m√¨nh qua c√°c k√™nh li√™n l·∫°c nh∆∞ email, facebook, zalo ho·∫∑c telegram nh√©!",[51,1875,732],{"id":1876},"_6-t√†i-li·ªáu-tham-kh·∫£o",[20,1878,1879,1886,1893],{},[23,1880,1881],{},[453,1882,1885],{"href":1883,"rel":1884},"https://jwt.io/",[457],"jwt.io",[23,1887,1888],{},[453,1889,1892],{"href":1890,"rel":1891},"https://datatracker.ietf.org/doc/html/rfc7519",[457],"RFC 7519 - JSON Web Token (JWT)",[23,1894,1895],{},[453,1896,1730],{"href":1897,"rel":1898},"https://www.npmjs.com/package/jsonwebtoken",[457],{"title":494,"searchDepth":236,"depth":236,"links":1900},[],"2025-05-05T00:00:00.000Z","/images/blog/jwt/banner.webp","jwt, jsonwebtoken, nodejs, b·∫£o m·∫≠t, x√°c th·ª±c",{},{"title":702,"description":704},"blog/jwt",[1908],"npm","yD1lXH-8Az6ik7WFkgSdIc4k5xNC5W8to4G-L9vWpKw",{"id":1911,"title":737,"body":1912,"date":2092,"description":739,"extension":498,"image":2093,"keywords":2094,"meta":2095,"navigation":502,"path":736,"published":502,"seo":2096,"stem":2097,"tags":2098,"__hash__":2101},"blog/blog/use-effect-and-use-layout-effect.md",{"type":7,"value":1913,"toc":2086},[1914,1917,1925,1927,1930,1936,1951,1956,1973,1978,1989,1993,2007,2012],[51,1915,742],{"id":1916},"useeffect-v√†-uselayouteffect-trong-react",[10,1918,1919,1920,1551,1922,1924],{},"React cung c·∫•p hai hook m·∫°nh m·∫Ω ƒë·ªÉ x·ª≠ l√Ω hi·ªáu ·ª©ng ph·ª•: ",[96,1921,751],{},[96,1923,757],{},". Tuy ch√∫ng c√≥ c√∫ ph√°p gi·ªëng nhau, nh∆∞ng c√°ch ch√∫ng ho·∫°t ƒë·ªông kh√°c bi·ªát v√† ·∫£nh h∆∞·ªüng tr·ª±c ti·∫øp ƒë·∫øn tr·∫£i nghi·ªám ng∆∞·ªùi d√πng c≈©ng nh∆∞ hi·ªáu su·∫•t c·ªßa ·ª©ng d·ª•ng.",[48,1926],{},[1315,1928,747],{"id":1929},"t√≥m-t·∫Øt-quy-tr√¨nh-th·ª±c-thi",[1931,1932,1934],"h3",{"id":1933},"useeffect",[96,1935,751],{},[20,1937,1938,1944],{},[23,1939,1940,1941,267],{},"Ch·∫°y ",[13,1942,1943],{},"sau khi React c·∫≠p nh·∫≠t DOM xong v√† render UI xong",[23,1945,1946,1947,1950],{},"Th√≠ch h·ª£p cho c√°c ",[13,1948,1949],{},"t√°c v·ª• kh√¥ng ·∫£nh h∆∞·ªüng tr·ª±c ti·∫øp ƒë·∫øn layout",", nh∆∞ g·ªçi API, ƒëƒÉng k√Ω s·ª± ki·ªán, log, animation nh·∫π‚Ä¶",[10,1952,1953],{},[13,1954,1955],{},"Quy tr√¨nh:",[216,1957,1958,1961,1964,1967,1970],{},[23,1959,1960],{},"C·∫≠p nh·∫≠t l·∫°i state",[23,1962,1963],{},"C·∫≠p nh·∫≠t DOM (mutated)",[23,1965,1966],{},"React render l·∫°i UI",[23,1968,1969],{},"Clean up n·∫øu c√≥",[23,1971,1972],{},"G·ªçi useEffect callback",[1931,1974,1976],{"id":1975},"uselayouteffect",[96,1977,757],{},[20,1979,1980,1986],{},[23,1981,1982,1983,267],{},"Ch·∫°y ngay sau khi DOM ƒë∆∞·ª£c c·∫≠p nh·∫≠t, nh∆∞ng ",[13,1984,1985],{},"tr∆∞·ªõc khi browser v·∫Ω l·∫°i giao di·ªán (paint)",[23,1987,1988],{},"D√πng khi b·∫°n c·∫ßn ƒëo l∆∞·ªùng DOM, thay ƒë·ªïi layout ho·∫∑c ngƒÉn nh·∫•p nh√°y giao di·ªán.",[10,1990,1991],{},[13,1992,1955],{},[216,1994,1995,1997,1999,2002,2005],{},[23,1996,1960],{},[23,1998,1963],{},[23,2000,2001],{},"Clean up n·∫øu dependencies thay ƒë·ªïi",[23,2003,2004],{},"G·ªçi useLayoutEffect callback",[23,2006,1966],{},[10,2008,2009],{},[13,2010,2011],{},"Khi n√†o d√πng c√°i n√†o?",[2013,2014,2015,2028],"table",{},[2016,2017,2018],"thead",{},[2019,2020,2021,2025],"tr",{},[2022,2023,2024],"th",{},"T√¨nh hu·ªëng",[2022,2026,2027],{},"N√™n d√πng",[2029,2030,2031,2041,2050,2059,2068,2077],"tbody",{},[2019,2032,2033,2037],{},[2034,2035,2036],"td",{},"G·ªçi API, thao t√°c kh√¥ng ·∫£nh h∆∞·ªüng layout",[2034,2038,2039],{},[96,2040,751],{},[2019,2042,2043,2046],{},[2034,2044,2045],{},"ƒêo k√≠ch th∆∞·ªõc DOM, scroll, position",[2034,2047,2048],{},[96,2049,757],{},[2019,2051,2052,2055],{},[2034,2053,2054],{},"C·∫≠p nh·∫≠t class, focus v√†o input",[2034,2056,2057],{},[96,2058,757],{},[2019,2060,2061,2064],{},[2034,2062,2063],{},"Hi·ªáu ·ª©ng animation nh·∫π sau render",[2034,2065,2066],{},[96,2067,751],{},[2019,2069,2070,2073],{},[2034,2071,2072],{},"NgƒÉn nh√°y layout (flicker) khi hi·ªÉn th·ªã components",[2034,2074,2075],{},[96,2076,757],{},[2019,2078,2079,2082],{},[2034,2080,2081],{},"C·∫≠p nh·∫≠t DOM tr∆∞·ªõc khi browser v·∫Ω l·∫°i",[2034,2083,2084],{},[96,2085,757],{},{"title":494,"searchDepth":236,"depth":236,"links":2087},[2088],{"id":1929,"depth":236,"text":747,"children":2089},[2090,2091],{"id":1933,"depth":754,"text":751},{"id":1975,"depth":754,"text":757},"2025-05-06T00:00:00.000Z","/images/blog/use-effect-and-use-layout-effect/banner.webp","react, useEffect, useLayoutEffect, react hooks, hi·ªáu nƒÉng react",{},{"title":737,"description":739},"blog/use-effect-and-use-layout-effect",[2099,2100],"react","hooks","HXO6Sisd7tUFKWbj14nolEED4VvAwDgBBQlMW2pMGXc",{"id":2103,"title":762,"body":2104,"date":1901,"description":764,"extension":498,"image":2160,"keywords":2161,"meta":2162,"navigation":502,"path":761,"published":502,"seo":2163,"stem":2164,"tags":2165,"__hash__":2166},"blog/blog/useful-npm-package.md",{"type":7,"value":2105,"toc":2158},[2106,2109,2141,2144,2148,2151],[51,2107,767],{"id":2108},"frontend",[20,2110,2111,2123,2129,2135],{},[23,2112,2113,2116,2117,2122],{},[96,2114,2115],{},"react-query"," - ",[453,2118,2121],{"href":2119,"rel":2120},"https://react-query.tanstack.com/",[457],"React Query"," Th∆∞ vi·ªán qu·∫£n l√Ω tr·∫°ng th√°i cho React, gi√∫p x·ª≠ l√Ω c√°c y√™u c·∫ßu API v√† cache d·ªØ li·ªáu m·ªôt c√°ch d·ªÖ d√†ng.",[23,2124,2125,2128],{},[96,2126,2127],{},"@progress/kendo-react-pdf"," - Th∆∞ vi·ªán t·∫°o PDF cho React, hay h∆°n c√°c th∆∞ vi·ªán kh√°c ·ªü ch·ªó h√¨nh ·∫£nh s·∫Ω ƒë∆∞·ª£c xu·∫•t ra d∆∞·ªõi ƒë·ªãnh d·∫°ng SVG, gi√∫p cho vi·ªác xu·∫•t ·∫£nh ch·∫•t l∆∞·ª£ng cao v√† n√©t h∆°n, kh√¥ng b·ªã v·ª° ·∫£nh khi zoom in.",[23,2130,2131,2134],{},[96,2132,2133],{},"react-split-pane"," - Th∆∞ vi·ªán t·∫°o giao di·ªán chia t√°ch (split view) cho React, gi√∫p d·ªÖ d√†ng t·∫°o c√°c layout v·ªõi c√°c ph·∫ßn t·ª≠ c√≥ th·ªÉ k√©o v√† th·∫£.",[23,2136,2137,2140],{},[96,2138,2139],{},"react-window"," - Th∆∞ vi·ªán gi√∫p t·ªëi ∆∞u h√≥a hi·ªáu su·∫•t cho b·∫£ng v√† danh s√°ch l·ªõn trong React b·∫±ng c√°ch ch·ªâ render c√°c ph·∫ßn t·ª≠ ƒëang hi·ªÉn th·ªã tr√™n UI nh·∫π v√† d·ªÖ s·ª≠ d·ª•ng.",[51,2142,772],{"id":2143},"backend",[20,2145,2146],{},[23,2147,774],{},[51,2149,777],{"id":2150},"c√°c-ƒëo·∫°n-code-m·∫´u-h·ªØu-d·ª•ng",[20,2152,2153],{},[23,2154,779,2155],{},[59,2156],{":files":2157},"[{\"title\":\"javascript\",\"language\":\"javascript\",\"content\":\"export const sendEvent = (eventName, detail) => {\\n  document.dispatchEvent(new CustomEvent(eventName, { detail }));\\n}\\nexport const listenEvent = (eventName, callback, context = document) => {\\n  context.addEventListener(eventName, callback);\\n  return () => context.removeEventListener(eventName, callback);\\n}\\n\"}]",{"title":494,"searchDepth":236,"depth":236,"links":2159},[],"/images/blog/useful-npm-package/banner.webp","npm, package, frontend, backend",{},{"title":762,"description":764},"blog/useful-npm-package",[1908],"3WcFSlvMJI3UivaSkcCnPhkOghwUynB93HX-3qAii7M",{"id":2168,"title":782,"body":2169,"date":2092,"description":784,"extension":498,"image":2211,"keywords":2212,"meta":2213,"navigation":502,"path":781,"published":502,"seo":2214,"stem":2215,"tags":2216,"__hash__":2218},"blog/blog/useful-script.md",{"type":7,"value":2170,"toc":2209},[2171,2174,2179,2186,2189,2197,2200,2203,2206],[51,2172,787],{"id":2173},"n√©n-·∫£nh-v√†-convert-·∫£nh-sang-ƒë·ªãnh-d·∫°ng-webp",[20,2175,2176],{},[23,2177,2178],{},"C√†i ƒë·∫∑t cwebp",[10,2180,2181,2182],{},"ƒê·ªëi v·ªõi window th√¨ c√≥ th·ªÉ xem h∆∞·ªõng d·∫´n t·∫°i: ",[453,2183,2184],{"href":2184,"rel":2185},"https://developers.google.com/speed/webp/download?hl=vi",[457],[59,2187],{":files":2188},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"# C√†i ƒë·∫∑t cwebp tr√™n Ubuntu\\nsudo apt-get install webp\\n# C√†i ƒë·∫∑t cwebp tr√™n MacOS\\nbrew install webp\\n\"}]",[20,2190,2191],{},[23,2192,2193,2194],{},"Script n√©n ·∫£nh",[59,2195],{":files":2196},"[{\"title\":\"compress-image.sh\",\"language\":\"bash\",\"content\":\"#!/bin/bash\\n# Ki·ªÉm tra ƒë·ªëi s·ªë ƒë·∫ßu v√†o\\nif [ -z \\\"$1\\\" ]; then\\n  echo \\\"‚ùå Vui l√≤ng cung c·∫•p ƒë∆∞·ªùng d·∫´n file ·∫£nh.\\\"\\n  echo \\\"üëâ V√≠ d·ª•: ./compress-local-image.sh ./image.png\\\"\\n  exit 1\\nfi\\n\\nINPUT=\\\"$1\\\"\\n\\n# Ki·ªÉm tra file t·ªìn t·∫°i\\nif [ ! -f \\\"$INPUT\\\" ]; then\\n  echo \\\"‚ùå File kh√¥ng t·ªìn t·∫°i: $INPUT\\\"\\n  exit 1\\nfi\\n\\n# L·∫•y t√™n file\\nBASENAME=$(basename \\\"$INPUT\\\")\\nFILENAME=\\\"${BASENAME%.*}\\\"\\nEXT=\\\"${BASENAME##*.}\\\"\\n\\n# N√©n v√† chuy·ªÉn sang WebP\\necho \\\"üîÑ ƒêang n√©n v√† chuy·ªÉn sang WebP...\\\"\\ncwebp -q 80 \\\"$INPUT\\\" -o \\\"${FILENAME}.webp\\\"\\n\\necho \\\"‚úÖ ƒê√£ t·∫°o file: ${FILENAME}.webp\\\"\\n\"}]",[10,2198,2199],{},"Sau khi t·∫°o xong file, c·∫ßn ph·∫£i g√°n quy·ªÅn th·ª±c thi cho file script b·∫±ng l·ªánh sau:",[59,2201],{":files":2202},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"chmod +x compress-image.sh\\n\"}]",[10,2204,2205],{},"Sau ƒë√≥ c√≥ th·ªÉ ch·∫°y script ƒë·ªÉ c√≥ th·ªÉ th·ª±c hi·ªán n√©n ·∫£nh v√† chuy·ªÉn ƒë·ªïi sang ƒë·ªãnh d·∫°ng webp.",[59,2207],{":files":2208},"[{\"title\":\"bash\",\"language\":\"bash\",\"content\":\"./compress-image.sh ./image.png\\n\"}]",{"title":494,"searchDepth":236,"depth":236,"links":2210},[],"/images/blog/useful-script/banner.webp","scripts, useful scripts",{},{"title":782,"description":784},"blog/useful-script",[2217],"scripts","p2CPfckDeoI2knSQ-ynr8rSQk_PPFQZKh6qH2TkcMP0",1747813157097]